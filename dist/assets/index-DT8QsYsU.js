var iL=Object.defineProperty;var bb=e=>{throw TypeError(e)};var aL=(e,t,n)=>t in e?iL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var dn=(e,t,n)=>aL(e,typeof t!="symbol"?t+"":t,n),pv=(e,t,n)=>t.has(e)||bb("Cannot "+n);var Le=(e,t,n)=>(pv(e,t,"read from private field"),n?n.call(e):t.get(e)),tn=(e,t,n)=>t.has(e)?bb("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),It=(e,t,n,r)=>(pv(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Br=(e,t,n)=>(pv(e,t,"access private method"),n);var Cp=(e,t,n,r)=>({set _(s){It(e,t,s,n)},get _(){return Le(e,t,r)}});function oL(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $N(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lL(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var UN={exports:{}},Pg={},zN={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf=Symbol.for("react.element"),cL=Symbol.for("react.portal"),uL=Symbol.for("react.fragment"),dL=Symbol.for("react.strict_mode"),hL=Symbol.for("react.profiler"),fL=Symbol.for("react.provider"),pL=Symbol.for("react.context"),mL=Symbol.for("react.forward_ref"),gL=Symbol.for("react.suspense"),vL=Symbol.for("react.memo"),yL=Symbol.for("react.lazy"),_b=Symbol.iterator;function xL(e){return e===null||typeof e!="object"?null:(e=_b&&e[_b]||e["@@iterator"],typeof e=="function"?e:null)}var qN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WN=Object.assign,HN={};function ad(e,t,n){this.props=e,this.context=t,this.refs=HN,this.updater=n||qN}ad.prototype.isReactComponent={};ad.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ad.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function VN(){}VN.prototype=ad.prototype;function $2(e,t,n){this.props=e,this.context=t,this.refs=HN,this.updater=n||qN}var U2=$2.prototype=new VN;U2.constructor=$2;WN(U2,ad.prototype);U2.isPureReactComponent=!0;var Sb=Array.isArray,GN=Object.prototype.hasOwnProperty,z2={current:null},KN={key:!0,ref:!0,__self:!0,__source:!0};function YN(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)GN.call(t,r)&&!KN.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:jf,type:e,key:i,ref:o,props:s,_owner:z2.current}}function wL(e,t){return{$$typeof:jf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function q2(e){return typeof e=="object"&&e!==null&&e.$$typeof===jf}function bL(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Nb=/\/+/g;function mv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bL(""+e.key):t.toString(36)}function pm(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case jf:case cL:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+mv(o,0):r,Sb(s)?(n="",e!=null&&(n=e.replace(Nb,"$&/")+"/"),pm(s,t,n,"",function(u){return u})):s!=null&&(q2(s)&&(s=wL(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Nb,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Sb(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+mv(i,l);o+=pm(i,t,n,c,s)}else if(c=xL(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+mv(i,l++),o+=pm(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function kp(e,t,n){if(e==null)return e;var r=[],s=0;return pm(e,r,"","",function(i){return t.call(n,i,s++)}),r}function _L(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ls={current:null},mm={transition:null},SL={ReactCurrentDispatcher:ls,ReactCurrentBatchConfig:mm,ReactCurrentOwner:z2};function XN(){throw Error("act(...) is not supported in production builds of React.")}Ht.Children={map:kp,forEach:function(e,t,n){kp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return kp(e,function(){t++}),t},toArray:function(e){return kp(e,function(t){return t})||[]},only:function(e){if(!q2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ht.Component=ad;Ht.Fragment=uL;Ht.Profiler=hL;Ht.PureComponent=$2;Ht.StrictMode=dL;Ht.Suspense=gL;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SL;Ht.act=XN;Ht.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=WN({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=z2.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)GN.call(t,c)&&!KN.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:jf,type:e.type,key:s,ref:i,props:r,_owner:o}};Ht.createContext=function(e){return e={$$typeof:pL,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fL,_context:e},e.Consumer=e};Ht.createElement=YN;Ht.createFactory=function(e){var t=YN.bind(null,e);return t.type=e,t};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(e){return{$$typeof:mL,render:e}};Ht.isValidElement=q2;Ht.lazy=function(e){return{$$typeof:yL,_payload:{_status:-1,_result:e},_init:_L}};Ht.memo=function(e,t){return{$$typeof:vL,type:e,compare:t===void 0?null:t}};Ht.startTransition=function(e){var t=mm.transition;mm.transition={};try{e()}finally{mm.transition=t}};Ht.unstable_act=XN;Ht.useCallback=function(e,t){return ls.current.useCallback(e,t)};Ht.useContext=function(e){return ls.current.useContext(e)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(e){return ls.current.useDeferredValue(e)};Ht.useEffect=function(e,t){return ls.current.useEffect(e,t)};Ht.useId=function(){return ls.current.useId()};Ht.useImperativeHandle=function(e,t,n){return ls.current.useImperativeHandle(e,t,n)};Ht.useInsertionEffect=function(e,t){return ls.current.useInsertionEffect(e,t)};Ht.useLayoutEffect=function(e,t){return ls.current.useLayoutEffect(e,t)};Ht.useMemo=function(e,t){return ls.current.useMemo(e,t)};Ht.useReducer=function(e,t,n){return ls.current.useReducer(e,t,n)};Ht.useRef=function(e){return ls.current.useRef(e)};Ht.useState=function(e){return ls.current.useState(e)};Ht.useSyncExternalStore=function(e,t,n){return ls.current.useSyncExternalStore(e,t,n)};Ht.useTransition=function(){return ls.current.useTransition()};Ht.version="18.3.1";zN.exports=Ht;var _=zN.exports;const We=$N(_),W2=oL({__proto__:null,default:We},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NL=_,jL=Symbol.for("react.element"),EL=Symbol.for("react.fragment"),CL=Object.prototype.hasOwnProperty,kL=NL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AL={key:!0,ref:!0,__self:!0,__source:!0};function JN(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)CL.call(t,r)&&!AL.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:jL,type:e,key:i,ref:o,props:s,_owner:kL.current}}Pg.Fragment=EL;Pg.jsx=JN;Pg.jsxs=JN;UN.exports=Pg;var a=UN.exports,QN={exports:{}},Gs={},ZN={exports:{}},ej={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,G){var oe=V.length;V.push(G);e:for(;0<oe;){var ae=oe-1>>>1,O=V[ae];if(0<s(O,G))V[ae]=G,V[oe]=O,oe=ae;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var G=V[0],oe=V.pop();if(oe!==G){V[0]=oe;e:for(var ae=0,O=V.length,T=O>>>1;ae<T;){var U=2*(ae+1)-1,W=V[U],Q=U+1,Y=V[Q];if(0>s(W,oe))Q<O&&0>s(Y,W)?(V[ae]=Y,V[Q]=oe,ae=Q):(V[ae]=W,V[U]=oe,ae=U);else if(Q<O&&0>s(Y,oe))V[ae]=Y,V[Q]=oe,ae=Q;else break e}}return G}function s(V,G){var oe=V.sortIndex-G.sortIndex;return oe!==0?oe:V.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,p=null,m=3,h=!1,b=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=V)r(u),G.sortIndex=G.expirationTime,t(c,G);else break;G=n(u)}}function k(V){if(v=!1,S(V),!b)if(n(c)!==null)b=!0,ie(D);else{var G=n(u);G!==null&&te(k,G.startTime-V)}}function D(V,G){b=!1,v&&(v=!1,y(L),L=-1),h=!0;var oe=m;try{for(S(G),p=n(c);p!==null&&(!(p.expirationTime>G)||V&&!E());){var ae=p.callback;if(typeof ae=="function"){p.callback=null,m=p.priorityLevel;var O=ae(p.expirationTime<=G);G=e.unstable_now(),typeof O=="function"?p.callback=O:p===n(c)&&r(c),S(G)}else r(c);p=n(c)}if(p!==null)var T=!0;else{var U=n(u);U!==null&&te(k,U.startTime-G),T=!1}return T}finally{p=null,m=oe,h=!1}}var A=!1,R=null,L=-1,C=5,M=-1;function E(){return!(e.unstable_now()-M<C)}function P(){if(R!==null){var V=e.unstable_now();M=V;var G=!0;try{G=R(!0,V)}finally{G?z():(A=!1,R=null)}}else A=!1}var z;if(typeof x=="function")z=function(){x(P)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Z=$.port2;$.port1.onmessage=P,z=function(){Z.postMessage(null)}}else z=function(){w(P,0)};function ie(V){R=V,A||(A=!0,z())}function te(V,G){L=w(function(){V(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){b||h||(b=!0,ie(D))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(V){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var oe=m;m=G;try{return V()}finally{m=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var oe=m;m=V;try{return G()}finally{m=oe}},e.unstable_scheduleCallback=function(V,G,oe){var ae=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ae+oe:ae):oe=ae,V){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=oe+O,V={id:d++,callback:G,priorityLevel:V,startTime:oe,expirationTime:O,sortIndex:-1},oe>ae?(V.sortIndex=oe,t(u,V),n(c)===null&&V===n(u)&&(v?(y(L),L=-1):v=!0,te(k,oe-ae))):(V.sortIndex=O,t(c,V),b||h||(b=!0,ie(D))),V},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(V){var G=m;return function(){var oe=m;m=G;try{return V.apply(this,arguments)}finally{m=oe}}}})(ej);ZN.exports=ej;var PL=ZN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LL=_,Hs=PL;function $e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tj=new Set,Uh={};function Nc(e,t){Wu(e,t),Wu(e+"Capture",t)}function Wu(e,t){for(Uh[e]=t,e=0;e<t.length;e++)tj.add(t[e])}var qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),W1=Object.prototype.hasOwnProperty,TL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jb={},Eb={};function IL(e){return W1.call(Eb,e)?!0:W1.call(jb,e)?!1:TL.test(e)?Eb[e]=!0:(jb[e]=!0,!1)}function RL(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OL(e,t,n,r){if(t===null||typeof t>"u"||RL(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function cs(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Dr[e]=new cs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Dr[t]=new cs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Dr[e]=new cs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Dr[e]=new cs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Dr[e]=new cs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Dr[e]=new cs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Dr[e]=new cs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Dr[e]=new cs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Dr[e]=new cs(e,5,!1,e.toLowerCase(),null,!1,!1)});var H2=/[\-:]([a-z])/g;function V2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(H2,V2);Dr[t]=new cs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(H2,V2);Dr[t]=new cs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(H2,V2);Dr[t]=new cs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Dr[e]=new cs(e,1,!1,e.toLowerCase(),null,!1,!1)});Dr.xlinkHref=new cs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Dr[e]=new cs(e,1,!1,e.toLowerCase(),null,!0,!0)});function G2(e,t,n,r){var s=Dr.hasOwnProperty(t)?Dr[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OL(t,n,s,r)&&(n=null),r||s===null?IL(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xa=LL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ap=Symbol.for("react.element"),cu=Symbol.for("react.portal"),uu=Symbol.for("react.fragment"),K2=Symbol.for("react.strict_mode"),H1=Symbol.for("react.profiler"),nj=Symbol.for("react.provider"),rj=Symbol.for("react.context"),Y2=Symbol.for("react.forward_ref"),V1=Symbol.for("react.suspense"),G1=Symbol.for("react.suspense_list"),X2=Symbol.for("react.memo"),ko=Symbol.for("react.lazy"),sj=Symbol.for("react.offscreen"),Cb=Symbol.iterator;function Jd(e){return e===null||typeof e!="object"?null:(e=Cb&&e[Cb]||e["@@iterator"],typeof e=="function"?e:null)}var Gn=Object.assign,gv;function gh(e){if(gv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gv=t&&t[1]||""}return`
`+gv+e}var vv=!1;function yv(e,t){if(!e||vv)return"";vv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{vv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gh(e):""}function DL(e){switch(e.tag){case 5:return gh(e.type);case 16:return gh("Lazy");case 13:return gh("Suspense");case 19:return gh("SuspenseList");case 0:case 2:case 15:return e=yv(e.type,!1),e;case 11:return e=yv(e.type.render,!1),e;case 1:return e=yv(e.type,!0),e;default:return""}}function K1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case uu:return"Fragment";case cu:return"Portal";case H1:return"Profiler";case K2:return"StrictMode";case V1:return"Suspense";case G1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rj:return(e.displayName||"Context")+".Consumer";case nj:return(e._context.displayName||"Context")+".Provider";case Y2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X2:return t=e.displayName||null,t!==null?t:K1(e.type)||"Memo";case ko:t=e._payload,e=e._init;try{return K1(e(t))}catch{}}return null}function ML(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K1(t);case 8:return t===K2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ij(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function FL(e){var t=ij(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pp(e){e._valueTracker||(e._valueTracker=FL(e))}function aj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ij(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Bm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Y1(e,t){var n=t.checked;return Gn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function kb(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=sl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function oj(e,t){t=t.checked,t!=null&&G2(e,"checked",t,!1)}function X1(e,t){oj(e,t);var n=sl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?J1(e,t.type,n):t.hasOwnProperty("defaultValue")&&J1(e,t.type,sl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ab(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function J1(e,t,n){(t!=="number"||Bm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vh=Array.isArray;function _u(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+sl(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Q1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($e(91));return Gn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pb(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($e(92));if(vh(n)){if(1<n.length)throw Error($e(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:sl(n)}}function lj(e,t){var n=sl(t.value),r=sl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Lb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lp,uj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lp=Lp||document.createElement("div"),Lp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BL=["Webkit","ms","Moz","O"];Object.keys(Nh).forEach(function(e){BL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nh[t]=Nh[e]})});function dj(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nh.hasOwnProperty(e)&&Nh[e]?(""+t).trim():t+"px"}function hj(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=dj(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var $L=Gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ey(e,t){if(t){if($L[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($e(61))}if(t.style!=null&&typeof t.style!="object")throw Error($e(62))}}function ty(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ny=null;function J2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ry=null,Su=null,Nu=null;function Tb(e){if(e=kf(e)){if(typeof ry!="function")throw Error($e(280));var t=e.stateNode;t&&(t=Og(t),ry(e.stateNode,e.type,t))}}function fj(e){Su?Nu?Nu.push(e):Nu=[e]:Su=e}function pj(){if(Su){var e=Su,t=Nu;if(Nu=Su=null,Tb(e),t)for(e=0;e<t.length;e++)Tb(t[e])}}function mj(e,t){return e(t)}function gj(){}var xv=!1;function vj(e,t,n){if(xv)return e(t,n);xv=!0;try{return mj(e,t,n)}finally{xv=!1,(Su!==null||Nu!==null)&&(gj(),pj())}}function qh(e,t){var n=e.stateNode;if(n===null)return null;var r=Og(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($e(231,t,typeof n));return n}var sy=!1;if(qa)try{var Qd={};Object.defineProperty(Qd,"passive",{get:function(){sy=!0}}),window.addEventListener("test",Qd,Qd),window.removeEventListener("test",Qd,Qd)}catch{sy=!1}function UL(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var jh=!1,$m=null,Um=!1,iy=null,zL={onError:function(e){jh=!0,$m=e}};function qL(e,t,n,r,s,i,o,l,c){jh=!1,$m=null,UL.apply(zL,arguments)}function WL(e,t,n,r,s,i,o,l,c){if(qL.apply(this,arguments),jh){if(jh){var u=$m;jh=!1,$m=null}else throw Error($e(198));Um||(Um=!0,iy=u)}}function jc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ib(e){if(jc(e)!==e)throw Error($e(188))}function HL(e){var t=e.alternate;if(!t){if(t=jc(e),t===null)throw Error($e(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ib(s),e;if(i===r)return Ib(s),t;i=i.sibling}throw Error($e(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error($e(189))}}if(n.alternate!==r)throw Error($e(190))}if(n.tag!==3)throw Error($e(188));return n.stateNode.current===n?e:t}function xj(e){return e=HL(e),e!==null?wj(e):null}function wj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wj(e);if(t!==null)return t;e=e.sibling}return null}var bj=Hs.unstable_scheduleCallback,Rb=Hs.unstable_cancelCallback,VL=Hs.unstable_shouldYield,GL=Hs.unstable_requestPaint,ir=Hs.unstable_now,KL=Hs.unstable_getCurrentPriorityLevel,Q2=Hs.unstable_ImmediatePriority,_j=Hs.unstable_UserBlockingPriority,zm=Hs.unstable_NormalPriority,YL=Hs.unstable_LowPriority,Sj=Hs.unstable_IdlePriority,Lg=null,ia=null;function XL(e){if(ia&&typeof ia.onCommitFiberRoot=="function")try{ia.onCommitFiberRoot(Lg,e,void 0,(e.current.flags&128)===128)}catch{}}var Ai=Math.clz32?Math.clz32:ZL,JL=Math.log,QL=Math.LN2;function ZL(e){return e>>>=0,e===0?32:31-(JL(e)/QL|0)|0}var Tp=64,Ip=4194304;function yh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=yh(l):(i&=o,i!==0&&(r=yh(i)))}else o=n&~s,o!==0?r=yh(o):i!==0&&(r=yh(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ai(t),s=1<<n,r|=e[n],t&=~s;return r}function eT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ai(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=eT(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function ay(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nj(){var e=Tp;return Tp<<=1,!(Tp&4194240)&&(Tp=64),e}function wv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ef(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ai(t),e[t]=n}function nT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ai(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Z2(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ai(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var gn=0;function jj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ej,ex,Cj,kj,Aj,oy=!1,Rp=[],Vo=null,Go=null,Ko=null,Wh=new Map,Hh=new Map,Po=[],rT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ob(e,t){switch(e){case"focusin":case"focusout":Vo=null;break;case"dragenter":case"dragleave":Go=null;break;case"mouseover":case"mouseout":Ko=null;break;case"pointerover":case"pointerout":Wh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hh.delete(t.pointerId)}}function Zd(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=kf(t),t!==null&&ex(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function sT(e,t,n,r,s){switch(t){case"focusin":return Vo=Zd(Vo,e,t,n,r,s),!0;case"dragenter":return Go=Zd(Go,e,t,n,r,s),!0;case"mouseover":return Ko=Zd(Ko,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Wh.set(i,Zd(Wh.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Hh.set(i,Zd(Hh.get(i)||null,e,t,n,r,s)),!0}return!1}function Pj(e){var t=Gl(e.target);if(t!==null){var n=jc(t);if(n!==null){if(t=n.tag,t===13){if(t=yj(n),t!==null){e.blockedOn=t,Aj(e.priority,function(){Cj(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ly(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ny=r,n.target.dispatchEvent(r),ny=null}else return t=kf(n),t!==null&&ex(t),e.blockedOn=n,!1;t.shift()}return!0}function Db(e,t,n){gm(e)&&n.delete(t)}function iT(){oy=!1,Vo!==null&&gm(Vo)&&(Vo=null),Go!==null&&gm(Go)&&(Go=null),Ko!==null&&gm(Ko)&&(Ko=null),Wh.forEach(Db),Hh.forEach(Db)}function eh(e,t){e.blockedOn===t&&(e.blockedOn=null,oy||(oy=!0,Hs.unstable_scheduleCallback(Hs.unstable_NormalPriority,iT)))}function Vh(e){function t(s){return eh(s,e)}if(0<Rp.length){eh(Rp[0],e);for(var n=1;n<Rp.length;n++){var r=Rp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vo!==null&&eh(Vo,e),Go!==null&&eh(Go,e),Ko!==null&&eh(Ko,e),Wh.forEach(t),Hh.forEach(t),n=0;n<Po.length;n++)r=Po[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Po.length&&(n=Po[0],n.blockedOn===null);)Pj(n),n.blockedOn===null&&Po.shift()}var ju=Xa.ReactCurrentBatchConfig,Wm=!0;function aT(e,t,n,r){var s=gn,i=ju.transition;ju.transition=null;try{gn=1,tx(e,t,n,r)}finally{gn=s,ju.transition=i}}function oT(e,t,n,r){var s=gn,i=ju.transition;ju.transition=null;try{gn=4,tx(e,t,n,r)}finally{gn=s,ju.transition=i}}function tx(e,t,n,r){if(Wm){var s=ly(e,t,n,r);if(s===null)Pv(e,t,r,Hm,n),Ob(e,r);else if(sT(s,e,t,n,r))r.stopPropagation();else if(Ob(e,r),t&4&&-1<rT.indexOf(e)){for(;s!==null;){var i=kf(s);if(i!==null&&Ej(i),i=ly(e,t,n,r),i===null&&Pv(e,t,r,Hm,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Pv(e,t,r,null,n)}}var Hm=null;function ly(e,t,n,r){if(Hm=null,e=J2(r),e=Gl(e),e!==null)if(t=jc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yj(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hm=e,null}function Lj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KL()){case Q2:return 1;case _j:return 4;case zm:case YL:return 16;case Sj:return 536870912;default:return 16}default:return 16}}var Bo=null,nx=null,vm=null;function Tj(){if(vm)return vm;var e,t=nx,n=t.length,r,s="value"in Bo?Bo.value:Bo.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return vm=s.slice(e,1<r?1-r:void 0)}function ym(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Op(){return!0}function Mb(){return!1}function Ks(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Op:Mb,this.isPropagationStopped=Mb,this}return Gn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Op)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Op)},persist:function(){},isPersistent:Op}),t}var od={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rx=Ks(od),Cf=Gn({},od,{view:0,detail:0}),lT=Ks(Cf),bv,_v,th,Tg=Gn({},Cf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==th&&(th&&e.type==="mousemove"?(bv=e.screenX-th.screenX,_v=e.screenY-th.screenY):_v=bv=0,th=e),bv)},movementY:function(e){return"movementY"in e?e.movementY:_v}}),Fb=Ks(Tg),cT=Gn({},Tg,{dataTransfer:0}),uT=Ks(cT),dT=Gn({},Cf,{relatedTarget:0}),Sv=Ks(dT),hT=Gn({},od,{animationName:0,elapsedTime:0,pseudoElement:0}),fT=Ks(hT),pT=Gn({},od,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mT=Ks(pT),gT=Gn({},od,{data:0}),Bb=Ks(gT),vT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xT[e])?!!t[e]:!1}function sx(){return wT}var bT=Gn({},Cf,{key:function(e){if(e.key){var t=vT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ym(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sx,charCode:function(e){return e.type==="keypress"?ym(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ym(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_T=Ks(bT),ST=Gn({},Tg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$b=Ks(ST),NT=Gn({},Cf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sx}),jT=Ks(NT),ET=Gn({},od,{propertyName:0,elapsedTime:0,pseudoElement:0}),CT=Ks(ET),kT=Gn({},Tg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AT=Ks(kT),PT=[9,13,27,32],ix=qa&&"CompositionEvent"in window,Eh=null;qa&&"documentMode"in document&&(Eh=document.documentMode);var LT=qa&&"TextEvent"in window&&!Eh,Ij=qa&&(!ix||Eh&&8<Eh&&11>=Eh),Ub=" ",zb=!1;function Rj(e,t){switch(e){case"keyup":return PT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var du=!1;function TT(e,t){switch(e){case"compositionend":return Oj(t);case"keypress":return t.which!==32?null:(zb=!0,Ub);case"textInput":return e=t.data,e===Ub&&zb?null:e;default:return null}}function IT(e,t){if(du)return e==="compositionend"||!ix&&Rj(e,t)?(e=Tj(),vm=nx=Bo=null,du=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ij&&t.locale!=="ko"?null:t.data;default:return null}}var RT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RT[e.type]:t==="textarea"}function Dj(e,t,n,r){fj(r),t=Vm(t,"onChange"),0<t.length&&(n=new rx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ch=null,Gh=null;function OT(e){Gj(e,0)}function Ig(e){var t=pu(e);if(aj(t))return e}function DT(e,t){if(e==="change")return t}var Mj=!1;if(qa){var Nv;if(qa){var jv="oninput"in document;if(!jv){var Wb=document.createElement("div");Wb.setAttribute("oninput","return;"),jv=typeof Wb.oninput=="function"}Nv=jv}else Nv=!1;Mj=Nv&&(!document.documentMode||9<document.documentMode)}function Hb(){Ch&&(Ch.detachEvent("onpropertychange",Fj),Gh=Ch=null)}function Fj(e){if(e.propertyName==="value"&&Ig(Gh)){var t=[];Dj(t,Gh,e,J2(e)),vj(OT,t)}}function MT(e,t,n){e==="focusin"?(Hb(),Ch=t,Gh=n,Ch.attachEvent("onpropertychange",Fj)):e==="focusout"&&Hb()}function FT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ig(Gh)}function BT(e,t){if(e==="click")return Ig(t)}function $T(e,t){if(e==="input"||e==="change")return Ig(t)}function UT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Li=typeof Object.is=="function"?Object.is:UT;function Kh(e,t){if(Li(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!W1.call(t,s)||!Li(e[s],t[s]))return!1}return!0}function Vb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gb(e,t){var n=Vb(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vb(n)}}function Bj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $j(){for(var e=window,t=Bm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bm(e.document)}return t}function ax(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zT(e){var t=$j(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Bj(n.ownerDocument.documentElement,n)){if(r!==null&&ax(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Gb(n,i);var o=Gb(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qT=qa&&"documentMode"in document&&11>=document.documentMode,hu=null,cy=null,kh=null,uy=!1;function Kb(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uy||hu==null||hu!==Bm(r)||(r=hu,"selectionStart"in r&&ax(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kh&&Kh(kh,r)||(kh=r,r=Vm(cy,"onSelect"),0<r.length&&(t=new rx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hu)))}function Dp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fu={animationend:Dp("Animation","AnimationEnd"),animationiteration:Dp("Animation","AnimationIteration"),animationstart:Dp("Animation","AnimationStart"),transitionend:Dp("Transition","TransitionEnd")},Ev={},Uj={};qa&&(Uj=document.createElement("div").style,"AnimationEvent"in window||(delete fu.animationend.animation,delete fu.animationiteration.animation,delete fu.animationstart.animation),"TransitionEvent"in window||delete fu.transitionend.transition);function Rg(e){if(Ev[e])return Ev[e];if(!fu[e])return e;var t=fu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Uj)return Ev[e]=t[n];return e}var zj=Rg("animationend"),qj=Rg("animationiteration"),Wj=Rg("animationstart"),Hj=Rg("transitionend"),Vj=new Map,Yb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dl(e,t){Vj.set(e,t),Nc(t,[e])}for(var Cv=0;Cv<Yb.length;Cv++){var kv=Yb[Cv],WT=kv.toLowerCase(),HT=kv[0].toUpperCase()+kv.slice(1);dl(WT,"on"+HT)}dl(zj,"onAnimationEnd");dl(qj,"onAnimationIteration");dl(Wj,"onAnimationStart");dl("dblclick","onDoubleClick");dl("focusin","onFocus");dl("focusout","onBlur");dl(Hj,"onTransitionEnd");Wu("onMouseEnter",["mouseout","mouseover"]);Wu("onMouseLeave",["mouseout","mouseover"]);Wu("onPointerEnter",["pointerout","pointerover"]);Wu("onPointerLeave",["pointerout","pointerover"]);Nc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VT=new Set("cancel close invalid load scroll toggle".split(" ").concat(xh));function Xb(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,WL(r,t,void 0,e),e.currentTarget=null}function Gj(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Xb(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Xb(s,l,u),i=c}}}if(Um)throw e=iy,Um=!1,iy=null,e}function In(e,t){var n=t[my];n===void 0&&(n=t[my]=new Set);var r=e+"__bubble";n.has(r)||(Kj(t,e,2,!1),n.add(r))}function Av(e,t,n){var r=0;t&&(r|=4),Kj(n,e,r,t)}var Mp="_reactListening"+Math.random().toString(36).slice(2);function Yh(e){if(!e[Mp]){e[Mp]=!0,tj.forEach(function(n){n!=="selectionchange"&&(VT.has(n)||Av(n,!1,e),Av(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mp]||(t[Mp]=!0,Av("selectionchange",!1,t))}}function Kj(e,t,n,r){switch(Lj(t)){case 1:var s=aT;break;case 4:s=oT;break;default:s=tx}n=s.bind(null,t,n,e),s=void 0,!sy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Pv(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Gl(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}vj(function(){var u=i,d=J2(n),p=[];e:{var m=Vj.get(e);if(m!==void 0){var h=rx,b=e;switch(e){case"keypress":if(ym(n)===0)break e;case"keydown":case"keyup":h=_T;break;case"focusin":b="focus",h=Sv;break;case"focusout":b="blur",h=Sv;break;case"beforeblur":case"afterblur":h=Sv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Fb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=uT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=jT;break;case zj:case qj:case Wj:h=fT;break;case Hj:h=CT;break;case"scroll":h=lT;break;case"wheel":h=AT;break;case"copy":case"cut":case"paste":h=mT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=$b}var v=(t&4)!==0,w=!v&&e==="scroll",y=v?m!==null?m+"Capture":null:m;v=[];for(var x=u,S;x!==null;){S=x;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,y!==null&&(k=qh(x,y),k!=null&&v.push(Xh(x,k,S)))),w)break;x=x.return}0<v.length&&(m=new h(m,b,null,n,d),p.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&n!==ny&&(b=n.relatedTarget||n.fromElement)&&(Gl(b)||b[Wa]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(b=n.relatedTarget||n.toElement,h=u,b=b?Gl(b):null,b!==null&&(w=jc(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(h=null,b=u),h!==b)){if(v=Fb,k="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=$b,k="onPointerLeave",y="onPointerEnter",x="pointer"),w=h==null?m:pu(h),S=b==null?m:pu(b),m=new v(k,x+"leave",h,n,d),m.target=w,m.relatedTarget=S,k=null,Gl(d)===u&&(v=new v(y,x+"enter",b,n,d),v.target=S,v.relatedTarget=w,k=v),w=k,h&&b)t:{for(v=h,y=b,x=0,S=v;S;S=Hc(S))x++;for(S=0,k=y;k;k=Hc(k))S++;for(;0<x-S;)v=Hc(v),x--;for(;0<S-x;)y=Hc(y),S--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=Hc(v),y=Hc(y)}v=null}else v=null;h!==null&&Jb(p,m,h,v,!1),b!==null&&w!==null&&Jb(p,w,b,v,!0)}}e:{if(m=u?pu(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var D=DT;else if(qb(m))if(Mj)D=$T;else{D=FT;var A=MT}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=BT);if(D&&(D=D(e,u))){Dj(p,D,n,d);break e}A&&A(e,m,u),e==="focusout"&&(A=m._wrapperState)&&A.controlled&&m.type==="number"&&J1(m,"number",m.value)}switch(A=u?pu(u):window,e){case"focusin":(qb(A)||A.contentEditable==="true")&&(hu=A,cy=u,kh=null);break;case"focusout":kh=cy=hu=null;break;case"mousedown":uy=!0;break;case"contextmenu":case"mouseup":case"dragend":uy=!1,Kb(p,n,d);break;case"selectionchange":if(qT)break;case"keydown":case"keyup":Kb(p,n,d)}var R;if(ix)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else du?Rj(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(Ij&&n.locale!=="ko"&&(du||L!=="onCompositionStart"?L==="onCompositionEnd"&&du&&(R=Tj()):(Bo=d,nx="value"in Bo?Bo.value:Bo.textContent,du=!0)),A=Vm(u,L),0<A.length&&(L=new Bb(L,e,null,n,d),p.push({event:L,listeners:A}),R?L.data=R:(R=Oj(n),R!==null&&(L.data=R)))),(R=LT?TT(e,n):IT(e,n))&&(u=Vm(u,"onBeforeInput"),0<u.length&&(d=new Bb("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=R))}Gj(p,t)})}function Xh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vm(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=qh(e,n),i!=null&&r.unshift(Xh(e,i,s)),i=qh(e,t),i!=null&&r.push(Xh(e,i,s))),e=e.return}return r}function Hc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jb(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=qh(n,i),c!=null&&o.unshift(Xh(n,c,l))):s||(c=qh(n,i),c!=null&&o.push(Xh(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var GT=/\r\n?/g,KT=/\u0000|\uFFFD/g;function Qb(e){return(typeof e=="string"?e:""+e).replace(GT,`
`).replace(KT,"")}function Fp(e,t,n){if(t=Qb(t),Qb(e)!==t&&n)throw Error($e(425))}function Gm(){}var dy=null,hy=null;function fy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var py=typeof setTimeout=="function"?setTimeout:void 0,YT=typeof clearTimeout=="function"?clearTimeout:void 0,Zb=typeof Promise=="function"?Promise:void 0,XT=typeof queueMicrotask=="function"?queueMicrotask:typeof Zb<"u"?function(e){return Zb.resolve(null).then(e).catch(JT)}:py;function JT(e){setTimeout(function(){throw e})}function Lv(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Vh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Vh(t)}function Yo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function e5(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ld=Math.random().toString(36).slice(2),ea="__reactFiber$"+ld,Jh="__reactProps$"+ld,Wa="__reactContainer$"+ld,my="__reactEvents$"+ld,QT="__reactListeners$"+ld,ZT="__reactHandles$"+ld;function Gl(e){var t=e[ea];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wa]||n[ea]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=e5(e);e!==null;){if(n=e[ea])return n;e=e5(e)}return t}e=n,n=e.parentNode}return null}function kf(e){return e=e[ea]||e[Wa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($e(33))}function Og(e){return e[Jh]||null}var gy=[],mu=-1;function hl(e){return{current:e}}function On(e){0>mu||(e.current=gy[mu],gy[mu]=null,mu--)}function Pn(e,t){mu++,gy[mu]=e.current,e.current=t}var il={},Kr=hl(il),Ss=hl(!1),uc=il;function Hu(e,t){var n=e.type.contextTypes;if(!n)return il;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ns(e){return e=e.childContextTypes,e!=null}function Km(){On(Ss),On(Kr)}function t5(e,t,n){if(Kr.current!==il)throw Error($e(168));Pn(Kr,t),Pn(Ss,n)}function Yj(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error($e(108,ML(e)||"Unknown",s));return Gn({},n,r)}function Ym(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||il,uc=Kr.current,Pn(Kr,e),Pn(Ss,Ss.current),!0}function n5(e,t,n){var r=e.stateNode;if(!r)throw Error($e(169));n?(e=Yj(e,t,uc),r.__reactInternalMemoizedMergedChildContext=e,On(Ss),On(Kr),Pn(Kr,e)):On(Ss),Pn(Ss,n)}var Ia=null,Dg=!1,Tv=!1;function Xj(e){Ia===null?Ia=[e]:Ia.push(e)}function e8(e){Dg=!0,Xj(e)}function fl(){if(!Tv&&Ia!==null){Tv=!0;var e=0,t=gn;try{var n=Ia;for(gn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ia=null,Dg=!1}catch(s){throw Ia!==null&&(Ia=Ia.slice(e+1)),bj(Q2,fl),s}finally{gn=t,Tv=!1}}return null}var gu=[],vu=0,Xm=null,Jm=0,ii=[],ai=0,dc=null,Ma=1,Fa="";function $l(e,t){gu[vu++]=Jm,gu[vu++]=Xm,Xm=e,Jm=t}function Jj(e,t,n){ii[ai++]=Ma,ii[ai++]=Fa,ii[ai++]=dc,dc=e;var r=Ma;e=Fa;var s=32-Ai(r)-1;r&=~(1<<s),n+=1;var i=32-Ai(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ma=1<<32-Ai(t)+s|n<<s|r,Fa=i+e}else Ma=1<<i|n<<s|r,Fa=e}function ox(e){e.return!==null&&($l(e,1),Jj(e,1,0))}function lx(e){for(;e===Xm;)Xm=gu[--vu],gu[vu]=null,Jm=gu[--vu],gu[vu]=null;for(;e===dc;)dc=ii[--ai],ii[ai]=null,Fa=ii[--ai],ii[ai]=null,Ma=ii[--ai],ii[ai]=null}var qs=null,$s=null,$n=!1,ki=null;function Qj(e,t){var n=li(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function r5(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qs=e,$s=Yo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qs=e,$s=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=dc!==null?{id:Ma,overflow:Fa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=li(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qs=e,$s=null,!0):!1;default:return!1}}function vy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yy(e){if($n){var t=$s;if(t){var n=t;if(!r5(e,t)){if(vy(e))throw Error($e(418));t=Yo(n.nextSibling);var r=qs;t&&r5(e,t)?Qj(r,n):(e.flags=e.flags&-4097|2,$n=!1,qs=e)}}else{if(vy(e))throw Error($e(418));e.flags=e.flags&-4097|2,$n=!1,qs=e}}}function s5(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qs=e}function Bp(e){if(e!==qs)return!1;if(!$n)return s5(e),$n=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fy(e.type,e.memoizedProps)),t&&(t=$s)){if(vy(e))throw Zj(),Error($e(418));for(;t;)Qj(e,t),t=Yo(t.nextSibling)}if(s5(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$s=Yo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$s=null}}else $s=qs?Yo(e.stateNode.nextSibling):null;return!0}function Zj(){for(var e=$s;e;)e=Yo(e.nextSibling)}function Vu(){$s=qs=null,$n=!1}function cx(e){ki===null?ki=[e]:ki.push(e)}var t8=Xa.ReactCurrentBatchConfig;function nh(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($e(309));var r=n.stateNode}if(!r)throw Error($e(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error($e(284));if(!n._owner)throw Error($e(290,e))}return e}function $p(e,t){throw e=Object.prototype.toString.call(t),Error($e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function i5(e){var t=e._init;return t(e._payload)}function e4(e){function t(y,x){if(e){var S=y.deletions;S===null?(y.deletions=[x],y.flags|=16):S.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=Zo(y,x),y.index=0,y.sibling=null,y}function i(y,x,S){return y.index=S,e?(S=y.alternate,S!==null?(S=S.index,S<x?(y.flags|=2,x):S):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,S,k){return x===null||x.tag!==6?(x=Bv(S,y.mode,k),x.return=y,x):(x=s(x,S),x.return=y,x)}function c(y,x,S,k){var D=S.type;return D===uu?d(y,x,S.props.children,k,S.key):x!==null&&(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ko&&i5(D)===x.type)?(k=s(x,S.props),k.ref=nh(y,x,S),k.return=y,k):(k=jm(S.type,S.key,S.props,null,y.mode,k),k.ref=nh(y,x,S),k.return=y,k)}function u(y,x,S,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=$v(S,y.mode,k),x.return=y,x):(x=s(x,S.children||[]),x.return=y,x)}function d(y,x,S,k,D){return x===null||x.tag!==7?(x=ac(S,y.mode,k,D),x.return=y,x):(x=s(x,S),x.return=y,x)}function p(y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Bv(""+x,y.mode,S),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ap:return S=jm(x.type,x.key,x.props,null,y.mode,S),S.ref=nh(y,null,x),S.return=y,S;case cu:return x=$v(x,y.mode,S),x.return=y,x;case ko:var k=x._init;return p(y,k(x._payload),S)}if(vh(x)||Jd(x))return x=ac(x,y.mode,S,null),x.return=y,x;$p(y,x)}return null}function m(y,x,S,k){var D=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:l(y,x,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ap:return S.key===D?c(y,x,S,k):null;case cu:return S.key===D?u(y,x,S,k):null;case ko:return D=S._init,m(y,x,D(S._payload),k)}if(vh(S)||Jd(S))return D!==null?null:d(y,x,S,k,null);$p(y,S)}return null}function h(y,x,S,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(S)||null,l(x,y,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ap:return y=y.get(k.key===null?S:k.key)||null,c(x,y,k,D);case cu:return y=y.get(k.key===null?S:k.key)||null,u(x,y,k,D);case ko:var A=k._init;return h(y,x,S,A(k._payload),D)}if(vh(k)||Jd(k))return y=y.get(S)||null,d(x,y,k,D,null);$p(x,k)}return null}function b(y,x,S,k){for(var D=null,A=null,R=x,L=x=0,C=null;R!==null&&L<S.length;L++){R.index>L?(C=R,R=null):C=R.sibling;var M=m(y,R,S[L],k);if(M===null){R===null&&(R=C);break}e&&R&&M.alternate===null&&t(y,R),x=i(M,x,L),A===null?D=M:A.sibling=M,A=M,R=C}if(L===S.length)return n(y,R),$n&&$l(y,L),D;if(R===null){for(;L<S.length;L++)R=p(y,S[L],k),R!==null&&(x=i(R,x,L),A===null?D=R:A.sibling=R,A=R);return $n&&$l(y,L),D}for(R=r(y,R);L<S.length;L++)C=h(R,y,L,S[L],k),C!==null&&(e&&C.alternate!==null&&R.delete(C.key===null?L:C.key),x=i(C,x,L),A===null?D=C:A.sibling=C,A=C);return e&&R.forEach(function(E){return t(y,E)}),$n&&$l(y,L),D}function v(y,x,S,k){var D=Jd(S);if(typeof D!="function")throw Error($e(150));if(S=D.call(S),S==null)throw Error($e(151));for(var A=D=null,R=x,L=x=0,C=null,M=S.next();R!==null&&!M.done;L++,M=S.next()){R.index>L?(C=R,R=null):C=R.sibling;var E=m(y,R,M.value,k);if(E===null){R===null&&(R=C);break}e&&R&&E.alternate===null&&t(y,R),x=i(E,x,L),A===null?D=E:A.sibling=E,A=E,R=C}if(M.done)return n(y,R),$n&&$l(y,L),D;if(R===null){for(;!M.done;L++,M=S.next())M=p(y,M.value,k),M!==null&&(x=i(M,x,L),A===null?D=M:A.sibling=M,A=M);return $n&&$l(y,L),D}for(R=r(y,R);!M.done;L++,M=S.next())M=h(R,y,L,M.value,k),M!==null&&(e&&M.alternate!==null&&R.delete(M.key===null?L:M.key),x=i(M,x,L),A===null?D=M:A.sibling=M,A=M);return e&&R.forEach(function(P){return t(y,P)}),$n&&$l(y,L),D}function w(y,x,S,k){if(typeof S=="object"&&S!==null&&S.type===uu&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ap:e:{for(var D=S.key,A=x;A!==null;){if(A.key===D){if(D=S.type,D===uu){if(A.tag===7){n(y,A.sibling),x=s(A,S.props.children),x.return=y,y=x;break e}}else if(A.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ko&&i5(D)===A.type){n(y,A.sibling),x=s(A,S.props),x.ref=nh(y,A,S),x.return=y,y=x;break e}n(y,A);break}else t(y,A);A=A.sibling}S.type===uu?(x=ac(S.props.children,y.mode,k,S.key),x.return=y,y=x):(k=jm(S.type,S.key,S.props,null,y.mode,k),k.ref=nh(y,x,S),k.return=y,y=k)}return o(y);case cu:e:{for(A=S.key;x!==null;){if(x.key===A)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(y,x.sibling),x=s(x,S.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=$v(S,y.mode,k),x.return=y,y=x}return o(y);case ko:return A=S._init,w(y,x,A(S._payload),k)}if(vh(S))return b(y,x,S,k);if(Jd(S))return v(y,x,S,k);$p(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(n(y,x.sibling),x=s(x,S),x.return=y,y=x):(n(y,x),x=Bv(S,y.mode,k),x.return=y,y=x),o(y)):n(y,x)}return w}var Gu=e4(!0),t4=e4(!1),Qm=hl(null),Zm=null,yu=null,ux=null;function dx(){ux=yu=Zm=null}function hx(e){var t=Qm.current;On(Qm),e._currentValue=t}function xy(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eu(e,t){Zm=e,ux=yu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bs=!0),e.firstContext=null)}function ui(e){var t=e._currentValue;if(ux!==e)if(e={context:e,memoizedValue:t,next:null},yu===null){if(Zm===null)throw Error($e(308));yu=e,Zm.dependencies={lanes:0,firstContext:e}}else yu=yu.next=e;return t}var Kl=null;function fx(e){Kl===null?Kl=[e]:Kl.push(e)}function n4(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,fx(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ha(e,r)}function Ha(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ao=!1;function px(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $a(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Zt&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ha(e,n)}return s=r.interleaved,s===null?(t.next=t,fx(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ha(e,n)}function xm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Z2(e,n)}}function a5(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function eg(e,t,n,r){var s=e.updateQueue;Ao=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,h=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,v=l;switch(m=t,h=n,v.tag){case 1:if(b=v.payload,typeof b=="function"){p=b.call(h,p,m);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,m=typeof b=="function"?b.call(h,p,m):b,m==null)break e;p=Gn({},p,m);break e;case 2:Ao=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=p):d=d.next=h,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);fc|=o,e.lanes=o,e.memoizedState=p}}function o5(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($e(191,s));s.call(r)}}}var Af={},aa=hl(Af),Qh=hl(Af),Zh=hl(Af);function Yl(e){if(e===Af)throw Error($e(174));return e}function mx(e,t){switch(Pn(Zh,t),Pn(Qh,e),Pn(aa,Af),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Z1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Z1(t,e)}On(aa),Pn(aa,t)}function Ku(){On(aa),On(Qh),On(Zh)}function s4(e){Yl(Zh.current);var t=Yl(aa.current),n=Z1(t,e.type);t!==n&&(Pn(Qh,e),Pn(aa,n))}function gx(e){Qh.current===e&&(On(aa),On(Qh))}var Hn=hl(0);function tg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Iv=[];function vx(){for(var e=0;e<Iv.length;e++)Iv[e]._workInProgressVersionPrimary=null;Iv.length=0}var wm=Xa.ReactCurrentDispatcher,Rv=Xa.ReactCurrentBatchConfig,hc=0,Vn=null,_r=null,jr=null,ng=!1,Ah=!1,ef=0,n8=0;function $r(){throw Error($e(321))}function yx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Li(e[n],t[n]))return!1;return!0}function xx(e,t,n,r,s,i){if(hc=i,Vn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wm.current=e===null||e.memoizedState===null?a8:o8,e=n(r,s),Ah){i=0;do{if(Ah=!1,ef=0,25<=i)throw Error($e(301));i+=1,jr=_r=null,t.updateQueue=null,wm.current=l8,e=n(r,s)}while(Ah)}if(wm.current=rg,t=_r!==null&&_r.next!==null,hc=0,jr=_r=Vn=null,ng=!1,t)throw Error($e(300));return e}function wx(){var e=ef!==0;return ef=0,e}function Yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jr===null?Vn.memoizedState=jr=e:jr=jr.next=e,jr}function di(){if(_r===null){var e=Vn.alternate;e=e!==null?e.memoizedState:null}else e=_r.next;var t=jr===null?Vn.memoizedState:jr.next;if(t!==null)jr=t,_r=e;else{if(e===null)throw Error($e(310));_r=e,e={memoizedState:_r.memoizedState,baseState:_r.baseState,baseQueue:_r.baseQueue,queue:_r.queue,next:null},jr===null?Vn.memoizedState=jr=e:jr=jr.next=e}return jr}function tf(e,t){return typeof t=="function"?t(e):t}function Ov(e){var t=di(),n=t.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=e;var r=_r,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((hc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,o=r):c=c.next=p,Vn.lanes|=d,fc|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Li(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Vn.lanes|=i,fc|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Dv(e){var t=di(),n=t.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Li(i,t.memoizedState)||(bs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function i4(){}function a4(e,t){var n=Vn,r=di(),s=t(),i=!Li(r.memoizedState,s);if(i&&(r.memoizedState=s,bs=!0),r=r.queue,bx(c4.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||jr!==null&&jr.memoizedState.tag&1){if(n.flags|=2048,nf(9,l4.bind(null,n,r,s,t),void 0,null),Cr===null)throw Error($e(349));hc&30||o4(n,t,s)}return s}function o4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Vn.updateQueue,t===null?(t={lastEffect:null,stores:null},Vn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function l4(e,t,n,r){t.value=n,t.getSnapshot=r,u4(t)&&d4(e)}function c4(e,t,n){return n(function(){u4(t)&&d4(e)})}function u4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Li(e,n)}catch{return!0}}function d4(e){var t=Ha(e,1);t!==null&&Pi(t,e,1,-1)}function l5(e){var t=Yi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tf,lastRenderedState:e},t.queue=e,e=e.dispatch=i8.bind(null,Vn,e),[t.memoizedState,e]}function nf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Vn.updateQueue,t===null?(t={lastEffect:null,stores:null},Vn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function h4(){return di().memoizedState}function bm(e,t,n,r){var s=Yi();Vn.flags|=e,s.memoizedState=nf(1|t,n,void 0,r===void 0?null:r)}function Mg(e,t,n,r){var s=di();r=r===void 0?null:r;var i=void 0;if(_r!==null){var o=_r.memoizedState;if(i=o.destroy,r!==null&&yx(r,o.deps)){s.memoizedState=nf(t,n,i,r);return}}Vn.flags|=e,s.memoizedState=nf(1|t,n,i,r)}function c5(e,t){return bm(8390656,8,e,t)}function bx(e,t){return Mg(2048,8,e,t)}function f4(e,t){return Mg(4,2,e,t)}function p4(e,t){return Mg(4,4,e,t)}function m4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function g4(e,t,n){return n=n!=null?n.concat([e]):null,Mg(4,4,m4.bind(null,t,e),n)}function _x(){}function v4(e,t){var n=di();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function y4(e,t){var n=di();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function x4(e,t,n){return hc&21?(Li(n,t)||(n=Nj(),Vn.lanes|=n,fc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n)}function r8(e,t){var n=gn;gn=n!==0&&4>n?n:4,e(!0);var r=Rv.transition;Rv.transition={};try{e(!1),t()}finally{gn=n,Rv.transition=r}}function w4(){return di().memoizedState}function s8(e,t,n){var r=Qo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},b4(e))_4(t,n);else if(n=n4(e,t,n,r),n!==null){var s=as();Pi(n,e,r,s),S4(n,t,r)}}function i8(e,t,n){var r=Qo(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(b4(e))_4(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Li(l,o)){var c=t.interleaved;c===null?(s.next=s,fx(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=n4(e,t,s,r),n!==null&&(s=as(),Pi(n,e,r,s),S4(n,t,r))}}function b4(e){var t=e.alternate;return e===Vn||t!==null&&t===Vn}function _4(e,t){Ah=ng=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function S4(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Z2(e,n)}}var rg={readContext:ui,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useInsertionEffect:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useSyncExternalStore:$r,useId:$r,unstable_isNewReconciler:!1},a8={readContext:ui,useCallback:function(e,t){return Yi().memoizedState=[e,t===void 0?null:t],e},useContext:ui,useEffect:c5,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,bm(4194308,4,m4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bm(4194308,4,e,t)},useInsertionEffect:function(e,t){return bm(4,2,e,t)},useMemo:function(e,t){var n=Yi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=s8.bind(null,Vn,e),[r.memoizedState,e]},useRef:function(e){var t=Yi();return e={current:e},t.memoizedState=e},useState:l5,useDebugValue:_x,useDeferredValue:function(e){return Yi().memoizedState=e},useTransition:function(){var e=l5(!1),t=e[0];return e=r8.bind(null,e[1]),Yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Vn,s=Yi();if($n){if(n===void 0)throw Error($e(407));n=n()}else{if(n=t(),Cr===null)throw Error($e(349));hc&30||o4(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,c5(c4.bind(null,r,i,e),[e]),r.flags|=2048,nf(9,l4.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Yi(),t=Cr.identifierPrefix;if($n){var n=Fa,r=Ma;n=(r&~(1<<32-Ai(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ef++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=n8++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},o8={readContext:ui,useCallback:v4,useContext:ui,useEffect:bx,useImperativeHandle:g4,useInsertionEffect:f4,useLayoutEffect:p4,useMemo:y4,useReducer:Ov,useRef:h4,useState:function(){return Ov(tf)},useDebugValue:_x,useDeferredValue:function(e){var t=di();return x4(t,_r.memoizedState,e)},useTransition:function(){var e=Ov(tf)[0],t=di().memoizedState;return[e,t]},useMutableSource:i4,useSyncExternalStore:a4,useId:w4,unstable_isNewReconciler:!1},l8={readContext:ui,useCallback:v4,useContext:ui,useEffect:bx,useImperativeHandle:g4,useInsertionEffect:f4,useLayoutEffect:p4,useMemo:y4,useReducer:Dv,useRef:h4,useState:function(){return Dv(tf)},useDebugValue:_x,useDeferredValue:function(e){var t=di();return _r===null?t.memoizedState=e:x4(t,_r.memoizedState,e)},useTransition:function(){var e=Dv(tf)[0],t=di().memoizedState;return[e,t]},useMutableSource:i4,useSyncExternalStore:a4,useId:w4,unstable_isNewReconciler:!1};function _i(e,t){if(e&&e.defaultProps){t=Gn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wy(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Gn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Fg={isMounted:function(e){return(e=e._reactInternals)?jc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=as(),s=Qo(e),i=$a(r,s);i.payload=t,n!=null&&(i.callback=n),t=Xo(e,i,s),t!==null&&(Pi(t,e,s,r),xm(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=as(),s=Qo(e),i=$a(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Xo(e,i,s),t!==null&&(Pi(t,e,s,r),xm(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=as(),r=Qo(e),s=$a(n,r);s.tag=2,t!=null&&(s.callback=t),t=Xo(e,s,r),t!==null&&(Pi(t,e,r,n),xm(t,e,r))}};function u5(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Kh(n,r)||!Kh(s,i):!0}function N4(e,t,n){var r=!1,s=il,i=t.contextType;return typeof i=="object"&&i!==null?i=ui(i):(s=Ns(t)?uc:Kr.current,r=t.contextTypes,i=(r=r!=null)?Hu(e,s):il),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function d5(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fg.enqueueReplaceState(t,t.state,null)}function by(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},px(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ui(i):(i=Ns(t)?uc:Kr.current,s.context=Hu(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(wy(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Fg.enqueueReplaceState(s,s.state,null),eg(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Yu(e,t){try{var n="",r=t;do n+=DL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Mv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function _y(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var c8=typeof WeakMap=="function"?WeakMap:Map;function j4(e,t,n){n=$a(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ig||(ig=!0,Ty=r),_y(e,t)},n}function E4(e,t,n){n=$a(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){_y(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_y(e,t),typeof r!="function"&&(Jo===null?Jo=new Set([this]):Jo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function h5(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new c8;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=S8.bind(null,e,t,n),t.then(e,e))}function f5(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function p5(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$a(-1,1),t.tag=2,Xo(n,t,1))),n.lanes|=1),e)}var u8=Xa.ReactCurrentOwner,bs=!1;function rs(e,t,n,r){t.child=e===null?t4(t,null,n,r):Gu(t,e.child,n,r)}function m5(e,t,n,r,s){n=n.render;var i=t.ref;return Eu(t,s),r=xx(e,t,n,r,i,s),n=wx(),e!==null&&!bs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Va(e,t,s)):($n&&n&&ox(t),t.flags|=1,rs(e,t,r,s),t.child)}function g5(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Px(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,C4(e,t,i,r,s)):(e=jm(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Kh,n(o,r)&&e.ref===t.ref)return Va(e,t,s)}return t.flags|=1,e=Zo(i,r),e.ref=t.ref,e.return=t,t.child=e}function C4(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Kh(i,r)&&e.ref===t.ref)if(bs=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(bs=!0);else return t.lanes=e.lanes,Va(e,t,s)}return Sy(e,t,n,r,s)}function k4(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pn(wu,Fs),Fs|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pn(wu,Fs),Fs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Pn(wu,Fs),Fs|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Pn(wu,Fs),Fs|=r;return rs(e,t,s,n),t.child}function A4(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sy(e,t,n,r,s){var i=Ns(n)?uc:Kr.current;return i=Hu(t,i),Eu(t,s),n=xx(e,t,n,r,i,s),r=wx(),e!==null&&!bs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Va(e,t,s)):($n&&r&&ox(t),t.flags|=1,rs(e,t,n,s),t.child)}function v5(e,t,n,r,s){if(Ns(n)){var i=!0;Ym(t)}else i=!1;if(Eu(t,s),t.stateNode===null)_m(e,t),N4(t,n,r),by(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ui(u):(u=Ns(n)?uc:Kr.current,u=Hu(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&d5(t,o,r,u),Ao=!1;var m=t.memoizedState;o.state=m,eg(t,r,o,s),c=t.memoizedState,l!==r||m!==c||Ss.current||Ao?(typeof d=="function"&&(wy(t,n,d,r),c=t.memoizedState),(l=Ao||u5(t,n,l,r,m,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,r4(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:_i(t.type,l),o.props=u,p=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ui(c):(c=Ns(n)?uc:Kr.current,c=Hu(t,c));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==c)&&d5(t,o,r,c),Ao=!1,m=t.memoizedState,o.state=m,eg(t,r,o,s);var b=t.memoizedState;l!==p||m!==b||Ss.current||Ao?(typeof h=="function"&&(wy(t,n,h,r),b=t.memoizedState),(u=Ao||u5(t,n,u,r,m,b,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Ny(e,t,n,r,i,s)}function Ny(e,t,n,r,s,i){A4(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&n5(t,n,!1),Va(e,t,i);r=t.stateNode,u8.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Gu(t,e.child,null,i),t.child=Gu(t,null,l,i)):rs(e,t,l,i),t.memoizedState=r.state,s&&n5(t,n,!0),t.child}function P4(e){var t=e.stateNode;t.pendingContext?t5(e,t.pendingContext,t.pendingContext!==t.context):t.context&&t5(e,t.context,!1),mx(e,t.containerInfo)}function y5(e,t,n,r,s){return Vu(),cx(s),t.flags|=256,rs(e,t,n,r),t.child}var jy={dehydrated:null,treeContext:null,retryLane:0};function Ey(e){return{baseLanes:e,cachePool:null,transitions:null}}function L4(e,t,n){var r=t.pendingProps,s=Hn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Pn(Hn,s&1),e===null)return yy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ug(o,r,0,null),e=ac(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ey(n),t.memoizedState=jy,e):Sx(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return d8(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Zo(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Zo(l,i):(i=ac(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Ey(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=jy,r}return i=e.child,e=i.sibling,r=Zo(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Sx(e,t){return t=Ug({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Up(e,t,n,r){return r!==null&&cx(r),Gu(t,e.child,null,n),e=Sx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function d8(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Mv(Error($e(422))),Up(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ug({mode:"visible",children:r.children},s,0,null),i=ac(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Gu(t,e.child,null,o),t.child.memoizedState=Ey(o),t.memoizedState=jy,i);if(!(t.mode&1))return Up(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error($e(419)),r=Mv(i,r,void 0),Up(e,t,o,r)}if(l=(o&e.childLanes)!==0,bs||l){if(r=Cr,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ha(e,s),Pi(r,e,s,-1))}return Ax(),r=Mv(Error($e(421))),Up(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=N8.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,$s=Yo(s.nextSibling),qs=t,$n=!0,ki=null,e!==null&&(ii[ai++]=Ma,ii[ai++]=Fa,ii[ai++]=dc,Ma=e.id,Fa=e.overflow,dc=t),t=Sx(t,r.children),t.flags|=4096,t)}function x5(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xy(e.return,t,n)}function Fv(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function T4(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(rs(e,t,r.children,n),r=Hn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&x5(e,n,t);else if(e.tag===19)x5(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pn(Hn,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&tg(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Fv(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&tg(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Fv(t,!0,n,null,i);break;case"together":Fv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _m(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Va(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($e(153));if(t.child!==null){for(e=t.child,n=Zo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function h8(e,t,n){switch(t.tag){case 3:P4(t),Vu();break;case 5:s4(t);break;case 1:Ns(t.type)&&Ym(t);break;case 4:mx(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Pn(Qm,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Pn(Hn,Hn.current&1),t.flags|=128,null):n&t.child.childLanes?L4(e,t,n):(Pn(Hn,Hn.current&1),e=Va(e,t,n),e!==null?e.sibling:null);Pn(Hn,Hn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return T4(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pn(Hn,Hn.current),r)break;return null;case 22:case 23:return t.lanes=0,k4(e,t,n)}return Va(e,t,n)}var I4,Cy,R4,O4;I4=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cy=function(){};R4=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Yl(aa.current);var i=null;switch(n){case"input":s=Y1(e,s),r=Y1(e,r),i=[];break;case"select":s=Gn({},s,{value:void 0}),r=Gn({},r,{value:void 0}),i=[];break;case"textarea":s=Q1(e,s),r=Q1(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Gm)}ey(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Uh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Uh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&In("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};O4=function(e,t,n,r){n!==r&&(t.flags|=4)};function rh(e,t){if(!$n)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ur(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function f8(e,t,n){var r=t.pendingProps;switch(lx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(t),null;case 1:return Ns(t.type)&&Km(),Ur(t),null;case 3:return r=t.stateNode,Ku(),On(Ss),On(Kr),vx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Bp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ki!==null&&(Oy(ki),ki=null))),Cy(e,t),Ur(t),null;case 5:gx(t);var s=Yl(Zh.current);if(n=t.type,e!==null&&t.stateNode!=null)R4(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($e(166));return Ur(t),null}if(e=Yl(aa.current),Bp(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ea]=t,r[Jh]=i,e=(t.mode&1)!==0,n){case"dialog":In("cancel",r),In("close",r);break;case"iframe":case"object":case"embed":In("load",r);break;case"video":case"audio":for(s=0;s<xh.length;s++)In(xh[s],r);break;case"source":In("error",r);break;case"img":case"image":case"link":In("error",r),In("load",r);break;case"details":In("toggle",r);break;case"input":kb(r,i),In("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},In("invalid",r);break;case"textarea":Pb(r,i),In("invalid",r)}ey(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Fp(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Fp(r.textContent,l,e),s=["children",""+l]):Uh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&In("scroll",r)}switch(n){case"input":Pp(r),Ab(r,i,!0);break;case"textarea":Pp(r),Lb(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Gm)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cj(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ea]=t,e[Jh]=r,I4(e,t,!1,!1),t.stateNode=e;e:{switch(o=ty(n,r),n){case"dialog":In("cancel",e),In("close",e),s=r;break;case"iframe":case"object":case"embed":In("load",e),s=r;break;case"video":case"audio":for(s=0;s<xh.length;s++)In(xh[s],e);s=r;break;case"source":In("error",e),s=r;break;case"img":case"image":case"link":In("error",e),In("load",e),s=r;break;case"details":In("toggle",e),s=r;break;case"input":kb(e,r),s=Y1(e,r),In("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Gn({},r,{value:void 0}),In("invalid",e);break;case"textarea":Pb(e,r),s=Q1(e,r),In("invalid",e);break;default:s=r}ey(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?hj(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&uj(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&zh(e,c):typeof c=="number"&&zh(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Uh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&In("scroll",e):c!=null&&G2(e,i,c,o))}switch(n){case"input":Pp(e),Ab(e,r,!1);break;case"textarea":Pp(e),Lb(e);break;case"option":r.value!=null&&e.setAttribute("value",""+sl(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?_u(e,!!r.multiple,i,!1):r.defaultValue!=null&&_u(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Gm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ur(t),null;case 6:if(e&&t.stateNode!=null)O4(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($e(166));if(n=Yl(Zh.current),Yl(aa.current),Bp(t)){if(r=t.stateNode,n=t.memoizedProps,r[ea]=t,(i=r.nodeValue!==n)&&(e=qs,e!==null))switch(e.tag){case 3:Fp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fp(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ea]=t,t.stateNode=r}return Ur(t),null;case 13:if(On(Hn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($n&&$s!==null&&t.mode&1&&!(t.flags&128))Zj(),Vu(),t.flags|=98560,i=!1;else if(i=Bp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error($e(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($e(317));i[ea]=t}else Vu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ur(t),i=!1}else ki!==null&&(Oy(ki),ki=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Hn.current&1?Sr===0&&(Sr=3):Ax())),t.updateQueue!==null&&(t.flags|=4),Ur(t),null);case 4:return Ku(),Cy(e,t),e===null&&Yh(t.stateNode.containerInfo),Ur(t),null;case 10:return hx(t.type._context),Ur(t),null;case 17:return Ns(t.type)&&Km(),Ur(t),null;case 19:if(On(Hn),i=t.memoizedState,i===null)return Ur(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)rh(i,!1);else{if(Sr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=tg(e),o!==null){for(t.flags|=128,rh(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pn(Hn,Hn.current&1|2),t.child}e=e.sibling}i.tail!==null&&ir()>Xu&&(t.flags|=128,r=!0,rh(i,!1),t.lanes=4194304)}else{if(!r)if(e=tg(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!$n)return Ur(t),null}else 2*ir()-i.renderingStartTime>Xu&&n!==1073741824&&(t.flags|=128,r=!0,rh(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ir(),t.sibling=null,n=Hn.current,Pn(Hn,r?n&1|2:n&1),t):(Ur(t),null);case 22:case 23:return kx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fs&1073741824&&(Ur(t),t.subtreeFlags&6&&(t.flags|=8192)):Ur(t),null;case 24:return null;case 25:return null}throw Error($e(156,t.tag))}function p8(e,t){switch(lx(t),t.tag){case 1:return Ns(t.type)&&Km(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ku(),On(Ss),On(Kr),vx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gx(t),null;case 13:if(On(Hn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($e(340));Vu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return On(Hn),null;case 4:return Ku(),null;case 10:return hx(t.type._context),null;case 22:case 23:return kx(),null;case 24:return null;default:return null}}var zp=!1,Gr=!1,m8=typeof WeakSet=="function"?WeakSet:Set,tt=null;function xu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Zn(e,t,r)}else n.current=null}function ky(e,t,n){try{n()}catch(r){Zn(e,t,r)}}var w5=!1;function g8(e,t){if(dy=Wm,e=$j(),ax(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,p=e,m=null;t:for(;;){for(var h;p!==n||s!==0&&p.nodeType!==3||(l=o+s),p!==i||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(h=p.firstChild)!==null;)m=p,p=h;for(;;){if(p===e)break t;if(m===n&&++u===s&&(l=o),m===i&&++d===r&&(c=o),(h=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=h}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(hy={focusedElem:e,selectionRange:n},Wm=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){t=tt;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,w=b.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:_i(t.type,v),w);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($e(163))}}catch(k){Zn(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}return b=w5,w5=!1,b}function Ph(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ky(t,n,i)}s=s.next}while(s!==r)}}function Bg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ay(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function D4(e){var t=e.alternate;t!==null&&(e.alternate=null,D4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ea],delete t[Jh],delete t[my],delete t[QT],delete t[ZT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function M4(e){return e.tag===5||e.tag===3||e.tag===4}function b5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||M4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Py(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gm));else if(r!==4&&(e=e.child,e!==null))for(Py(e,t,n),e=e.sibling;e!==null;)Py(e,t,n),e=e.sibling}function Ly(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ly(e,t,n),e=e.sibling;e!==null;)Ly(e,t,n),e=e.sibling}var Tr=null,Ei=!1;function vo(e,t,n){for(n=n.child;n!==null;)F4(e,t,n),n=n.sibling}function F4(e,t,n){if(ia&&typeof ia.onCommitFiberUnmount=="function")try{ia.onCommitFiberUnmount(Lg,n)}catch{}switch(n.tag){case 5:Gr||xu(n,t);case 6:var r=Tr,s=Ei;Tr=null,vo(e,t,n),Tr=r,Ei=s,Tr!==null&&(Ei?(e=Tr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Tr.removeChild(n.stateNode));break;case 18:Tr!==null&&(Ei?(e=Tr,n=n.stateNode,e.nodeType===8?Lv(e.parentNode,n):e.nodeType===1&&Lv(e,n),Vh(e)):Lv(Tr,n.stateNode));break;case 4:r=Tr,s=Ei,Tr=n.stateNode.containerInfo,Ei=!0,vo(e,t,n),Tr=r,Ei=s;break;case 0:case 11:case 14:case 15:if(!Gr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ky(n,t,o),s=s.next}while(s!==r)}vo(e,t,n);break;case 1:if(!Gr&&(xu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Zn(n,t,l)}vo(e,t,n);break;case 21:vo(e,t,n);break;case 22:n.mode&1?(Gr=(r=Gr)||n.memoizedState!==null,vo(e,t,n),Gr=r):vo(e,t,n);break;default:vo(e,t,n)}}function _5(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new m8),t.forEach(function(r){var s=j8.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function yi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Tr=l.stateNode,Ei=!1;break e;case 3:Tr=l.stateNode.containerInfo,Ei=!0;break e;case 4:Tr=l.stateNode.containerInfo,Ei=!0;break e}l=l.return}if(Tr===null)throw Error($e(160));F4(i,o,s),Tr=null,Ei=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Zn(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)B4(t,e),t=t.sibling}function B4(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yi(t,e),Hi(e),r&4){try{Ph(3,e,e.return),Bg(3,e)}catch(v){Zn(e,e.return,v)}try{Ph(5,e,e.return)}catch(v){Zn(e,e.return,v)}}break;case 1:yi(t,e),Hi(e),r&512&&n!==null&&xu(n,n.return);break;case 5:if(yi(t,e),Hi(e),r&512&&n!==null&&xu(n,n.return),e.flags&32){var s=e.stateNode;try{zh(s,"")}catch(v){Zn(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&oj(s,i),ty(l,o);var u=ty(l,i);for(o=0;o<c.length;o+=2){var d=c[o],p=c[o+1];d==="style"?hj(s,p):d==="dangerouslySetInnerHTML"?uj(s,p):d==="children"?zh(s,p):G2(s,d,p,u)}switch(l){case"input":X1(s,i);break;case"textarea":lj(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?_u(s,!!i.multiple,h,!1):m!==!!i.multiple&&(i.defaultValue!=null?_u(s,!!i.multiple,i.defaultValue,!0):_u(s,!!i.multiple,i.multiple?[]:"",!1))}s[Jh]=i}catch(v){Zn(e,e.return,v)}}break;case 6:if(yi(t,e),Hi(e),r&4){if(e.stateNode===null)throw Error($e(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){Zn(e,e.return,v)}}break;case 3:if(yi(t,e),Hi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vh(t.containerInfo)}catch(v){Zn(e,e.return,v)}break;case 4:yi(t,e),Hi(e);break;case 13:yi(t,e),Hi(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ex=ir())),r&4&&_5(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Gr=(u=Gr)||d,yi(t,e),Gr=u):yi(t,e),Hi(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(tt=e,d=e.child;d!==null;){for(p=tt=d;tt!==null;){switch(m=tt,h=m.child,m.tag){case 0:case 11:case 14:case 15:Ph(4,m,m.return);break;case 1:xu(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(v){Zn(r,n,v)}}break;case 5:xu(m,m.return);break;case 22:if(m.memoizedState!==null){N5(p);continue}}h!==null?(h.return=m,tt=h):N5(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=dj("display",o))}catch(v){Zn(e,e.return,v)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(v){Zn(e,e.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:yi(t,e),Hi(e),r&4&&_5(e);break;case 21:break;default:yi(t,e),Hi(e)}}function Hi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(M4(n)){var r=n;break e}n=n.return}throw Error($e(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(zh(s,""),r.flags&=-33);var i=b5(e);Ly(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=b5(e);Py(e,l,o);break;default:throw Error($e(161))}}catch(c){Zn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function v8(e,t,n){tt=e,$4(e)}function $4(e,t,n){for(var r=(e.mode&1)!==0;tt!==null;){var s=tt,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||zp;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Gr;l=zp;var u=Gr;if(zp=o,(Gr=c)&&!u)for(tt=s;tt!==null;)o=tt,c=o.child,o.tag===22&&o.memoizedState!==null?j5(s):c!==null?(c.return=o,tt=c):j5(s);for(;i!==null;)tt=i,$4(i),i=i.sibling;tt=s,zp=l,Gr=u}S5(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,tt=i):S5(e)}}function S5(e){for(;tt!==null;){var t=tt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gr||Bg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Gr)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:_i(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&o5(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}o5(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Vh(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($e(163))}Gr||t.flags&512&&Ay(t)}catch(m){Zn(t,t.return,m)}}if(t===e){tt=null;break}if(n=t.sibling,n!==null){n.return=t.return,tt=n;break}tt=t.return}}function N5(e){for(;tt!==null;){var t=tt;if(t===e){tt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,tt=n;break}tt=t.return}}function j5(e){for(;tt!==null;){var t=tt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Bg(4,t)}catch(c){Zn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Zn(t,s,c)}}var i=t.return;try{Ay(t)}catch(c){Zn(t,i,c)}break;case 5:var o=t.return;try{Ay(t)}catch(c){Zn(t,o,c)}}}catch(c){Zn(t,t.return,c)}if(t===e){tt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,tt=l;break}tt=t.return}}var y8=Math.ceil,sg=Xa.ReactCurrentDispatcher,Nx=Xa.ReactCurrentOwner,ci=Xa.ReactCurrentBatchConfig,Zt=0,Cr=null,fr=null,Or=0,Fs=0,wu=hl(0),Sr=0,rf=null,fc=0,$g=0,jx=0,Lh=null,xs=null,Ex=0,Xu=1/0,La=null,ig=!1,Ty=null,Jo=null,qp=!1,$o=null,ag=0,Th=0,Iy=null,Sm=-1,Nm=0;function as(){return Zt&6?ir():Sm!==-1?Sm:Sm=ir()}function Qo(e){return e.mode&1?Zt&2&&Or!==0?Or&-Or:t8.transition!==null?(Nm===0&&(Nm=Nj()),Nm):(e=gn,e!==0||(e=window.event,e=e===void 0?16:Lj(e.type)),e):1}function Pi(e,t,n,r){if(50<Th)throw Th=0,Iy=null,Error($e(185));Ef(e,n,r),(!(Zt&2)||e!==Cr)&&(e===Cr&&(!(Zt&2)&&($g|=n),Sr===4&&Lo(e,Or)),js(e,r),n===1&&Zt===0&&!(t.mode&1)&&(Xu=ir()+500,Dg&&fl()))}function js(e,t){var n=e.callbackNode;tT(e,t);var r=qm(e,e===Cr?Or:0);if(r===0)n!==null&&Rb(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Rb(n),t===1)e.tag===0?e8(E5.bind(null,e)):Xj(E5.bind(null,e)),XT(function(){!(Zt&6)&&fl()}),n=null;else{switch(jj(r)){case 1:n=Q2;break;case 4:n=_j;break;case 16:n=zm;break;case 536870912:n=Sj;break;default:n=zm}n=K4(n,U4.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function U4(e,t){if(Sm=-1,Nm=0,Zt&6)throw Error($e(327));var n=e.callbackNode;if(Cu()&&e.callbackNode!==n)return null;var r=qm(e,e===Cr?Or:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=og(e,r);else{t=r;var s=Zt;Zt|=2;var i=q4();(Cr!==e||Or!==t)&&(La=null,Xu=ir()+500,ic(e,t));do try{b8();break}catch(l){z4(e,l)}while(!0);dx(),sg.current=i,Zt=s,fr!==null?t=0:(Cr=null,Or=0,t=Sr)}if(t!==0){if(t===2&&(s=ay(e),s!==0&&(r=s,t=Ry(e,s))),t===1)throw n=rf,ic(e,0),Lo(e,r),js(e,ir()),n;if(t===6)Lo(e,r);else{if(s=e.current.alternate,!(r&30)&&!x8(s)&&(t=og(e,r),t===2&&(i=ay(e),i!==0&&(r=i,t=Ry(e,i))),t===1))throw n=rf,ic(e,0),Lo(e,r),js(e,ir()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error($e(345));case 2:Ul(e,xs,La);break;case 3:if(Lo(e,r),(r&130023424)===r&&(t=Ex+500-ir(),10<t)){if(qm(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){as(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=py(Ul.bind(null,e,xs,La),t);break}Ul(e,xs,La);break;case 4:if(Lo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Ai(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ir()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*y8(r/1960))-r,10<r){e.timeoutHandle=py(Ul.bind(null,e,xs,La),r);break}Ul(e,xs,La);break;case 5:Ul(e,xs,La);break;default:throw Error($e(329))}}}return js(e,ir()),e.callbackNode===n?U4.bind(null,e):null}function Ry(e,t){var n=Lh;return e.current.memoizedState.isDehydrated&&(ic(e,t).flags|=256),e=og(e,t),e!==2&&(t=xs,xs=n,t!==null&&Oy(t)),e}function Oy(e){xs===null?xs=e:xs.push.apply(xs,e)}function x8(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Li(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lo(e,t){for(t&=~jx,t&=~$g,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ai(t),r=1<<n;e[n]=-1,t&=~r}}function E5(e){if(Zt&6)throw Error($e(327));Cu();var t=qm(e,0);if(!(t&1))return js(e,ir()),null;var n=og(e,t);if(e.tag!==0&&n===2){var r=ay(e);r!==0&&(t=r,n=Ry(e,r))}if(n===1)throw n=rf,ic(e,0),Lo(e,t),js(e,ir()),n;if(n===6)throw Error($e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ul(e,xs,La),js(e,ir()),null}function Cx(e,t){var n=Zt;Zt|=1;try{return e(t)}finally{Zt=n,Zt===0&&(Xu=ir()+500,Dg&&fl())}}function pc(e){$o!==null&&$o.tag===0&&!(Zt&6)&&Cu();var t=Zt;Zt|=1;var n=ci.transition,r=gn;try{if(ci.transition=null,gn=1,e)return e()}finally{gn=r,ci.transition=n,Zt=t,!(Zt&6)&&fl()}}function kx(){Fs=wu.current,On(wu)}function ic(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,YT(n)),fr!==null)for(n=fr.return;n!==null;){var r=n;switch(lx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Km();break;case 3:Ku(),On(Ss),On(Kr),vx();break;case 5:gx(r);break;case 4:Ku();break;case 13:On(Hn);break;case 19:On(Hn);break;case 10:hx(r.type._context);break;case 22:case 23:kx()}n=n.return}if(Cr=e,fr=e=Zo(e.current,null),Or=Fs=t,Sr=0,rf=null,jx=$g=fc=0,xs=Lh=null,Kl!==null){for(t=0;t<Kl.length;t++)if(n=Kl[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Kl=null}return e}function z4(e,t){do{var n=fr;try{if(dx(),wm.current=rg,ng){for(var r=Vn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ng=!1}if(hc=0,jr=_r=Vn=null,Ah=!1,ef=0,Nx.current=null,n===null||n.return===null){Sr=1,rf=t,fr=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Or,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=f5(o);if(h!==null){h.flags&=-257,p5(h,o,l,i,t),h.mode&1&&h5(i,u,t),t=h,c=u;var b=t.updateQueue;if(b===null){var v=new Set;v.add(c),t.updateQueue=v}else b.add(c);break e}else{if(!(t&1)){h5(i,u,t),Ax();break e}c=Error($e(426))}}else if($n&&l.mode&1){var w=f5(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),p5(w,o,l,i,t),cx(Yu(c,l));break e}}i=c=Yu(c,l),Sr!==4&&(Sr=2),Lh===null?Lh=[i]:Lh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=j4(i,c,t);a5(i,y);break e;case 1:l=c;var x=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Jo===null||!Jo.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=E4(i,l,t);a5(i,k);break e}}i=i.return}while(i!==null)}H4(n)}catch(D){t=D,fr===n&&n!==null&&(fr=n=n.return);continue}break}while(!0)}function q4(){var e=sg.current;return sg.current=rg,e===null?rg:e}function Ax(){(Sr===0||Sr===3||Sr===2)&&(Sr=4),Cr===null||!(fc&268435455)&&!($g&268435455)||Lo(Cr,Or)}function og(e,t){var n=Zt;Zt|=2;var r=q4();(Cr!==e||Or!==t)&&(La=null,ic(e,t));do try{w8();break}catch(s){z4(e,s)}while(!0);if(dx(),Zt=n,sg.current=r,fr!==null)throw Error($e(261));return Cr=null,Or=0,Sr}function w8(){for(;fr!==null;)W4(fr)}function b8(){for(;fr!==null&&!VL();)W4(fr)}function W4(e){var t=G4(e.alternate,e,Fs);e.memoizedProps=e.pendingProps,t===null?H4(e):fr=t,Nx.current=null}function H4(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=p8(n,t),n!==null){n.flags&=32767,fr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Sr=6,fr=null;return}}else if(n=f8(n,t,Fs),n!==null){fr=n;return}if(t=t.sibling,t!==null){fr=t;return}fr=t=e}while(t!==null);Sr===0&&(Sr=5)}function Ul(e,t,n){var r=gn,s=ci.transition;try{ci.transition=null,gn=1,_8(e,t,n,r)}finally{ci.transition=s,gn=r}return null}function _8(e,t,n,r){do Cu();while($o!==null);if(Zt&6)throw Error($e(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($e(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(nT(e,i),e===Cr&&(fr=Cr=null,Or=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qp||(qp=!0,K4(zm,function(){return Cu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ci.transition,ci.transition=null;var o=gn;gn=1;var l=Zt;Zt|=4,Nx.current=null,g8(e,n),B4(n,e),zT(hy),Wm=!!dy,hy=dy=null,e.current=n,v8(n),GL(),Zt=l,gn=o,ci.transition=i}else e.current=n;if(qp&&(qp=!1,$o=e,ag=s),i=e.pendingLanes,i===0&&(Jo=null),XL(n.stateNode),js(e,ir()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ig)throw ig=!1,e=Ty,Ty=null,e;return ag&1&&e.tag!==0&&Cu(),i=e.pendingLanes,i&1?e===Iy?Th++:(Th=0,Iy=e):Th=0,fl(),null}function Cu(){if($o!==null){var e=jj(ag),t=ci.transition,n=gn;try{if(ci.transition=null,gn=16>e?16:e,$o===null)var r=!1;else{if(e=$o,$o=null,ag=0,Zt&6)throw Error($e(331));var s=Zt;for(Zt|=4,tt=e.current;tt!==null;){var i=tt,o=i.child;if(tt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(tt=u;tt!==null;){var d=tt;switch(d.tag){case 0:case 11:case 15:Ph(8,d,i)}var p=d.child;if(p!==null)p.return=d,tt=p;else for(;tt!==null;){d=tt;var m=d.sibling,h=d.return;if(D4(d),d===u){tt=null;break}if(m!==null){m.return=h,tt=m;break}tt=h}}}var b=i.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}tt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,tt=o;else e:for(;tt!==null;){if(i=tt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ph(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,tt=y;break e}tt=i.return}}var x=e.current;for(tt=x;tt!==null;){o=tt;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,tt=S;else e:for(o=x;tt!==null;){if(l=tt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Bg(9,l)}}catch(D){Zn(l,l.return,D)}if(l===o){tt=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,tt=k;break e}tt=l.return}}if(Zt=s,fl(),ia&&typeof ia.onPostCommitFiberRoot=="function")try{ia.onPostCommitFiberRoot(Lg,e)}catch{}r=!0}return r}finally{gn=n,ci.transition=t}}return!1}function C5(e,t,n){t=Yu(n,t),t=j4(e,t,1),e=Xo(e,t,1),t=as(),e!==null&&(Ef(e,1,t),js(e,t))}function Zn(e,t,n){if(e.tag===3)C5(e,e,n);else for(;t!==null;){if(t.tag===3){C5(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jo===null||!Jo.has(r))){e=Yu(n,e),e=E4(t,e,1),t=Xo(t,e,1),e=as(),t!==null&&(Ef(t,1,e),js(t,e));break}}t=t.return}}function S8(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=as(),e.pingedLanes|=e.suspendedLanes&n,Cr===e&&(Or&n)===n&&(Sr===4||Sr===3&&(Or&130023424)===Or&&500>ir()-Ex?ic(e,0):jx|=n),js(e,t)}function V4(e,t){t===0&&(e.mode&1?(t=Ip,Ip<<=1,!(Ip&130023424)&&(Ip=4194304)):t=1);var n=as();e=Ha(e,t),e!==null&&(Ef(e,t,n),js(e,n))}function N8(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),V4(e,n)}function j8(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($e(314))}r!==null&&r.delete(t),V4(e,n)}var G4;G4=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ss.current)bs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return bs=!1,h8(e,t,n);bs=!!(e.flags&131072)}else bs=!1,$n&&t.flags&1048576&&Jj(t,Jm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_m(e,t),e=t.pendingProps;var s=Hu(t,Kr.current);Eu(t,n),s=xx(null,t,r,e,s,n);var i=wx();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ns(r)?(i=!0,Ym(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,px(t),s.updater=Fg,t.stateNode=s,s._reactInternals=t,by(t,r,e,n),t=Ny(null,t,r,!0,i,n)):(t.tag=0,$n&&i&&ox(t),rs(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_m(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=C8(r),e=_i(r,e),s){case 0:t=Sy(null,t,r,e,n);break e;case 1:t=v5(null,t,r,e,n);break e;case 11:t=m5(null,t,r,e,n);break e;case 14:t=g5(null,t,r,_i(r.type,e),n);break e}throw Error($e(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_i(r,s),Sy(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_i(r,s),v5(e,t,r,s,n);case 3:e:{if(P4(t),e===null)throw Error($e(387));r=t.pendingProps,i=t.memoizedState,s=i.element,r4(e,t),eg(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Yu(Error($e(423)),t),t=y5(e,t,r,n,s);break e}else if(r!==s){s=Yu(Error($e(424)),t),t=y5(e,t,r,n,s);break e}else for($s=Yo(t.stateNode.containerInfo.firstChild),qs=t,$n=!0,ki=null,n=t4(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vu(),r===s){t=Va(e,t,n);break e}rs(e,t,r,n)}t=t.child}return t;case 5:return s4(t),e===null&&yy(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,fy(r,s)?o=null:i!==null&&fy(r,i)&&(t.flags|=32),A4(e,t),rs(e,t,o,n),t.child;case 6:return e===null&&yy(t),null;case 13:return L4(e,t,n);case 4:return mx(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gu(t,null,r,n):rs(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_i(r,s),m5(e,t,r,s,n);case 7:return rs(e,t,t.pendingProps,n),t.child;case 8:return rs(e,t,t.pendingProps.children,n),t.child;case 12:return rs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Pn(Qm,r._currentValue),r._currentValue=o,i!==null)if(Li(i.value,o)){if(i.children===s.children&&!Ss.current){t=Va(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=$a(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),xy(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($e(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xy(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}rs(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Eu(t,n),s=ui(s),r=r(s),t.flags|=1,rs(e,t,r,n),t.child;case 14:return r=t.type,s=_i(r,t.pendingProps),s=_i(r.type,s),g5(e,t,r,s,n);case 15:return C4(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_i(r,s),_m(e,t),t.tag=1,Ns(r)?(e=!0,Ym(t)):e=!1,Eu(t,n),N4(t,r,s),by(t,r,s,n),Ny(null,t,r,!0,e,n);case 19:return T4(e,t,n);case 22:return k4(e,t,n)}throw Error($e(156,t.tag))};function K4(e,t){return bj(e,t)}function E8(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(e,t,n,r){return new E8(e,t,n,r)}function Px(e){return e=e.prototype,!(!e||!e.isReactComponent)}function C8(e){if(typeof e=="function")return Px(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Y2)return 11;if(e===X2)return 14}return 2}function Zo(e,t){var n=e.alternate;return n===null?(n=li(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jm(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Px(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case uu:return ac(n.children,s,i,t);case K2:o=8,s|=8;break;case H1:return e=li(12,n,t,s|2),e.elementType=H1,e.lanes=i,e;case V1:return e=li(13,n,t,s),e.elementType=V1,e.lanes=i,e;case G1:return e=li(19,n,t,s),e.elementType=G1,e.lanes=i,e;case sj:return Ug(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nj:o=10;break e;case rj:o=9;break e;case Y2:o=11;break e;case X2:o=14;break e;case ko:o=16,r=null;break e}throw Error($e(130,e==null?e:typeof e,""))}return t=li(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function ac(e,t,n,r){return e=li(7,e,r,t),e.lanes=n,e}function Ug(e,t,n,r){return e=li(22,e,r,t),e.elementType=sj,e.lanes=n,e.stateNode={isHidden:!1},e}function Bv(e,t,n){return e=li(6,e,null,t),e.lanes=n,e}function $v(e,t,n){return t=li(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function k8(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wv(0),this.expirationTimes=wv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wv(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Lx(e,t,n,r,s,i,o,l,c){return e=new k8(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=li(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},px(i),e}function A8(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Y4(e){if(!e)return il;e=e._reactInternals;e:{if(jc(e)!==e||e.tag!==1)throw Error($e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ns(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($e(171))}if(e.tag===1){var n=e.type;if(Ns(n))return Yj(e,n,t)}return t}function X4(e,t,n,r,s,i,o,l,c){return e=Lx(n,r,!0,e,s,i,o,l,c),e.context=Y4(null),n=e.current,r=as(),s=Qo(n),i=$a(r,s),i.callback=t??null,Xo(n,i,s),e.current.lanes=s,Ef(e,s,r),js(e,r),e}function zg(e,t,n,r){var s=t.current,i=as(),o=Qo(s);return n=Y4(n),t.context===null?t.context=n:t.pendingContext=n,t=$a(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xo(s,t,o),e!==null&&(Pi(e,s,o,i),xm(e,s,o)),o}function lg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function k5(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Tx(e,t){k5(e,t),(e=e.alternate)&&k5(e,t)}function P8(){return null}var J4=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ix(e){this._internalRoot=e}qg.prototype.render=Ix.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($e(409));zg(e,t,null,null)};qg.prototype.unmount=Ix.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pc(function(){zg(null,e,null,null)}),t[Wa]=null}};function qg(e){this._internalRoot=e}qg.prototype.unstable_scheduleHydration=function(e){if(e){var t=kj();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Po.length&&t!==0&&t<Po[n].priority;n++);Po.splice(n,0,e),n===0&&Pj(e)}};function Rx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function A5(){}function L8(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=lg(o);i.call(u)}}var o=X4(t,r,e,0,null,!1,!1,"",A5);return e._reactRootContainer=o,e[Wa]=o.current,Yh(e.nodeType===8?e.parentNode:e),pc(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=lg(c);l.call(u)}}var c=Lx(e,0,!1,null,null,!1,!1,"",A5);return e._reactRootContainer=c,e[Wa]=c.current,Yh(e.nodeType===8?e.parentNode:e),pc(function(){zg(t,c,n,r)}),c}function Hg(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=lg(o);l.call(c)}}zg(t,o,e,s)}else o=L8(n,t,e,s,r);return lg(o)}Ej=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yh(t.pendingLanes);n!==0&&(Z2(t,n|1),js(t,ir()),!(Zt&6)&&(Xu=ir()+500,fl()))}break;case 13:pc(function(){var r=Ha(e,1);if(r!==null){var s=as();Pi(r,e,1,s)}}),Tx(e,1)}};ex=function(e){if(e.tag===13){var t=Ha(e,134217728);if(t!==null){var n=as();Pi(t,e,134217728,n)}Tx(e,134217728)}};Cj=function(e){if(e.tag===13){var t=Qo(e),n=Ha(e,t);if(n!==null){var r=as();Pi(n,e,t,r)}Tx(e,t)}};kj=function(){return gn};Aj=function(e,t){var n=gn;try{return gn=e,t()}finally{gn=n}};ry=function(e,t,n){switch(t){case"input":if(X1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Og(r);if(!s)throw Error($e(90));aj(r),X1(r,s)}}}break;case"textarea":lj(e,n);break;case"select":t=n.value,t!=null&&_u(e,!!n.multiple,t,!1)}};mj=Cx;gj=pc;var T8={usingClientEntryPoint:!1,Events:[kf,pu,Og,fj,pj,Cx]},sh={findFiberByHostInstance:Gl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I8={bundleType:sh.bundleType,version:sh.version,rendererPackageName:sh.rendererPackageName,rendererConfig:sh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xj(e),e===null?null:e.stateNode},findFiberByHostInstance:sh.findFiberByHostInstance||P8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wp.isDisabled&&Wp.supportsFiber)try{Lg=Wp.inject(I8),ia=Wp}catch{}}Gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T8;Gs.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rx(t))throw Error($e(200));return A8(e,t,null,n)};Gs.createRoot=function(e,t){if(!Rx(e))throw Error($e(299));var n=!1,r="",s=J4;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Lx(e,1,!1,null,null,n,!1,r,s),e[Wa]=t.current,Yh(e.nodeType===8?e.parentNode:e),new Ix(t)};Gs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($e(188)):(e=Object.keys(e).join(","),Error($e(268,e)));return e=xj(t),e=e===null?null:e.stateNode,e};Gs.flushSync=function(e){return pc(e)};Gs.hydrate=function(e,t,n){if(!Wg(t))throw Error($e(200));return Hg(null,e,t,!0,n)};Gs.hydrateRoot=function(e,t,n){if(!Rx(e))throw Error($e(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=J4;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=X4(t,null,e,1,n??null,s,!1,i,o),e[Wa]=t.current,Yh(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new qg(t)};Gs.render=function(e,t,n){if(!Wg(t))throw Error($e(200));return Hg(null,e,t,!1,n)};Gs.unmountComponentAtNode=function(e){if(!Wg(e))throw Error($e(40));return e._reactRootContainer?(pc(function(){Hg(null,null,e,!1,function(){e._reactRootContainer=null,e[Wa]=null})}),!0):!1};Gs.unstable_batchedUpdates=Cx;Gs.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Wg(n))throw Error($e(200));if(e==null||e._reactInternals===void 0)throw Error($e(38));return Hg(e,t,n,!1,r)};Gs.version="18.3.1-next-f1338f8080-20240426";function Q4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q4)}catch(e){console.error(e)}}Q4(),QN.exports=Gs;var Ec=QN.exports;const Z4=$N(Ec);var e3,P5=Ec;e3=P5.createRoot,P5.hydrateRoot;const R8=1,O8=1e6;let Uv=0;function D8(){return Uv=(Uv+1)%Number.MAX_SAFE_INTEGER,Uv.toString()}const zv=new Map,L5=e=>{if(zv.has(e))return;const t=setTimeout(()=>{zv.delete(e),Ih({type:"REMOVE_TOAST",toastId:e})},O8);zv.set(e,t)},M8=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,R8)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?L5(n):e.toasts.forEach(r=>{L5(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Em=[];let Cm={toasts:[]};function Ih(e){Cm=M8(Cm,e),Em.forEach(t=>{t(Cm)})}function F8({...e}){const t=D8(),n=s=>Ih({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Ih({type:"DISMISS_TOAST",toastId:t});return Ih({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Nn(){const[e,t]=_.useState(Cm);return _.useEffect(()=>(Em.push(t),()=>{const n=Em.indexOf(t);n>-1&&Em.splice(n,1)}),[e]),{...e,toast:F8,dismiss:n=>Ih({type:"DISMISS_TOAST",toastId:n})}}function wt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function T5(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function t3(...e){return t=>{let n=!1;const r=e.map(s=>{const i=T5(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():T5(e[s],null)}}}}function en(...e){return _.useCallback(t3(...e),e)}function B8(e,t){const n=_.createContext(t),r=i=>{const{children:o,...l}=i,c=_.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(i){const o=_.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Ys(e,t=[]){let n=[];function r(i,o){const l=_.createContext(o),c=n.length;n=[...n,o];const u=p=>{var y;const{scope:m,children:h,...b}=p,v=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,w=_.useMemo(()=>b,Object.values(b));return a.jsx(v.Provider,{value:w,children:h})};u.displayName=i+"Provider";function d(p,m){var v;const h=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,b=_.useContext(h);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>_.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,$8(s,...t)]}function $8(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const p=c(i)[`__scope${u}`];return{...l,...p}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Ju(e){const t=U8(e),n=_.forwardRef((r,s)=>{const{children:i,...o}=r,l=_.Children.toArray(i),c=l.find(q8);if(c){const u=c.props.children,d=l.map(p=>p===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:s,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var cd=Ju("Slot");function U8(e){const t=_.forwardRef((n,r)=>{const{children:s,...i}=n;if(_.isValidElement(s)){const o=H8(s),l=W8(i,s.props);return s.type!==_.Fragment&&(l.ref=r?t3(r,o):o),_.cloneElement(s,l)}return _.Children.count(s)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var n3=Symbol("radix.slottable");function z8(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=n3,t}function q8(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===n3}function W8(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function H8(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ox(e){const t=e+"CollectionProvider",[n,r]=Ys(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:w,children:y}=v,x=We.useRef(null),S=We.useRef(new Map).current;return a.jsx(s,{scope:w,itemMap:S,collectionRef:x,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Ju(l),u=We.forwardRef((v,w)=>{const{scope:y,children:x}=v,S=i(l,y),k=en(w,S.collectionRef);return a.jsx(c,{ref:k,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",p="data-radix-collection-item",m=Ju(d),h=We.forwardRef((v,w)=>{const{scope:y,children:x,...S}=v,k=We.useRef(null),D=en(w,k),A=i(d,y);return We.useEffect(()=>(A.itemMap.set(k,{ref:k,...S}),()=>void A.itemMap.delete(k))),a.jsx(m,{[p]:"",ref:D,children:x})});h.displayName=d;function b(v){const w=i(e+"CollectionConsumer",v);return We.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const S=Array.from(x.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((A,R)=>S.indexOf(A.ref.current)-S.indexOf(R.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},b,r]}var V8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_t=V8.reduce((e,t)=>{const n=Ju(`Primitive.${t}`),r=_.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function r3(e,t){e&&Ec.flushSync(()=>e.dispatchEvent(t))}function Vs(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function G8(e,t=globalThis==null?void 0:globalThis.document){const n=Vs(e);_.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var K8="DismissableLayer",Dy="dismissableLayer.update",Y8="dismissableLayer.pointerDownOutside",X8="dismissableLayer.focusOutside",I5,s3=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pf=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=_.useContext(s3),[d,p]=_.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=_.useState({}),b=en(t,R=>p(R)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(w),x=d?v.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,k=x>=y,D=Q8(R=>{const L=R.target,C=[...u.branches].some(M=>M.contains(L));!k||C||(s==null||s(R),o==null||o(R),R.defaultPrevented||l==null||l())},m),A=Z8(R=>{const L=R.target;[...u.branches].some(M=>M.contains(L))||(i==null||i(R),o==null||o(R),R.defaultPrevented||l==null||l())},m);return G8(R=>{x===u.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&l&&(R.preventDefault(),l()))},m),_.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(I5=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),R5(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=I5)}},[d,m,n,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),R5())},[d,u]),_.useEffect(()=>{const R=()=>h({});return document.addEventListener(Dy,R),()=>document.removeEventListener(Dy,R)},[]),a.jsx(_t.div,{...c,ref:b,style:{pointerEvents:S?k?"auto":"none":void 0,...e.style},onFocusCapture:wt(e.onFocusCapture,A.onFocusCapture),onBlurCapture:wt(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:wt(e.onPointerDownCapture,D.onPointerDownCapture)})});Pf.displayName=K8;var J8="DismissableLayerBranch",i3=_.forwardRef((e,t)=>{const n=_.useContext(s3),r=_.useRef(null),s=en(t,r);return _.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(_t.div,{...e,ref:s})});i3.displayName=J8;function Q8(e,t=globalThis==null?void 0:globalThis.document){const n=Vs(e),r=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){a3(Y8,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Z8(e,t=globalThis==null?void 0:globalThis.document){const n=Vs(e),r=_.useRef(!1);return _.useEffect(()=>{const s=i=>{i.target&&!r.current&&a3(X8,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function R5(){const e=new CustomEvent(Dy);document.dispatchEvent(e)}function a3(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?r3(s,i):s.dispatchEvent(i)}var eI=Pf,tI=i3,mr=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},nI="Portal",Vg=_.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=_.useState(!1);mr(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Z4.createPortal(a.jsx(_t.div,{...r,ref:t}),o):null});Vg.displayName=nI;function rI(e,t){return _.useReducer((n,r)=>t[n][r]??n,e)}var Ja=e=>{const{present:t,children:n}=e,r=sI(t),s=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),i=en(r.ref,iI(s));return typeof n=="function"||r.isPresent?_.cloneElement(s,{ref:i}):null};Ja.displayName="Presence";function sI(e){const[t,n]=_.useState(),r=_.useRef(null),s=_.useRef(e),i=_.useRef("none"),o=e?"mounted":"unmounted",[l,c]=rI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=Hp(r.current);i.current=l==="mounted"?u:"none"},[l]),mr(()=>{const u=r.current,d=s.current;if(d!==e){const m=i.current,h=Hp(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),mr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,p=h=>{const v=Hp(r.current).includes(h.animationName);if(h.target===t&&v&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=h=>{h.target===t&&(i.current=Hp(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Hp(e){return(e==null?void 0:e.animationName)||"none"}function iI(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var aI=W2[" useInsertionEffect ".trim().toString()]||mr;function da({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=oI({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=_.useRef(e!==void 0);_.useEffect(()=>{const p=d.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=_.useCallback(d=>{var p;if(l){const m=lI(d)?d(e):d;m!==e&&((p=o.current)==null||p.call(o,m))}else i(d)},[l,e,i,o]);return[c,u]}function oI({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),s=_.useRef(n),i=_.useRef(t);return aI(()=>{i.current=t},[t]),_.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function lI(e){return typeof e=="function"}var o3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cI="VisuallyHidden",Gg=_.forwardRef((e,t)=>a.jsx(_t.span,{...e,ref:t,style:{...o3,...e.style}}));Gg.displayName=cI;var Dx=Gg,Mx="ToastProvider",[Fx,uI,dI]=Ox("Toast"),[l3,XG]=Ys("Toast",[dI]),[hI,Kg]=l3(Mx),c3=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=_.useState(null),[u,d]=_.useState(0),p=_.useRef(!1),m=_.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Mx}\`. Expected non-empty \`string\`.`),a.jsx(Fx.Provider,{scope:t,children:a.jsx(hI,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:_.useCallback(()=>d(h=>h+1),[]),onToastRemove:_.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:o})})};c3.displayName=Mx;var u3="ToastViewport",fI=["F8"],My="toast.viewportPause",Fy="toast.viewportResume",d3=_.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=fI,label:s="Notifications ({hotkey})",...i}=e,o=Kg(u3,n),l=uI(n),c=_.useRef(null),u=_.useRef(null),d=_.useRef(null),p=_.useRef(null),m=en(t,p,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;_.useEffect(()=>{const w=y=>{var S;r.length!==0&&r.every(k=>y[k]||y.code===k)&&((S=p.current)==null||S.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),_.useEffect(()=>{const w=c.current,y=p.current;if(b&&w&&y){const x=()=>{if(!o.isClosePausedRef.current){const A=new CustomEvent(My);y.dispatchEvent(A),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const A=new CustomEvent(Fy);y.dispatchEvent(A),o.isClosePausedRef.current=!1}},k=A=>{!w.contains(A.relatedTarget)&&S()},D=()=>{w.contains(document.activeElement)||S()};return w.addEventListener("focusin",x),w.addEventListener("focusout",k),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",D),window.addEventListener("blur",x),window.addEventListener("focus",S),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",k),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",D),window.removeEventListener("blur",x),window.removeEventListener("focus",S)}}},[b,o.isClosePausedRef]);const v=_.useCallback(({tabbingDirection:w})=>{const x=l().map(S=>{const k=S.ref.current,D=[k,...EI(k)];return w==="forwards"?D:D.reverse()});return(w==="forwards"?x.reverse():x).flat()},[l]);return _.useEffect(()=>{const w=p.current;if(w){const y=x=>{var D,A,R;const S=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!S){const L=document.activeElement,C=x.shiftKey;if(x.target===w&&C){(D=u.current)==null||D.focus();return}const P=v({tabbingDirection:C?"backwards":"forwards"}),z=P.findIndex($=>$===L);qv(P.slice(z+1))?x.preventDefault():C?(A=u.current)==null||A.focus():(R=d.current)==null||R.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,v]),a.jsxs(tI,{ref:c,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&a.jsx(By,{ref:u,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});qv(w)}}),a.jsx(Fx.Slot,{scope:n,children:a.jsx(_t.ol,{tabIndex:-1,...i,ref:m})}),b&&a.jsx(By,{ref:d,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});qv(w)}})]})});d3.displayName=u3;var h3="ToastFocusProxy",By=_.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=Kg(h3,n);return a.jsx(Gg,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});By.displayName=h3;var Lf="Toast",pI="toast.swipeStart",mI="toast.swipeMove",gI="toast.swipeCancel",vI="toast.swipeEnd",f3=_.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[l,c]=da({prop:r,defaultProp:s??!0,onChange:i,caller:Lf});return a.jsx(Ja,{present:n||l,children:a.jsx(wI,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Vs(e.onPause),onResume:Vs(e.onResume),onSwipeStart:wt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:wt(e.onSwipeMove,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:wt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:wt(e.onSwipeEnd,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});f3.displayName=Lf;var[yI,xI]=l3(Lf,{onClose(){}}),wI=_.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:h,...b}=e,v=Kg(Lf,n),[w,y]=_.useState(null),x=en(t,$=>y($)),S=_.useRef(null),k=_.useRef(null),D=s||v.duration,A=_.useRef(0),R=_.useRef(D),L=_.useRef(0),{onToastAdd:C,onToastRemove:M}=v,E=Vs(()=>{var Z;(w==null?void 0:w.contains(document.activeElement))&&((Z=v.viewport)==null||Z.focus()),o()}),P=_.useCallback($=>{!$||$===1/0||(window.clearTimeout(L.current),A.current=new Date().getTime(),L.current=window.setTimeout(E,$))},[E]);_.useEffect(()=>{const $=v.viewport;if($){const Z=()=>{P(R.current),u==null||u()},ie=()=>{const te=new Date().getTime()-A.current;R.current=R.current-te,window.clearTimeout(L.current),c==null||c()};return $.addEventListener(My,ie),$.addEventListener(Fy,Z),()=>{$.removeEventListener(My,ie),$.removeEventListener(Fy,Z)}}},[v.viewport,D,c,u,P]),_.useEffect(()=>{i&&!v.isClosePausedRef.current&&P(D)},[i,D,v.isClosePausedRef,P]),_.useEffect(()=>(C(),()=>M()),[C,M]);const z=_.useMemo(()=>w?w3(w):null,[w]);return v.viewport?a.jsxs(a.Fragment,{children:[z&&a.jsx(bI,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),a.jsx(yI,{scope:n,onClose:E,children:Ec.createPortal(a.jsx(Fx.ItemSlot,{scope:n,children:a.jsx(eI,{asChild:!0,onEscapeKeyDown:wt(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||E(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(_t.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...b,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:wt(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:wt(e.onPointerDown,$=>{$.button===0&&(S.current={x:$.clientX,y:$.clientY})}),onPointerMove:wt(e.onPointerMove,$=>{if(!S.current)return;const Z=$.clientX-S.current.x,ie=$.clientY-S.current.y,te=!!k.current,V=["left","right"].includes(v.swipeDirection),G=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,oe=V?G(0,Z):0,ae=V?0:G(0,ie),O=$.pointerType==="touch"?10:2,T={x:oe,y:ae},U={originalEvent:$,delta:T};te?(k.current=T,Vp(mI,p,U,{discrete:!1})):O5(T,v.swipeDirection,O)?(k.current=T,Vp(pI,d,U,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(Z)>O||Math.abs(ie)>O)&&(S.current=null)}),onPointerUp:wt(e.onPointerUp,$=>{const Z=k.current,ie=$.target;if(ie.hasPointerCapture($.pointerId)&&ie.releasePointerCapture($.pointerId),k.current=null,S.current=null,Z){const te=$.currentTarget,V={originalEvent:$,delta:Z};O5(Z,v.swipeDirection,v.swipeThreshold)?Vp(vI,h,V,{discrete:!0}):Vp(gI,m,V,{discrete:!0}),te.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),bI=e=>{const{__scopeToast:t,children:n,...r}=e,s=Kg(Lf,t),[i,o]=_.useState(!1),[l,c]=_.useState(!1);return NI(()=>o(!0)),_.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Vg,{asChild:!0,children:a.jsx(Gg,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},_I="ToastTitle",p3=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(_t.div,{...r,ref:t})});p3.displayName=_I;var SI="ToastDescription",m3=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(_t.div,{...r,ref:t})});m3.displayName=SI;var g3="ToastAction",v3=_.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(x3,{altText:n,asChild:!0,children:a.jsx(Bx,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${g3}\`. Expected non-empty \`string\`.`),null)});v3.displayName=g3;var y3="ToastClose",Bx=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=xI(y3,n);return a.jsx(x3,{asChild:!0,children:a.jsx(_t.button,{type:"button",...r,ref:t,onClick:wt(e.onClick,s.onClose)})})});Bx.displayName=y3;var x3=_.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx(_t.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function w3(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),jI(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...w3(r))}}),t}function Vp(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?r3(s,i):s.dispatchEvent(i)}var O5=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function NI(e=()=>{}){const t=Vs(e);mr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function jI(e){return e.nodeType===e.ELEMENT_NODE}function EI(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function qv(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var CI=c3,b3=d3,_3=f3,S3=p3,N3=m3,j3=v3,E3=Bx;function C3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=C3(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function k3(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=C3(e))&&(r&&(r+=" "),r+=t);return r}const D5=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,M5=k3,Cc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return M5(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],p=i==null?void 0:i[u];if(d===null)return null;const m=D5(d)||D5(p);return s[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[p,m]=d;return m===void 0||(u[p]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:p,className:m,...h}=d;return Object.entries(h).every(b=>{let[v,w]=b;return Array.isArray(w)?w.includes({...i,...l}[v]):{...i,...l}[v]===w})?[...u,p,m]:u},[]);return M5(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),A3=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>_.createElement("svg",{ref:c,...AI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:A3("lucide",s),...l},[...o.map(([u,d])=>_.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=(e,t)=>{const n=_.forwardRef(({className:r,...s},i)=>_.createElement(PI,{ref:i,iconNode:t,className:A3(`lucide-${kI(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Wt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=Wt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=Wt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=Wt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=Wt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=Wt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=Wt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=Wt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=Wt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=Wt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=Wt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=Wt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=Wt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=Wt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=Wt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=Wt("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=Wt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=Wt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=Wt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=Wt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=Wt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=Wt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=Wt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=Wt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=Wt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=Wt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=Wt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=Wt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=Wt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=Wt("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=Wt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=Wt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=Wt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=Wt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=Wt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=Wt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=Wt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=Wt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qx="-",$I=e=>{const t=zI(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(qx);return l[0]===""&&l.length!==1&&l.shift(),D3(l,t)||UI(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},D3=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?D3(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(qx);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},z5=/^\[(.+)\]$/,UI=e=>{if(z5.test(e)){const t=z5.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},zI=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return WI(Object.entries(e.classGroups),n).forEach(([i,o])=>{zy(o,r,i,t)}),r},zy=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:q5(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(qI(s)){zy(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{zy(o,q5(t,i),n,r)})})},q5=(e,t)=>{let n=e;return t.split(qx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},qI=e=>e.isThemeGetter,WI=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,s]}):e,HI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},M3="!",VI=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,p;for(let w=0;w<l.length;w++){let y=l[w];if(u===0){if(y===s&&(r||l.slice(w,w+i)===t)){c.push(l.slice(d,w)),d=w+i;continue}if(y==="/"){p=w;continue}}y==="["?u++:y==="]"&&u--}const m=c.length===0?l:l.substring(d),h=m.startsWith(M3),b=h?m.substring(1):m,v=p&&p>d?p-d:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:b,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},GI=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},KI=e=>({cache:HI(e.cacheSize),parseClassName:VI(e),...$I(e)}),YI=/\s+/,XI=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(YI);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:h}=n(u);let b=!!h,v=r(b?m.substring(0,h):m);if(!v){if(!b){l=u+(l.length>0?" "+l:l);continue}if(v=r(m),!v){l=u+(l.length>0?" "+l:l);continue}b=!1}const w=GI(d).join(":"),y=p?w+M3:w,x=y+v;if(i.includes(x))continue;i.push(x);const S=s(v,b);for(let k=0;k<S.length;++k){const D=S[k];i.push(y+D)}l=u+(l.length>0?" "+l:l)}return l};function JI(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=F3(t))&&(r&&(r+=" "),r+=n);return r}const F3=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=F3(e[r]))&&(n&&(n+=" "),n+=t);return n};function QI(e,...t){let n,r,s,i=o;function o(c){const u=t.reduce((d,p)=>p(d),e());return n=KI(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=XI(c,n);return s(c,d),d}return function(){return i(JI.apply(null,arguments))}}const Tn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},B3=/^\[(?:([a-z-]+):)?(.+)\]$/i,ZI=/^\d+\/\d+$/,eR=new Set(["px","full","screen"]),tR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ca=e=>ku(e)||eR.has(e)||ZI.test(e),yo=e=>dd(e,"length",fR),ku=e=>!!e&&!Number.isNaN(Number(e)),Hv=e=>dd(e,"number",ku),ih=e=>!!e&&Number.isInteger(Number(e)),aR=e=>e.endsWith("%")&&ku(e.slice(0,-1)),Bt=e=>B3.test(e),xo=e=>tR.test(e),oR=new Set(["length","size","percentage"]),lR=e=>dd(e,oR,$3),cR=e=>dd(e,"position",$3),uR=new Set(["image","url"]),dR=e=>dd(e,uR,mR),hR=e=>dd(e,"",pR),ah=()=>!0,dd=(e,t,n)=>{const r=B3.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},fR=e=>nR.test(e)&&!rR.test(e),$3=()=>!1,pR=e=>sR.test(e),mR=e=>iR.test(e),gR=()=>{const e=Tn("colors"),t=Tn("spacing"),n=Tn("blur"),r=Tn("brightness"),s=Tn("borderColor"),i=Tn("borderRadius"),o=Tn("borderSpacing"),l=Tn("borderWidth"),c=Tn("contrast"),u=Tn("grayscale"),d=Tn("hueRotate"),p=Tn("invert"),m=Tn("gap"),h=Tn("gradientColorStops"),b=Tn("gradientColorStopPositions"),v=Tn("inset"),w=Tn("margin"),y=Tn("opacity"),x=Tn("padding"),S=Tn("saturate"),k=Tn("scale"),D=Tn("sepia"),A=Tn("skew"),R=Tn("space"),L=Tn("translate"),C=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",Bt,t],P=()=>[Bt,t],z=()=>["",Ca,yo],$=()=>["auto",ku,Bt],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",Bt],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[ku,Bt];return{cacheSize:500,separator:":",theme:{colors:[ah],spacing:[Ca,yo],blur:["none","",xo,Bt],brightness:ae(),borderColor:[e],borderRadius:["none","","full",xo,Bt],borderSpacing:P(),borderWidth:z(),contrast:ae(),grayscale:G(),hueRotate:ae(),invert:G(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[aR,yo],inset:E(),margin:E(),opacity:ae(),padding:P(),saturate:ae(),scale:ae(),sepia:G(),skew:ae(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Bt]}],container:["container"],columns:[{columns:[xo]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),Bt]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ih,Bt]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Bt]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",ih,Bt]}],"grid-cols":[{"grid-cols":[ah]}],"col-start-end":[{col:["auto",{span:["full",ih,Bt]},Bt]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[ah]}],"row-start-end":[{row:["auto",{span:[ih,Bt]},Bt]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Bt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Bt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Bt,t]}],"min-w":[{"min-w":[Bt,t,"min","max","fit"]}],"max-w":[{"max-w":[Bt,t,"none","full","min","max","fit","prose",{screen:[xo]},xo]}],h:[{h:[Bt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Bt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Bt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Bt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",xo,yo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hv]}],"font-family":[{font:[ah]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Bt]}],"line-clamp":[{"line-clamp":["none",ku,Hv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ca,Bt]}],"list-image":[{"list-image":["none",Bt]}],"list-style-type":[{list:["none","disc","decimal",Bt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ca,yo]}],"underline-offset":[{"underline-offset":["auto",Ca,Bt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),cR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:ie()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[Ca,Bt]}],"outline-w":[{outline:[Ca,yo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ca,yo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",xo,hR]}],"shadow-color":[{shadow:[ah]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",xo,Bt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[S]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Bt]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",Bt]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",Bt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[ih,Bt]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Bt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Bt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Bt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ca,yo,Hv]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vR=QI(gR);function qe(...e){return vR(k3(e))}const yR=CI,U3=_.forwardRef(({className:e,...t},n)=>a.jsx(b3,{ref:n,className:qe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));U3.displayName=b3.displayName;const xR=Cc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),z3=_.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(_3,{ref:r,className:qe(xR({variant:t}),e),...n}));z3.displayName=_3.displayName;const wR=_.forwardRef(({className:e,...t},n)=>a.jsx(j3,{ref:n,className:qe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));wR.displayName=j3.displayName;const q3=_.forwardRef(({className:e,...t},n)=>a.jsx(E3,{ref:n,className:qe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(zx,{className:"h-4 w-4"})}));q3.displayName=E3.displayName;const W3=_.forwardRef(({className:e,...t},n)=>a.jsx(S3,{ref:n,className:qe("text-sm font-semibold",e),...t}));W3.displayName=S3.displayName;const H3=_.forwardRef(({className:e,...t},n)=>a.jsx(N3,{ref:n,className:qe("text-sm opacity-90",e),...t}));H3.displayName=N3.displayName;function bR(){const{toasts:e}=Nn();return a.jsxs(yR,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return a.jsxs(z3,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(W3,{children:n}),r&&a.jsx(H3,{children:r})]}),s,a.jsx(q3,{})]},t)}),a.jsx(U3,{})]})}var W5=["light","dark"],_R="(prefers-color-scheme: dark)",SR=_.createContext(void 0),NR={setTheme:e=>{},themes:[]},jR=()=>{var e;return(e=_.useContext(SR))!=null?e:NR};_.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?W5.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(b,v=!1,w=!0)=>{let y=o?o[b]:b,x=v?b+"|| ''":`'${y}'`,S="";return s&&w&&!v&&W5.includes(b)&&(S+=`d.style.colorScheme = '${b}';`),n==="class"?v||y?S+=`c.add(${x})`:S+="null":y&&(S+=`d[s](n,${x})`),S},h=e?`!function(){${d}${m(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${_R}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${p}}catch(t){}}();`;return _.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})});var ER=e=>{switch(e){case"success":return AR;case"info":return LR;case"warning":return PR;case"error":return TR;default:return null}},CR=Array(12).fill(0),kR=({visible:e,className:t})=>We.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},We.createElement("div",{className:"sonner-spinner"},CR.map((n,r)=>We.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),AR=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),PR=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),LR=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),TR=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),IR=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},We.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),We.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),RR=()=>{let[e,t]=We.useState(document.hidden);return We.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},qy=1,OR=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:qy++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:r}),{...c,...t,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=t instanceof Promise?t:t(),i=r!==void 0,o,l=s.then(async u=>{if(o=["resolve",u],We.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(MR(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:p})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,p=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:p})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,p=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:p})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>l.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||qy++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ys=new OR,DR=(e,t)=>{let n=(t==null?void 0:t.id)||qy++;return ys.addToast({title:e,...t,id:n}),n},MR=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",FR=DR,BR=()=>ys.toasts,$R=()=>ys.getActiveToasts(),Uo=Object.assign(FR,{success:ys.success,info:ys.info,warning:ys.warning,error:ys.error,custom:ys.custom,message:ys.message,promise:ys.promise,dismiss:ys.dismiss,loading:ys.loading},{getHistory:BR,getToasts:$R});function UR(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}UR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Gp(e){return e.label!==void 0}var zR=3,qR="32px",WR="16px",H5=4e3,HR=356,VR=14,GR=20,KR=200;function xi(...e){return e.filter(Boolean).join(" ")}function YR(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var XR=e=>{var t,n,r,s,i,o,l,c,u,d,p;let{invert:m,toast:h,unstyled:b,interacting:v,setHeights:w,visibleToasts:y,heights:x,index:S,toasts:k,expanded:D,removeToast:A,defaultRichColors:R,closeButton:L,style:C,cancelButtonStyle:M,actionButtonStyle:E,className:P="",descriptionClassName:z="",duration:$,position:Z,gap:ie,loadingIcon:te,expandByDefault:V,classNames:G,icons:oe,closeButtonAriaLabel:ae="Close toast",pauseWhenPageIsHidden:O}=e,[T,U]=We.useState(null),[W,Q]=We.useState(null),[Y,le]=We.useState(!1),[ue,pe]=We.useState(!1),[de,ye]=We.useState(!1),[Te,_e]=We.useState(!1),[J,at]=We.useState(!1),[ee,Se]=We.useState(0),[ge,je]=We.useState(0),ve=We.useRef(h.duration||$||H5),Ne=We.useRef(null),Ee=We.useRef(null),et=S===0,Fe=S+1<=y,Ye=h.type,ht=h.dismissible!==!1,ft=h.className||"",Qe=h.descriptionClassName||"",He=We.useMemo(()=>x.findIndex(yt=>yt.toastId===h.id)||0,[x,h.id]),Ie=We.useMemo(()=>{var yt;return(yt=h.closeButton)!=null?yt:L},[h.closeButton,L]),Ze=We.useMemo(()=>h.duration||$||H5,[h.duration,$]),At=We.useRef(0),Xe=We.useRef(0),ut=We.useRef(0),St=We.useRef(null),[Ke,vt]=Z.split("-"),nt=We.useMemo(()=>x.reduce((yt,Nt,bt)=>bt>=He?yt:yt+Nt.height,0),[x,He]),Ut=RR(),Vt=h.invert||m,Dt=Ye==="loading";Xe.current=We.useMemo(()=>He*ie+nt,[He,nt]),We.useEffect(()=>{ve.current=Ze},[Ze]),We.useEffect(()=>{le(!0)},[]),We.useEffect(()=>{let yt=Ee.current;if(yt){let Nt=yt.getBoundingClientRect().height;return je(Nt),w(bt=>[{toastId:h.id,height:Nt,position:h.position},...bt]),()=>w(bt=>bt.filter(Ot=>Ot.toastId!==h.id))}},[w,h.id]),We.useLayoutEffect(()=>{if(!Y)return;let yt=Ee.current,Nt=yt.style.height;yt.style.height="auto";let bt=yt.getBoundingClientRect().height;yt.style.height=Nt,je(bt),w(Ot=>Ot.find(Je=>Je.toastId===h.id)?Ot.map(Je=>Je.toastId===h.id?{...Je,height:bt}:Je):[{toastId:h.id,height:bt,position:h.position},...Ot])},[Y,h.title,h.description,w,h.id]);let ot=We.useCallback(()=>{pe(!0),Se(Xe.current),w(yt=>yt.filter(Nt=>Nt.toastId!==h.id)),setTimeout(()=>{A(h)},KR)},[h,A,w,Xe]);We.useEffect(()=>{if(h.promise&&Ye==="loading"||h.duration===1/0||h.type==="loading")return;let yt;return D||v||O&&Ut?(()=>{if(ut.current<At.current){let Nt=new Date().getTime()-At.current;ve.current=ve.current-Nt}ut.current=new Date().getTime()})():ve.current!==1/0&&(At.current=new Date().getTime(),yt=setTimeout(()=>{var Nt;(Nt=h.onAutoClose)==null||Nt.call(h,h),ot()},ve.current)),()=>clearTimeout(yt)},[D,v,h,Ye,O,Ut,ot]),We.useEffect(()=>{h.delete&&ot()},[ot,h.delete]);function Ct(){var yt,Nt,bt;return oe!=null&&oe.loading?We.createElement("div",{className:xi(G==null?void 0:G.loader,(yt=h==null?void 0:h.classNames)==null?void 0:yt.loader,"sonner-loader"),"data-visible":Ye==="loading"},oe.loading):te?We.createElement("div",{className:xi(G==null?void 0:G.loader,(Nt=h==null?void 0:h.classNames)==null?void 0:Nt.loader,"sonner-loader"),"data-visible":Ye==="loading"},te):We.createElement(kR,{className:xi(G==null?void 0:G.loader,(bt=h==null?void 0:h.classNames)==null?void 0:bt.loader),visible:Ye==="loading"})}return We.createElement("li",{tabIndex:0,ref:Ee,className:xi(P,ft,G==null?void 0:G.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,G==null?void 0:G.default,G==null?void 0:G[Ye],(n=h==null?void 0:h.classNames)==null?void 0:n[Ye]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:R,"data-styled":!(h.jsx||h.unstyled||b),"data-mounted":Y,"data-promise":!!h.promise,"data-swiped":J,"data-removed":ue,"data-visible":Fe,"data-y-position":Ke,"data-x-position":vt,"data-index":S,"data-front":et,"data-swiping":de,"data-dismissible":ht,"data-type":Ye,"data-invert":Vt,"data-swipe-out":Te,"data-swipe-direction":W,"data-expanded":!!(D||V&&Y),style:{"--index":S,"--toasts-before":S,"--z-index":k.length-S,"--offset":`${ue?ee:Xe.current}px`,"--initial-height":V?"auto":`${ge}px`,...C,...h.style},onDragEnd:()=>{ye(!1),U(null),St.current=null},onPointerDown:yt=>{Dt||!ht||(Ne.current=new Date,Se(Xe.current),yt.target.setPointerCapture(yt.pointerId),yt.target.tagName!=="BUTTON"&&(ye(!0),St.current={x:yt.clientX,y:yt.clientY}))},onPointerUp:()=>{var yt,Nt,bt,Ot;if(Te||!ht)return;St.current=null;let Je=Number(((yt=Ee.current)==null?void 0:yt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),nn=Number(((Nt=Ee.current)==null?void 0:Nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),jn=new Date().getTime()-((bt=Ne.current)==null?void 0:bt.getTime()),an=T==="x"?Je:nn,wn=Math.abs(an)/jn;if(Math.abs(an)>=GR||wn>.11){Se(Xe.current),(Ot=h.onDismiss)==null||Ot.call(h,h),Q(T==="x"?Je>0?"right":"left":nn>0?"down":"up"),ot(),_e(!0),at(!1);return}ye(!1),U(null)},onPointerMove:yt=>{var Nt,bt,Ot,Je;if(!St.current||!ht||((Nt=window.getSelection())==null?void 0:Nt.toString().length)>0)return;let nn=yt.clientY-St.current.y,jn=yt.clientX-St.current.x,an=(bt=e.swipeDirections)!=null?bt:YR(Z);!T&&(Math.abs(jn)>1||Math.abs(nn)>1)&&U(Math.abs(jn)>Math.abs(nn)?"x":"y");let wn={x:0,y:0};T==="y"?(an.includes("top")||an.includes("bottom"))&&(an.includes("top")&&nn<0||an.includes("bottom")&&nn>0)&&(wn.y=nn):T==="x"&&(an.includes("left")||an.includes("right"))&&(an.includes("left")&&jn<0||an.includes("right")&&jn>0)&&(wn.x=jn),(Math.abs(wn.x)>0||Math.abs(wn.y)>0)&&at(!0),(Ot=Ee.current)==null||Ot.style.setProperty("--swipe-amount-x",`${wn.x}px`),(Je=Ee.current)==null||Je.style.setProperty("--swipe-amount-y",`${wn.y}px`)}},Ie&&!h.jsx?We.createElement("button",{"aria-label":ae,"data-disabled":Dt,"data-close-button":!0,onClick:Dt||!ht?()=>{}:()=>{var yt;ot(),(yt=h.onDismiss)==null||yt.call(h,h)},className:xi(G==null?void 0:G.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},(i=oe==null?void 0:oe.close)!=null?i:IR):null,h.jsx||_.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:We.createElement(We.Fragment,null,Ye||h.icon||h.promise?We.createElement("div",{"data-icon":"",className:xi(G==null?void 0:G.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Ct():null,h.type!=="loading"?h.icon||(oe==null?void 0:oe[Ye])||ER(Ye):null):null,We.createElement("div",{"data-content":"",className:xi(G==null?void 0:G.content,(l=h==null?void 0:h.classNames)==null?void 0:l.content)},We.createElement("div",{"data-title":"",className:xi(G==null?void 0:G.title,(c=h==null?void 0:h.classNames)==null?void 0:c.title)},typeof h.title=="function"?h.title():h.title),h.description?We.createElement("div",{"data-description":"",className:xi(z,Qe,G==null?void 0:G.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),_.isValidElement(h.cancel)?h.cancel:h.cancel&&Gp(h.cancel)?We.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||M,onClick:yt=>{var Nt,bt;Gp(h.cancel)&&ht&&((bt=(Nt=h.cancel).onClick)==null||bt.call(Nt,yt),ot())},className:xi(G==null?void 0:G.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,_.isValidElement(h.action)?h.action:h.action&&Gp(h.action)?We.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||E,onClick:yt=>{var Nt,bt;Gp(h.action)&&((bt=(Nt=h.action).onClick)==null||bt.call(Nt,yt),!yt.defaultPrevented&&ot())},className:xi(G==null?void 0:G.actionButton,(p=h==null?void 0:h.classNames)==null?void 0:p.actionButton)},h.action.label):null))};function V5(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function JR(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?WR:qR;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var QR=_.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:p,duration:m,style:h,visibleToasts:b=zR,toastOptions:v,dir:w=V5(),gap:y=VR,loadingIcon:x,icons:S,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:D}=e,[A,R]=We.useState([]),L=We.useMemo(()=>Array.from(new Set([r].concat(A.filter(O=>O.position).map(O=>O.position)))),[A,r]),[C,M]=We.useState([]),[E,P]=We.useState(!1),[z,$]=We.useState(!1),[Z,ie]=We.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=We.useRef(null),V=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),G=We.useRef(null),oe=We.useRef(!1),ae=We.useCallback(O=>{R(T=>{var U;return(U=T.find(W=>W.id===O.id))!=null&&U.delete||ys.dismiss(O.id),T.filter(({id:W})=>W!==O.id)})},[]);return We.useEffect(()=>ys.subscribe(O=>{if(O.dismiss){R(T=>T.map(U=>U.id===O.id?{...U,delete:!0}:U));return}setTimeout(()=>{Z4.flushSync(()=>{R(T=>{let U=T.findIndex(W=>W.id===O.id);return U!==-1?[...T.slice(0,U),{...T[U],...O},...T.slice(U+1)]:[O,...T]})})})}),[]),We.useEffect(()=>{if(d!=="system"){ie(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window>"u")return;let O=window.matchMedia("(prefers-color-scheme: dark)");try{O.addEventListener("change",({matches:T})=>{ie(T?"dark":"light")})}catch{O.addListener(({matches:U})=>{try{ie(U?"dark":"light")}catch(W){console.error(W)}})}},[d]),We.useEffect(()=>{A.length<=1&&P(!1)},[A]),We.useEffect(()=>{let O=T=>{var U,W;s.every(Q=>T[Q]||T.code===Q)&&(P(!0),(U=te.current)==null||U.focus()),T.code==="Escape"&&(document.activeElement===te.current||(W=te.current)!=null&&W.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[s]),We.useEffect(()=>{if(te.current)return()=>{G.current&&(G.current.focus({preventScroll:!0}),G.current=null,oe.current=!1)}},[te.current]),We.createElement("section",{ref:t,"aria-label":`${k} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},L.map((O,T)=>{var U;let[W,Q]=O.split("-");return A.length?We.createElement("ol",{key:O,dir:w==="auto"?V5():w,tabIndex:-1,ref:te,className:l,"data-sonner-toaster":!0,"data-theme":Z,"data-y-position":W,"data-lifted":E&&A.length>1&&!i,"data-x-position":Q,style:{"--front-toast-height":`${((U=C[0])==null?void 0:U.height)||0}px`,"--width":`${HR}px`,"--gap":`${y}px`,...h,...JR(c,u)},onBlur:Y=>{oe.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(oe.current=!1,G.current&&(G.current.focus({preventScroll:!0}),G.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||oe.current||(oe.current=!0,G.current=Y.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{z||P(!1)},onDragEnd:()=>P(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},A.filter(Y=>!Y.position&&T===0||Y.position===O).map((Y,le)=>{var ue,pe;return We.createElement(XR,{key:Y.id,icons:S,index:le,toast:Y,defaultRichColors:p,duration:(ue=v==null?void 0:v.duration)!=null?ue:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:b,closeButton:(pe=v==null?void 0:v.closeButton)!=null?pe:o,interacting:z,position:O,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:ae,toasts:A.filter(de=>de.position==Y.position),heights:C.filter(de=>de.position==Y.position),setHeights:M,expandByDefault:i,gap:y,loadingIcon:x,expanded:E,pauseWhenPageIsHidden:D,swipeDirections:e.swipeDirections})})):null}))});const ZR=({...e})=>{const{theme:t="system"}=jR();return a.jsx(QR,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var eO=W2[" useId ".trim().toString()]||(()=>{}),tO=0;function Ua(e){const[t,n]=_.useState(eO());return mr(()=>{e||n(r=>r??String(tO++))},[e]),e||(t?`radix-${t}`:"")}const nO=["top","right","bottom","left"],ll=Math.min,Bs=Math.max,fg=Math.round,Kp=Math.floor,oa=e=>({x:e,y:e}),rO={left:"right",right:"left",bottom:"top",top:"bottom"},sO={start:"end",end:"start"};function Wy(e,t,n){return Bs(e,ll(t,n))}function Ga(e,t){return typeof e=="function"?e(t):e}function Ka(e){return e.split("-")[0]}function hd(e){return e.split("-")[1]}function Wx(e){return e==="x"?"y":"x"}function Hx(e){return e==="y"?"height":"width"}const iO=new Set(["top","bottom"]);function ra(e){return iO.has(Ka(e))?"y":"x"}function Vx(e){return Wx(ra(e))}function aO(e,t,n){n===void 0&&(n=!1);const r=hd(e),s=Vx(e),i=Hx(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=pg(o)),[o,pg(o)]}function oO(e){const t=pg(e);return[Hy(e),t,Hy(t)]}function Hy(e){return e.replace(/start|end/g,t=>sO[t])}const G5=["left","right"],K5=["right","left"],lO=["top","bottom"],cO=["bottom","top"];function uO(e,t,n){switch(e){case"top":case"bottom":return n?t?K5:G5:t?G5:K5;case"left":case"right":return t?lO:cO;default:return[]}}function dO(e,t,n,r){const s=hd(e);let i=uO(Ka(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Hy)))),i}function pg(e){return e.replace(/left|right|bottom|top/g,t=>rO[t])}function hO(e){return{top:0,right:0,bottom:0,left:0,...e}}function V3(e){return typeof e!="number"?hO(e):{top:e,right:e,bottom:e,left:e}}function mg(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Y5(e,t,n){let{reference:r,floating:s}=e;const i=ra(t),o=Vx(t),l=Hx(o),c=Ka(t),u=i==="y",d=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let h;switch(c){case"top":h={x:d,y:r.y-s.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:p};break;case"left":h={x:r.x-s.width,y:p};break;default:h={x:r.x,y:r.y}}switch(hd(t)){case"start":h[o]-=m*(n&&u?-1:1);break;case"end":h[o]+=m*(n&&u?-1:1);break}return h}const fO=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:p}=Y5(u,r,c),m=r,h={},b=0;for(let v=0;v<l.length;v++){const{name:w,fn:y}=l[v],{x,y:S,data:k,reset:D}=await y({x:d,y:p,initialPlacement:r,placement:m,strategy:s,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,p=S??p,h={...h,[w]:{...h[w],...k}},D&&b<=50&&(b++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):D.rects),{x:d,y:p}=Y5(u,m,c)),v=-1)}return{x:d,y:p,placement:m,strategy:s,middlewareData:h}};async function af(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:m=!1,padding:h=0}=Ga(t,e),b=V3(h),w=l[m?p==="floating"?"reference":"floating":p],y=mg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),k=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},D=mg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:S,strategy:c}):x);return{top:(y.top-D.top+b.top)/k.y,bottom:(D.bottom-y.bottom+b.bottom)/k.y,left:(y.left-D.left+b.left)/k.x,right:(D.right-y.right+b.right)/k.x}}const pO=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ga(e,t)||{};if(u==null)return{};const p=V3(d),m={x:n,y:r},h=Vx(s),b=Hx(h),v=await o.getDimensions(u),w=h==="y",y=w?"top":"left",x=w?"bottom":"right",S=w?"clientHeight":"clientWidth",k=i.reference[b]+i.reference[h]-m[h]-i.floating[b],D=m[h]-i.reference[h],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let R=A?A[S]:0;(!R||!await(o.isElement==null?void 0:o.isElement(A)))&&(R=l.floating[S]||i.floating[b]);const L=k/2-D/2,C=R/2-v[b]/2-1,M=ll(p[y],C),E=ll(p[x],C),P=M,z=R-v[b]-E,$=R/2-v[b]/2+L,Z=Wy(P,$,z),ie=!c.arrow&&hd(s)!=null&&$!==Z&&i.reference[b]/2-($<P?M:E)-v[b]/2<0,te=ie?$<P?$-P:$-z:0;return{[h]:m[h]+te,data:{[h]:Z,centerOffset:$-Z-te,...ie&&{alignmentOffset:te}},reset:ie}}}),mO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...w}=Ga(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Ka(s),x=ra(l),S=Ka(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),D=m||(S||!v?[pg(l)]:oO(l)),A=b!=="none";!m&&A&&D.push(...dO(l,v,b,k));const R=[l,...D],L=await af(t,w),C=[];let M=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(L[y]),p){const $=aO(s,o,k);C.push(L[$[0]],L[$[1]])}if(M=[...M,{placement:s,overflows:C}],!C.every($=>$<=0)){var E,P;const $=(((E=i.flip)==null?void 0:E.index)||0)+1,Z=R[$];if(Z&&(!(p==="alignment"?x!==ra(Z):!1)||M.every(V=>V.overflows[0]>0&&ra(V.placement)===x)))return{data:{index:$,overflows:M},reset:{placement:Z}};let ie=(P=M.filter(te=>te.overflows[0]<=0).sort((te,V)=>te.overflows[1]-V.overflows[1])[0])==null?void 0:P.placement;if(!ie)switch(h){case"bestFit":{var z;const te=(z=M.filter(V=>{if(A){const G=ra(V.placement);return G===x||G==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(G=>G>0).reduce((G,oe)=>G+oe,0)]).sort((V,G)=>V[1]-G[1])[0])==null?void 0:z[0];te&&(ie=te);break}case"initialPlacement":ie=l;break}if(s!==ie)return{reset:{placement:ie}}}return{}}}};function X5(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function J5(e){return nO.some(t=>e[t]>=0)}const gO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Ga(e,t);switch(r){case"referenceHidden":{const i=await af(t,{...s,elementContext:"reference"}),o=X5(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:J5(o)}}}case"escaped":{const i=await af(t,{...s,altBoundary:!0}),o=X5(i,n.floating);return{data:{escapedOffsets:o,escaped:J5(o)}}}default:return{}}}}},G3=new Set(["left","top"]);async function vO(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ka(n),l=hd(n),c=ra(n)==="y",u=G3.has(o)?-1:1,d=i&&c?-1:1,p=Ga(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof b=="number"&&(h=l==="end"?b*-1:b),c?{x:h*d,y:m*u}:{x:m*u,y:h*d}}const yO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await vO(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},xO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:y,y:x}=w;return{x:y,y:x}}},...c}=Ga(e,t),u={x:n,y:r},d=await af(t,c),p=ra(Ka(s)),m=Wx(p);let h=u[m],b=u[p];if(i){const w=m==="y"?"top":"left",y=m==="y"?"bottom":"right",x=h+d[w],S=h-d[y];h=Wy(x,h,S)}if(o){const w=p==="y"?"top":"left",y=p==="y"?"bottom":"right",x=b+d[w],S=b-d[y];b=Wy(x,b,S)}const v=l.fn({...t,[m]:h,[p]:b});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:i,[p]:o}}}}}},wO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ga(e,t),d={x:n,y:r},p=ra(s),m=Wx(p);let h=d[m],b=d[p];const v=Ga(l,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const S=m==="y"?"height":"width",k=i.reference[m]-i.floating[S]+w.mainAxis,D=i.reference[m]+i.reference[S]-w.mainAxis;h<k?h=k:h>D&&(h=D)}if(u){var y,x;const S=m==="y"?"width":"height",k=G3.has(Ka(s)),D=i.reference[p]-i.floating[S]+(k&&((y=o.offset)==null?void 0:y[p])||0)+(k?0:w.crossAxis),A=i.reference[p]+i.reference[S]+(k?0:((x=o.offset)==null?void 0:x[p])||0)-(k?w.crossAxis:0);b<D?b=D:b>A&&(b=A)}return{[m]:h,[p]:b}}}},bO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Ga(e,t),d=await af(t,u),p=Ka(s),m=hd(s),h=ra(s)==="y",{width:b,height:v}=i.floating;let w,y;p==="top"||p==="bottom"?(w=p,y=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=p,w=m==="end"?"top":"bottom");const x=v-d.top-d.bottom,S=b-d.left-d.right,k=ll(v-d[w],x),D=ll(b-d[y],S),A=!t.middlewareData.shift;let R=k,L=D;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(L=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(R=x),A&&!m){const M=Bs(d.left,0),E=Bs(d.right,0),P=Bs(d.top,0),z=Bs(d.bottom,0);h?L=b-2*(M!==0||E!==0?M+E:Bs(d.left,d.right)):R=v-2*(P!==0||z!==0?P+z:Bs(d.top,d.bottom))}await c({...t,availableWidth:L,availableHeight:R});const C=await o.getDimensions(l.floating);return b!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function Xg(){return typeof window<"u"}function fd(e){return K3(e)?(e.nodeName||"").toLowerCase():"#document"}function Ws(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fa(e){var t;return(t=(K3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function K3(e){return Xg()?e instanceof Node||e instanceof Ws(e).Node:!1}function Ti(e){return Xg()?e instanceof Element||e instanceof Ws(e).Element:!1}function ha(e){return Xg()?e instanceof HTMLElement||e instanceof Ws(e).HTMLElement:!1}function Q5(e){return!Xg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ws(e).ShadowRoot}const _O=new Set(["inline","contents"]);function Tf(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Ii(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!_O.has(s)}const SO=new Set(["table","td","th"]);function NO(e){return SO.has(fd(e))}const jO=[":popover-open",":modal"];function Jg(e){return jO.some(t=>{try{return e.matches(t)}catch{return!1}})}const EO=["transform","translate","scale","rotate","perspective"],CO=["transform","translate","scale","rotate","perspective","filter"],kO=["paint","layout","strict","content"];function Gx(e){const t=Kx(),n=Ti(e)?Ii(e):e;return EO.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||CO.some(r=>(n.willChange||"").includes(r))||kO.some(r=>(n.contain||"").includes(r))}function AO(e){let t=cl(e);for(;ha(t)&&!Qu(t);){if(Gx(t))return t;if(Jg(t))return null;t=cl(t)}return null}function Kx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const PO=new Set(["html","body","#document"]);function Qu(e){return PO.has(fd(e))}function Ii(e){return Ws(e).getComputedStyle(e)}function Qg(e){return Ti(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cl(e){if(fd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Q5(e)&&e.host||fa(e);return Q5(t)?t.host:t}function Y3(e){const t=cl(e);return Qu(t)?e.ownerDocument?e.ownerDocument.body:e.body:ha(t)&&Tf(t)?t:Y3(t)}function of(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Y3(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=Ws(s);if(i){const l=Vy(o);return t.concat(o,o.visualViewport||[],Tf(s)?s:[],l&&n?of(l):[])}return t.concat(s,of(s,[],n))}function Vy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function X3(e){const t=Ii(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=ha(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=fg(n)!==i||fg(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function Yx(e){return Ti(e)?e:e.contextElement}function Au(e){const t=Yx(e);if(!ha(t))return oa(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=X3(t);let o=(i?fg(n.width):n.width)/r,l=(i?fg(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const LO=oa(0);function J3(e){const t=Ws(e);return!Kx()||!t.visualViewport?LO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function TO(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ws(e)?!1:t}function gc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Yx(e);let o=oa(1);t&&(r?Ti(r)&&(o=Au(r)):o=Au(e));const l=TO(i,n,r)?J3(i):oa(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,p=s.height/o.y;if(i){const m=Ws(i),h=r&&Ti(r)?Ws(r):r;let b=m,v=Vy(b);for(;v&&r&&h!==b;){const w=Au(v),y=v.getBoundingClientRect(),x=Ii(v),S=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*w.x,k=y.top+(v.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,p*=w.y,c+=S,u+=k,b=Ws(v),v=Vy(b)}}return mg({width:d,height:p,x:c,y:u})}function Xx(e,t){const n=Qg(e).scrollLeft;return t?t.left+n:gc(fa(e)).left+n}function Q3(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Xx(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function IO(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=fa(r),l=t?Jg(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=oa(1);const d=oa(0),p=ha(r);if((p||!p&&!i)&&((fd(r)!=="body"||Tf(o))&&(c=Qg(r)),ha(r))){const h=gc(r);u=Au(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}const m=o&&!p&&!i?Q3(o,c,!0):oa(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function RO(e){return Array.from(e.getClientRects())}function OO(e){const t=fa(e),n=Qg(e),r=e.ownerDocument.body,s=Bs(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Bs(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Xx(e);const l=-n.scrollTop;return Ii(r).direction==="rtl"&&(o+=Bs(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function DO(e,t){const n=Ws(e),r=fa(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=Kx();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}const MO=new Set(["absolute","fixed"]);function FO(e,t){const n=gc(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=ha(e)?Au(e):oa(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function Z5(e,t,n){let r;if(t==="viewport")r=DO(e,n);else if(t==="document")r=OO(fa(e));else if(Ti(t))r=FO(t,n);else{const s=J3(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return mg(r)}function Z3(e,t){const n=cl(e);return n===t||!Ti(n)||Qu(n)?!1:Ii(n).position==="fixed"||Z3(n,t)}function BO(e,t){const n=t.get(e);if(n)return n;let r=of(e,[],!1).filter(l=>Ti(l)&&fd(l)!=="body"),s=null;const i=Ii(e).position==="fixed";let o=i?cl(e):e;for(;Ti(o)&&!Qu(o);){const l=Ii(o),c=Gx(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&MO.has(s.position)||Tf(o)&&!c&&Z3(e,o))?r=r.filter(d=>d!==o):s=l,o=cl(o)}return t.set(e,r),r}function $O(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Jg(t)?[]:BO(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const p=Z5(t,d,s);return u.top=Bs(p.top,u.top),u.right=ll(p.right,u.right),u.bottom=ll(p.bottom,u.bottom),u.left=Bs(p.left,u.left),u},Z5(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function UO(e){const{width:t,height:n}=X3(e);return{width:t,height:n}}function zO(e,t,n){const r=ha(t),s=fa(t),i=n==="fixed",o=gc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=oa(0);function u(){c.x=Xx(s)}if(r||!r&&!i)if((fd(t)!=="body"||Tf(s))&&(l=Qg(t)),r){const h=gc(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?Q3(s,l):oa(0),p=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:p,y:m,width:o.width,height:o.height}}function Vv(e){return Ii(e).position==="static"}function e_(e,t){if(!ha(e)||Ii(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return fa(e)===n&&(n=n.ownerDocument.body),n}function eE(e,t){const n=Ws(e);if(Jg(e))return n;if(!ha(e)){let s=cl(e);for(;s&&!Qu(s);){if(Ti(s)&&!Vv(s))return s;s=cl(s)}return n}let r=e_(e,t);for(;r&&NO(r)&&Vv(r);)r=e_(r,t);return r&&Qu(r)&&Vv(r)&&!Gx(r)?n:r||AO(e)||n}const qO=async function(e){const t=this.getOffsetParent||eE,n=this.getDimensions,r=await n(e.floating);return{reference:zO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function WO(e){return Ii(e).direction==="rtl"}const HO={convertOffsetParentRelativeRectToViewportRelativeRect:IO,getDocumentElement:fa,getClippingRect:$O,getOffsetParent:eE,getElementRects:qO,getClientRects:RO,getDimensions:UO,getScale:Au,isElement:Ti,isRTL:WO};function tE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function VO(e,t){let n=null,r;const s=fa(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:p,width:m,height:h}=u;if(l||t(),!m||!h)return;const b=Kp(p),v=Kp(s.clientWidth-(d+m)),w=Kp(s.clientHeight-(p+h)),y=Kp(d),S={rootMargin:-b+"px "+-v+"px "+-w+"px "+-y+"px",threshold:Bs(0,ll(1,c))||1};let k=!0;function D(A){const R=A[0].intersectionRatio;if(R!==c){if(!k)return o();R?o(!1,R):r=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!tE(u,e.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(D,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,S)}n.observe(e)}return o(!0),i}function GO(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Yx(e),d=s||i?[...u?of(u):[],...of(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const p=u&&l?VO(u,n):null;let m=-1,h=null;o&&(h=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=h)==null||S.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let b,v=c?gc(e):null;c&&w();function w(){const y=gc(e);v&&!tE(v,y)&&n(),v=y,b=requestAnimationFrame(w)}return n(),()=>{var y;d.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),p==null||p(),(y=h)==null||y.disconnect(),h=null,c&&cancelAnimationFrame(b)}}const KO=yO,YO=xO,XO=mO,JO=bO,QO=gO,t_=pO,ZO=wO,eD=(e,t,n)=>{const r=new Map,s={platform:HO,...n},i={...s.platform,_c:r};return fO(e,t,{...s,platform:i})};var tD=typeof document<"u",nD=function(){},km=tD?_.useLayoutEffect:nD;function gg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!gg(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!gg(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function nE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function n_(e,t){const n=nE(e);return Math.round(t*n)/n}function Gv(e){const t=_.useRef(e);return km(()=>{t.current=e}),t}function rD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,p]=_.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=_.useState(r);gg(m,r)||h(r);const[b,v]=_.useState(null),[w,y]=_.useState(null),x=_.useCallback(V=>{V!==A.current&&(A.current=V,v(V))},[]),S=_.useCallback(V=>{V!==R.current&&(R.current=V,y(V))},[]),k=i||b,D=o||w,A=_.useRef(null),R=_.useRef(null),L=_.useRef(d),C=c!=null,M=Gv(c),E=Gv(s),P=Gv(u),z=_.useCallback(()=>{if(!A.current||!R.current)return;const V={placement:t,strategy:n,middleware:m};E.current&&(V.platform=E.current),eD(A.current,R.current,V).then(G=>{const oe={...G,isPositioned:P.current!==!1};$.current&&!gg(L.current,oe)&&(L.current=oe,Ec.flushSync(()=>{p(oe)}))})},[m,t,n,E,P]);km(()=>{u===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,p(V=>({...V,isPositioned:!1})))},[u]);const $=_.useRef(!1);km(()=>($.current=!0,()=>{$.current=!1}),[]),km(()=>{if(k&&(A.current=k),D&&(R.current=D),k&&D){if(M.current)return M.current(k,D,z);z()}},[k,D,z,M,C]);const Z=_.useMemo(()=>({reference:A,floating:R,setReference:x,setFloating:S}),[x,S]),ie=_.useMemo(()=>({reference:k,floating:D}),[k,D]),te=_.useMemo(()=>{const V={position:n,left:0,top:0};if(!ie.floating)return V;const G=n_(ie.floating,d.x),oe=n_(ie.floating,d.y);return l?{...V,transform:"translate("+G+"px, "+oe+"px)",...nE(ie.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:oe}},[n,l,ie.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:z,refs:Z,elements:ie,floatingStyles:te}),[d,z,Z,ie,te])}const sD=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?t_({element:r.current,padding:s}).fn(n):{}:r?t_({element:r,padding:s}).fn(n):{}}}},iD=(e,t)=>({...KO(e),options:[e,t]}),aD=(e,t)=>({...YO(e),options:[e,t]}),oD=(e,t)=>({...ZO(e),options:[e,t]}),lD=(e,t)=>({...XO(e),options:[e,t]}),cD=(e,t)=>({...JO(e),options:[e,t]}),uD=(e,t)=>({...QO(e),options:[e,t]}),dD=(e,t)=>({...sD(e),options:[e,t]});var hD="Arrow",rE=_.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return a.jsx(_t.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});rE.displayName=hD;var fD=rE;function Zg(e){const[t,n]=_.useState(void 0);return mr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Jx="Popper",[sE,e0]=Ys(Jx),[pD,iE]=sE(Jx),aE=e=>{const{__scopePopper:t,children:n}=e,[r,s]=_.useState(null);return a.jsx(pD,{scope:t,anchor:r,onAnchorChange:s,children:n})};aE.displayName=Jx;var oE="PopperAnchor",lE=_.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=iE(oE,n),o=_.useRef(null),l=en(t,o);return _.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(_t.div,{...s,ref:l})});lE.displayName=oE;var Qx="PopperContent",[mD,gD]=sE(Qx),cE=_.forwardRef((e,t)=>{var Y,le,ue,pe,de,ye;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:b,...v}=e,w=iE(Qx,n),[y,x]=_.useState(null),S=en(t,Te=>x(Te)),[k,D]=_.useState(null),A=Zg(k),R=(A==null?void 0:A.width)??0,L=(A==null?void 0:A.height)??0,C=r+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},E=Array.isArray(u)?u:[u],P=E.length>0,z={padding:M,boundary:E.filter(yD),altBoundary:P},{refs:$,floatingStyles:Z,placement:ie,isPositioned:te,middlewareData:V}=rD({strategy:"fixed",placement:C,whileElementsMounted:(...Te)=>GO(...Te,{animationFrame:h==="always"}),elements:{reference:w.anchor},middleware:[iD({mainAxis:s+L,alignmentAxis:o}),c&&aD({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?oD():void 0,...z}),c&&lD({...z}),cD({...z,apply:({elements:Te,rects:_e,availableWidth:J,availableHeight:at})=>{const{width:ee,height:Se}=_e.reference,ge=Te.floating.style;ge.setProperty("--radix-popper-available-width",`${J}px`),ge.setProperty("--radix-popper-available-height",`${at}px`),ge.setProperty("--radix-popper-anchor-width",`${ee}px`),ge.setProperty("--radix-popper-anchor-height",`${Se}px`)}}),k&&dD({element:k,padding:l}),xD({arrowWidth:R,arrowHeight:L}),m&&uD({strategy:"referenceHidden",...z})]}),[G,oe]=hE(ie),ae=Vs(b);mr(()=>{te&&(ae==null||ae())},[te,ae]);const O=(Y=V.arrow)==null?void 0:Y.x,T=(le=V.arrow)==null?void 0:le.y,U=((ue=V.arrow)==null?void 0:ue.centerOffset)!==0,[W,Q]=_.useState();return mr(()=>{y&&Q(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:te?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(pe=V.transformOrigin)==null?void 0:pe.x,(de=V.transformOrigin)==null?void 0:de.y].join(" "),...((ye=V.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(mD,{scope:n,placedSide:G,onArrowChange:D,arrowX:O,arrowY:T,shouldHideArrow:U,children:a.jsx(_t.div,{"data-side":G,"data-align":oe,...v,ref:S,style:{...v.style,animation:te?void 0:"none"}})})})});cE.displayName=Qx;var uE="PopperArrow",vD={top:"bottom",right:"left",bottom:"top",left:"right"},dE=_.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=gD(uE,r),o=vD[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(fD,{...s,ref:n,style:{...s.style,display:"block"}})})});dE.displayName=uE;function yD(e){return e!==null}var xD=e=>({name:"transformOrigin",options:e,fn(t){var w,y,x;const{placement:n,rects:r,middlewareData:s}=t,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=hE(n),p={start:"0%",center:"50%",end:"100%"}[d],m=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,h=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let b="",v="";return u==="bottom"?(b=o?p:`${m}px`,v=`${-c}px`):u==="top"?(b=o?p:`${m}px`,v=`${r.floating.height+c}px`):u==="right"?(b=`${-c}px`,v=o?p:`${h}px`):u==="left"&&(b=`${r.floating.width+c}px`,v=o?p:`${h}px`),{data:{x:b,y:v}}}});function hE(e){const[t,n="center"]=e.split("-");return[t,n]}var fE=aE,pE=lE,mE=cE,gE=dE,[t0,QG]=Ys("Tooltip",[e0]),n0=e0(),vE="TooltipProvider",wD=700,Gy="tooltip.open",[bD,Zx]=t0(vE),yE=e=>{const{__scopeTooltip:t,delayDuration:n=wD,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=_.useRef(!0),l=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(bD,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};yE.displayName=vE;var lf="Tooltip",[_D,r0]=t0(lf),xE=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=Zx(lf,e.__scopeTooltip),u=n0(t),[d,p]=_.useState(null),m=Ua(),h=_.useRef(0),b=o??c.disableHoverableContent,v=l??c.delayDuration,w=_.useRef(!1),[y,x]=da({prop:r,defaultProp:s??!1,onChange:R=>{R?(c.onOpen(),document.dispatchEvent(new CustomEvent(Gy))):c.onClose(),i==null||i(R)},caller:lf}),S=_.useMemo(()=>y?w.current?"delayed-open":"instant-open":"closed",[y]),k=_.useCallback(()=>{window.clearTimeout(h.current),h.current=0,w.current=!1,x(!0)},[x]),D=_.useCallback(()=>{window.clearTimeout(h.current),h.current=0,x(!1)},[x]),A=_.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{w.current=!0,x(!0),h.current=0},v)},[v,x]);return _.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),a.jsx(fE,{...u,children:a.jsx(_D,{scope:t,contentId:m,open:y,stateAttribute:S,trigger:d,onTriggerChange:p,onTriggerEnter:_.useCallback(()=>{c.isOpenDelayedRef.current?A():k()},[c.isOpenDelayedRef,A,k]),onTriggerLeave:_.useCallback(()=>{b?D():(window.clearTimeout(h.current),h.current=0)},[D,b]),onOpen:k,onClose:D,disableHoverableContent:b,children:n})})};xE.displayName=lf;var Ky="TooltipTrigger",wE=_.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=r0(Ky,n),i=Zx(Ky,n),o=n0(n),l=_.useRef(null),c=en(t,l,s.onTriggerChange),u=_.useRef(!1),d=_.useRef(!1),p=_.useCallback(()=>u.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),a.jsx(pE,{asChild:!0,...o,children:a.jsx(_t.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:wt(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:wt(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:wt(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:wt(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:wt(e.onBlur,s.onClose),onClick:wt(e.onClick,s.onClose)})})});wE.displayName=Ky;var SD="TooltipPortal",[ZG,ND]=t0(SD,{forceMount:void 0}),Zu="TooltipContent",bE=_.forwardRef((e,t)=>{const n=ND(Zu,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=r0(Zu,e.__scopeTooltip);return a.jsx(Ja,{present:r||o.open,children:o.disableHoverableContent?a.jsx(_E,{side:s,...i,ref:t}):a.jsx(jD,{side:s,...i,ref:t})})}),jD=_.forwardRef((e,t)=>{const n=r0(Zu,e.__scopeTooltip),r=Zx(Zu,e.__scopeTooltip),s=_.useRef(null),i=en(t,s),[o,l]=_.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:p}=r,m=_.useCallback(()=>{l(null),p(!1)},[p]),h=_.useCallback((b,v)=>{const w=b.currentTarget,y={x:b.clientX,y:b.clientY},x=PD(y,w.getBoundingClientRect()),S=LD(y,x),k=TD(v.getBoundingClientRect()),D=RD([...S,...k]);l(D),p(!0)},[p]);return _.useEffect(()=>()=>m(),[m]),_.useEffect(()=>{if(c&&d){const b=w=>h(w,d),v=w=>h(w,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",v)}}},[c,d,h,m]),_.useEffect(()=>{if(o){const b=v=>{const w=v.target,y={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),S=!ID(y,o);x?m():S&&(m(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,o,u,m]),a.jsx(_E,{...e,ref:i})}),[ED,CD]=t0(lf,{isInside:!1}),kD=z8("TooltipContent"),_E=_.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=r0(Zu,n),u=n0(n),{onClose:d}=c;return _.useEffect(()=>(document.addEventListener(Gy,d),()=>document.removeEventListener(Gy,d)),[d]),_.useEffect(()=>{if(c.trigger){const p=m=>{const h=m.target;h!=null&&h.contains(c.trigger)&&d()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,d]),a.jsx(Pf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:d,children:a.jsxs(mE,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(kD,{children:r}),a.jsx(ED,{scope:n,isInside:!0,children:a.jsx(Dx,{id:c.contentId,role:"tooltip",children:s||r})})]})})});bE.displayName=Zu;var SE="TooltipArrow",AD=_.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=n0(n);return CD(SE,n).isInside?null:a.jsx(gE,{...s,...r,ref:t})});AD.displayName=SE;function PD(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function LD(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function TD(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function ID(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,p=c.x,m=c.y;d>r!=m>r&&n<(p-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function RD(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),OD(t)}function OD(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var DD=yE,MD=xE,FD=wE,NE=bE;const jE=DD,BD=MD,$D=FD,EE=_.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(NE,{ref:r,sideOffset:t,className:qe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));EE.displayName=NE.displayName;var s0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},i0=typeof window>"u"||"Deno"in globalThis;function Si(){}function UD(e,t){return typeof e=="function"?e(t):e}function zD(e){return typeof e=="number"&&e>=0&&e!==1/0}function qD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Yy(e,t){return typeof e=="function"?e(t):e}function WD(e,t){return typeof e=="function"?e(t):e}function r_(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==ew(o,t.options))return!1}else if(!uf(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function s_(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(cf(t.options.mutationKey)!==cf(i))return!1}else if(!uf(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function ew(e,t){return((t==null?void 0:t.queryKeyHashFn)||cf)(e)}function cf(e){return JSON.stringify(e,(t,n)=>Xy(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function uf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>uf(e[n],t[n])):!1}function CE(e,t){if(e===t)return e;const n=i_(e)&&i_(t);if(n||Xy(e)&&Xy(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const p=n?d:i[d];(!n&&c.has(p)||n)&&e[p]===void 0&&t[p]===void 0?(l[p]=void 0,u++):(l[p]=CE(e[p],t[p]),l[p]===e[p]&&e[p]!==void 0&&u++)}return s===o&&u===s?e:l}return t}function i_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xy(e){if(!a_(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!a_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function a_(e){return Object.prototype.toString.call(e)==="[object Object]"}function HD(e){return new Promise(t=>{setTimeout(t,e)})}function VD(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?CE(e,t):t}function GD(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function KD(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var tw=Symbol();function kE(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===tw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Zl,Ro,Du,TN,YD=(TN=class extends s0{constructor(){super();tn(this,Zl);tn(this,Ro);tn(this,Du);It(this,Du,t=>{if(!i0&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Le(this,Ro)||this.setEventListener(Le(this,Du))}onUnsubscribe(){var t;this.hasListeners()||((t=Le(this,Ro))==null||t.call(this),It(this,Ro,void 0))}setEventListener(t){var n;It(this,Du,t),(n=Le(this,Ro))==null||n.call(this),It(this,Ro,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Le(this,Zl)!==t&&(It(this,Zl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Le(this,Zl)=="boolean"?Le(this,Zl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Zl=new WeakMap,Ro=new WeakMap,Du=new WeakMap,TN),AE=new YD,Mu,Oo,Fu,IN,XD=(IN=class extends s0{constructor(){super();tn(this,Mu,!0);tn(this,Oo);tn(this,Fu);It(this,Fu,t=>{if(!i0&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Le(this,Oo)||this.setEventListener(Le(this,Fu))}onUnsubscribe(){var t;this.hasListeners()||((t=Le(this,Oo))==null||t.call(this),It(this,Oo,void 0))}setEventListener(t){var n;It(this,Fu,t),(n=Le(this,Oo))==null||n.call(this),It(this,Oo,t(this.setOnline.bind(this)))}setOnline(t){Le(this,Mu)!==t&&(It(this,Mu,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Le(this,Mu)}},Mu=new WeakMap,Oo=new WeakMap,Fu=new WeakMap,IN),vg=new XD;function JD(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function QD(e){return Math.min(1e3*2**e,3e4)}function PE(e){return(e??"online")==="online"?vg.isOnline():!0}var LE=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Kv(e){return e instanceof LE}function TE(e){let t=!1,n=0,r=!1,s;const i=JD(),o=v=>{var w;r||(m(new LE(v)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>AE.isFocused()&&(e.networkMode==="always"||vg.isOnline())&&e.canRun(),d=()=>PE(e.networkMode)&&e.canRun(),p=v=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,v),s==null||s(),i.resolve(v))},m=v=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,v),s==null||s(),i.reject(v))},h=()=>new Promise(v=>{var w;s=y=>{(r||u())&&v(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var v;s=void 0,r||(v=e.onContinue)==null||v.call(e)}),b=()=>{if(r)return;let v;const w=n===0?e.initialPromise:void 0;try{v=w??e.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(p).catch(y=>{var A;if(r)return;const x=e.retry??(i0?0:3),S=e.retryDelay??QD,k=typeof S=="function"?S(n,y):S,D=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,y);if(t||!D){m(y);return}n++,(A=e.onFail)==null||A.call(e,n,y),HD(k).then(()=>u()?void 0:h()).then(()=>{t?m(y):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?b():h().then(b),i)}}var ZD=e=>setTimeout(e,0);function e7(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=ZD;const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var ss=e7(),ec,RN,IE=(RN=class{constructor(){tn(this,ec)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zD(this.gcTime)&&It(this,ec,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(i0?1/0:5*60*1e3))}clearGcTimeout(){Le(this,ec)&&(clearTimeout(Le(this,ec)),It(this,ec,void 0))}},ec=new WeakMap,RN),Bu,tc,si,nc,Vr,Sf,rc,Ni,Pa,ON,t7=(ON=class extends IE{constructor(t){super();tn(this,Ni);tn(this,Bu);tn(this,tc);tn(this,si);tn(this,nc);tn(this,Vr);tn(this,Sf);tn(this,rc);It(this,rc,!1),It(this,Sf,t.defaultOptions),this.setOptions(t.options),this.observers=[],It(this,nc,t.client),It(this,si,Le(this,nc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,It(this,Bu,r7(this.options)),this.state=t.state??Le(this,Bu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Le(this,Vr))==null?void 0:t.promise}setOptions(t){this.options={...Le(this,Sf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Le(this,si).remove(this)}setData(t,n){const r=VD(this.state.data,t,this.options);return Br(this,Ni,Pa).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Br(this,Ni,Pa).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=Le(this,Vr))==null?void 0:r.promise;return(s=Le(this,Vr))==null||s.cancel(t),n?n.then(Si).catch(Si):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Le(this,Bu))}isActive(){return this.observers.some(t=>WD(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Yy(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!qD(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Le(this,Vr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Le(this,Vr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Le(this,si).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Le(this,Vr)&&(Le(this,rc)?Le(this,Vr).cancel({revert:!0}):Le(this,Vr).cancelRetry()),this.scheduleGc()),Le(this,si).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Br(this,Ni,Pa).call(this,{type:"invalidate"})}fetch(t,n){var u,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Le(this,Vr))return Le(this,Vr).continueRetry(),Le(this,Vr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(h=>h.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(It(this,rc,!0),r.signal)})},i=()=>{const m=kE(this.options,n),b=(()=>{const v={client:Le(this,nc),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return It(this,rc,!1),this.options.persister?this.options.persister(m,b,this):m(b)},l=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Le(this,nc),state:this.state,fetchFn:i};return s(m),m})();(u=this.options.behavior)==null||u.onFetch(l,this),It(this,tc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Br(this,Ni,Pa).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const c=m=>{var h,b,v,w;Kv(m)&&m.silent||Br(this,Ni,Pa).call(this,{type:"error",error:m}),Kv(m)||((b=(h=Le(this,si).config).onError)==null||b.call(h,m,this),(w=(v=Le(this,si).config).onSettled)==null||w.call(v,this.state.data,m,this)),this.scheduleGc()};return It(this,Vr,TE({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var h,b,v,w;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(y){c(y);return}(b=(h=Le(this,si).config).onSuccess)==null||b.call(h,m,this),(w=(v=Le(this,si).config).onSettled)==null||w.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,h)=>{Br(this,Ni,Pa).call(this,{type:"failed",failureCount:m,error:h})},onPause:()=>{Br(this,Ni,Pa).call(this,{type:"pause"})},onContinue:()=>{Br(this,Ni,Pa).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Le(this,Vr).start()}},Bu=new WeakMap,tc=new WeakMap,si=new WeakMap,nc=new WeakMap,Vr=new WeakMap,Sf=new WeakMap,rc=new WeakMap,Ni=new WeakSet,Pa=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...n7(r.data,this.options),fetchMeta:t.meta??null};case"success":return It(this,tc,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Kv(s)&&s.revert&&Le(this,tc)?{...Le(this,tc),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ss.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Le(this,si).notify({query:this,type:"updated",action:t})})},ON);function n7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PE(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function r7(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ji,DN,s7=(DN=class extends s0{constructor(t={}){super();tn(this,Ji);this.config=t,It(this,Ji,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??ew(s,n);let o=this.get(i);return o||(o=new t7({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){Le(this,Ji).has(t.queryHash)||(Le(this,Ji).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Le(this,Ji).get(t.queryHash);n&&(t.destroy(),n===t&&Le(this,Ji).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ss.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Le(this,Ji).get(t)}getAll(){return[...Le(this,Ji).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>r_(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>r_(t,r)):n}notify(t){ss.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ss.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ss.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ji=new WeakMap,DN),Qi,ns,sc,Zi,No,MN,i7=(MN=class extends IE{constructor(t){super();tn(this,Zi);tn(this,Qi);tn(this,ns);tn(this,sc);this.mutationId=t.mutationId,It(this,ns,t.mutationCache),It(this,Qi,[]),this.state=t.state||a7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Le(this,Qi).includes(t)||(Le(this,Qi).push(t),this.clearGcTimeout(),Le(this,ns).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){It(this,Qi,Le(this,Qi).filter(n=>n!==t)),this.scheduleGc(),Le(this,ns).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Le(this,Qi).length||(this.state.status==="pending"?this.scheduleGc():Le(this,ns).remove(this))}continue(){var t;return((t=Le(this,sc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,d,p,m,h,b,v,w,y,x,S,k,D,A,R,L;const n=()=>{Br(this,Zi,No).call(this,{type:"continue"})};It(this,sc,TE({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,M)=>{Br(this,Zi,No).call(this,{type:"failed",failureCount:C,error:M})},onPause:()=>{Br(this,Zi,No).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Le(this,ns).canRun(this)}));const r=this.state.status==="pending",s=!Le(this,sc).canStart();try{if(r)n();else{Br(this,Zi,No).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=Le(this,ns).config).onMutate)==null?void 0:o.call(i,t,this));const M=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));M!==this.state.context&&Br(this,Zi,No).call(this,{type:"pending",context:M,variables:t,isPaused:s})}const C=await Le(this,sc).start();return await((d=(u=Le(this,ns).config).onSuccess)==null?void 0:d.call(u,C,t,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,C,t,this.state.context)),await((b=(h=Le(this,ns).config).onSettled)==null?void 0:b.call(h,C,null,this.state.variables,this.state.context,this)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,C,null,t,this.state.context)),Br(this,Zi,No).call(this,{type:"success",data:C}),C}catch(C){try{throw await((x=(y=Le(this,ns).config).onError)==null?void 0:x.call(y,C,t,this.state.context,this)),await((k=(S=this.options).onError)==null?void 0:k.call(S,C,t,this.state.context)),await((A=(D=Le(this,ns).config).onSettled)==null?void 0:A.call(D,void 0,C,this.state.variables,this.state.context,this)),await((L=(R=this.options).onSettled)==null?void 0:L.call(R,void 0,C,t,this.state.context)),C}finally{Br(this,Zi,No).call(this,{type:"error",error:C})}}finally{Le(this,ns).runNext(this)}}},Qi=new WeakMap,ns=new WeakMap,sc=new WeakMap,Zi=new WeakSet,No=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ss.batch(()=>{Le(this,Qi).forEach(r=>{r.onMutationUpdate(t)}),Le(this,ns).notify({mutation:this,type:"updated",action:t})})},MN);function a7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Da,ji,Nf,FN,o7=(FN=class extends s0{constructor(t={}){super();tn(this,Da);tn(this,ji);tn(this,Nf);this.config=t,It(this,Da,new Set),It(this,ji,new Map),It(this,Nf,0)}build(t,n,r){const s=new i7({mutationCache:this,mutationId:++Cp(this,Nf)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){Le(this,Da).add(t);const n=Yp(t);if(typeof n=="string"){const r=Le(this,ji).get(n);r?r.push(t):Le(this,ji).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Le(this,Da).delete(t)){const n=Yp(t);if(typeof n=="string"){const r=Le(this,ji).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&Le(this,ji).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Yp(t);if(typeof n=="string"){const r=Le(this,ji).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Yp(t);if(typeof n=="string"){const s=(r=Le(this,ji).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ss.batch(()=>{Le(this,Da).forEach(t=>{this.notify({type:"removed",mutation:t})}),Le(this,Da).clear(),Le(this,ji).clear()})}getAll(){return Array.from(Le(this,Da))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>s_(n,r))}findAll(t={}){return this.getAll().filter(n=>s_(t,n))}notify(t){ss.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ss.batch(()=>Promise.all(t.map(n=>n.continue().catch(Si))))}},Da=new WeakMap,ji=new WeakMap,Nf=new WeakMap,FN);function Yp(e){var t;return(t=e.options.scope)==null?void 0:t.id}function o_(e){return{onFetch:(t,n)=>{var d,p,m,h,b;const r=t.options,s=(m=(p=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const w=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},y=kE(t.options,t.fetchOptions),x=async(S,k,D)=>{if(v)return Promise.reject();if(k==null&&S.pages.length)return Promise.resolve(S);const R=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:k,direction:D?"backward":"forward",meta:t.options.meta};return w(E),E})(),L=await y(R),{maxPages:C}=t.options,M=D?KD:GD;return{pages:M(S.pages,L,C),pageParams:M(S.pageParams,k,C)}};if(s&&i.length){const S=s==="backward",k=S?l7:l_,D={pages:i,pageParams:o},A=k(r,D);l=await x(D,A,S)}else{const S=e??i.length;do{const k=c===0?o[0]??r.initialPageParam:l_(r,l);if(c>0&&k==null)break;l=await x(l,k),c++}while(c<S)}return l};t.options.persister?t.fetchFn=()=>{var v,w;return(w=(v=t.options).persister)==null?void 0:w.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function l_(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function l7(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Jn,Do,Mo,$u,Uu,Fo,zu,qu,BN,c7=(BN=class{constructor(e={}){tn(this,Jn);tn(this,Do);tn(this,Mo);tn(this,$u);tn(this,Uu);tn(this,Fo);tn(this,zu);tn(this,qu);It(this,Jn,e.queryCache||new s7),It(this,Do,e.mutationCache||new o7),It(this,Mo,e.defaultOptions||{}),It(this,$u,new Map),It(this,Uu,new Map),It(this,Fo,0)}mount(){Cp(this,Fo)._++,Le(this,Fo)===1&&(It(this,zu,AE.subscribe(async e=>{e&&(await this.resumePausedMutations(),Le(this,Jn).onFocus())})),It(this,qu,vg.subscribe(async e=>{e&&(await this.resumePausedMutations(),Le(this,Jn).onOnline())})))}unmount(){var e,t;Cp(this,Fo)._--,Le(this,Fo)===0&&((e=Le(this,zu))==null||e.call(this),It(this,zu,void 0),(t=Le(this,qu))==null||t.call(this),It(this,qu,void 0))}isFetching(e){return Le(this,Jn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Le(this,Do).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Le(this,Jn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Le(this,Jn).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Yy(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Le(this,Jn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=Le(this,Jn).get(r.queryHash),i=s==null?void 0:s.state.data,o=UD(t,i);if(o!==void 0)return Le(this,Jn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return ss.batch(()=>Le(this,Jn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Le(this,Jn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Le(this,Jn);ss.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Le(this,Jn);return ss.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ss.batch(()=>Le(this,Jn).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Si).catch(Si)}invalidateQueries(e,t={}){return ss.batch(()=>(Le(this,Jn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ss.batch(()=>Le(this,Jn).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Si)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Si)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Le(this,Jn).build(this,t);return n.isStaleByTime(Yy(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Si).catch(Si)}fetchInfiniteQuery(e){return e.behavior=o_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Si).catch(Si)}ensureInfiniteQueryData(e){return e.behavior=o_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return vg.isOnline()?Le(this,Do).resumePausedMutations():Promise.resolve()}getQueryCache(){return Le(this,Jn)}getMutationCache(){return Le(this,Do)}getDefaultOptions(){return Le(this,Mo)}setDefaultOptions(e){It(this,Mo,e)}setQueryDefaults(e,t){Le(this,$u).set(cf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Le(this,$u).values()],n={};return t.forEach(r=>{uf(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){Le(this,Uu).set(cf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Le(this,Uu).values()],n={};return t.forEach(r=>{uf(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Le(this,Mo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ew(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===tw&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Le(this,Mo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Le(this,Jn).clear(),Le(this,Do).clear()}},Jn=new WeakMap,Do=new WeakMap,Mo=new WeakMap,$u=new WeakMap,Uu=new WeakMap,Fo=new WeakMap,zu=new WeakMap,qu=new WeakMap,BN),u7=_.createContext(void 0),d7=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(u7.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},df.apply(this,arguments)}var zo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zo||(zo={}));const c_="popstate";function h7(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return Jy("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:OE(s)}return p7(t,n,null,e)}function pr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function RE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function f7(){return Math.random().toString(36).substr(2,8)}function u_(e,t){return{usr:e.state,key:e.key,idx:t}}function Jy(e,t,n,r){return n===void 0&&(n=null),df({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pd(t):t,{state:n,key:t&&t.key||r||f7()})}function OE(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function pd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p7(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=zo.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(df({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=zo.Pop;let w=d(),y=w==null?null:w-u;u=w,c&&c({action:l,location:v.location,delta:y})}function m(w,y){l=zo.Push;let x=Jy(v.location,w,y);u=d()+1;let S=u_(x,u),k=v.createHref(x);try{o.pushState(S,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(k)}i&&c&&c({action:l,location:v.location,delta:1})}function h(w,y){l=zo.Replace;let x=Jy(v.location,w,y);u=d();let S=u_(x,u),k=v.createHref(x);o.replaceState(S,"",k),i&&c&&c({action:l,location:v.location,delta:0})}function b(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:OE(w);return x=x.replace(/ $/,"%20"),pr(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(c_,p),c=w,()=>{s.removeEventListener(c_,p),c=null}},createHref(w){return t(s,w)},createURL:b,encodeLocation(w){let y=b(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:h,go(w){return o.go(w)}};return v}var d_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(d_||(d_={}));function m7(e,t,n){return n===void 0&&(n="/"),g7(e,t,n,!1)}function g7(e,t,n,r){let s=typeof t=="string"?pd(t):t,i=FE(s.pathname||"/",n);if(i==null)return null;let o=DE(e);v7(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=k7(i);l=E7(o[c],u,r)}return l}function DE(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(pr(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=lc([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(pr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),DE(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:N7(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of ME(i.path))s(i,o,c)}),t}function ME(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ME(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function v7(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:j7(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const y7=/^:[\w-]+$/,x7=3,w7=2,b7=1,_7=10,S7=-2,h_=e=>e==="*";function N7(e,t){let n=e.split("/"),r=n.length;return n.some(h_)&&(r+=S7),t&&(r+=w7),n.filter(s=>!h_(s)).reduce((s,i)=>s+(y7.test(i)?x7:i===""?b7:_7),r)}function j7(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function E7(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",p=f_({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=f_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:lc([i,p.pathname]),pathnameBase:T7(lc([i,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(i=lc([i,p.pathnameBase]))}return o}function f_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=C7(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,p)=>{let{paramName:m,isOptional:h}=d;if(m==="*"){let v=l[p]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const b=l[p];return h&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function C7(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),RE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function k7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return RE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function FE(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function A7(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?pd(e):e;return{pathname:n?n.startsWith("/")?n:P7(n,t):t,search:I7(r),hash:R7(s)}}function P7(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yv(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function L7(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function BE(e,t){let n=L7(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $E(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=pd(e):(s=df({},e),pr(!s.pathname||!s.pathname.includes("?"),Yv("?","pathname","search",s)),pr(!s.pathname||!s.pathname.includes("#"),Yv("#","pathname","hash",s)),pr(!s.search||!s.search.includes("#"),Yv("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;s.pathname=m.join("/")}l=p>=0?t[p]:"/"}let c=A7(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const lc=e=>e.join("/").replace(/\/\/+/g,"/"),T7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),I7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,R7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function O7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const UE=["post","put","patch","delete"];new Set(UE);const D7=["get",...UE];new Set(D7);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hf.apply(this,arguments)}const nw=_.createContext(null),M7=_.createContext(null),If=_.createContext(null),a0=_.createContext(null),kc=_.createContext({outlet:null,matches:[],isDataRoute:!1}),zE=_.createContext(null);function Rf(){return _.useContext(a0)!=null}function md(){return Rf()||pr(!1),_.useContext(a0).location}function qE(e){_.useContext(If).static||_.useLayoutEffect(e)}function Qa(){let{isDataRoute:e}=_.useContext(kc);return e?X7():F7()}function F7(){Rf()||pr(!1);let e=_.useContext(nw),{basename:t,future:n,navigator:r}=_.useContext(If),{matches:s}=_.useContext(kc),{pathname:i}=md(),o=JSON.stringify(BE(s,n.v7_relativeSplatPath)),l=_.useRef(!1);return qE(()=>{l.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let p=$E(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:lc([t,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[t,r,o,i,e])}function B7(e,t){return $7(e,t)}function $7(e,t,n,r){Rf()||pr(!1);let{navigator:s}=_.useContext(If),{matches:i}=_.useContext(kc),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=md(),d;if(t){var p;let w=typeof t=="string"?pd(t):t;c==="/"||(p=w.pathname)!=null&&p.startsWith(c)||pr(!1),d=w}else d=u;let m=d.pathname||"/",h=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=m7(e,{pathname:h}),v=H7(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:lc([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:lc([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return t&&v?_.createElement(a0.Provider,{value:{location:hf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:zo.Pop}},v):v}function U7(){let e=Y7(),t=O7(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:s},n):null,null)}const z7=_.createElement(U7,null);class q7 extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(kc.Provider,{value:this.props.routeContext},_.createElement(zE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function W7(e){let{routeContext:t,match:n,children:r}=e,s=_.useContext(nw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(kc.Provider,{value:t},r)}function H7(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||pr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:m,errors:h}=n,b=p.route.loader&&m[p.route.id]===void 0&&(!h||h[p.route.id]===void 0);if(p.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,p,m)=>{let h,b=!1,v=null,w=null;n&&(h=l&&p.route.id?l[p.route.id]:void 0,v=p.route.errorElement||z7,c&&(u<0&&m===0?(b=!0,w=null):u===m&&(b=!0,w=p.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,m+1)),x=()=>{let S;return h?S=v:b?S=w:p.route.Component?S=_.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=d,_.createElement(W7,{match:p,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:S})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?_.createElement(q7,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var WE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(WE||{}),yg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yg||{});function V7(e){let t=_.useContext(nw);return t||pr(!1),t}function G7(e){let t=_.useContext(M7);return t||pr(!1),t}function K7(e){let t=_.useContext(kc);return t||pr(!1),t}function HE(e){let t=K7(),n=t.matches[t.matches.length-1];return n.route.id||pr(!1),n.route.id}function Y7(){var e;let t=_.useContext(zE),n=G7(yg.UseRouteError),r=HE(yg.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function X7(){let{router:e}=V7(WE.UseNavigateStable),t=HE(yg.UseNavigateStable),n=_.useRef(!1);return qE(()=>{n.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,hf({fromRouteId:t},i)))},[e,t])}function J7(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function o0(e){let{to:t,replace:n,state:r,relative:s}=e;Rf()||pr(!1);let{future:i,static:o}=_.useContext(If),{matches:l}=_.useContext(kc),{pathname:c}=md(),u=Qa(),d=$E(t,BE(l,i.v7_relativeSplatPath),c,s==="path"),p=JSON.stringify(d);return _.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:s}),[u,p,s,n,r]),null}function jo(e){pr(!1)}function Q7(e){let{basename:t="/",children:n=null,location:r,navigationType:s=zo.Pop,navigator:i,static:o=!1,future:l}=e;Rf()&&pr(!1);let c=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:i,static:o,future:hf({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=pd(r));let{pathname:d="/",search:p="",hash:m="",state:h=null,key:b="default"}=r,v=_.useMemo(()=>{let w=FE(d,c);return w==null?null:{location:{pathname:w,search:p,hash:m,state:h,key:b},navigationType:s}},[c,d,p,m,h,b,s]);return v==null?null:_.createElement(If.Provider,{value:u},_.createElement(a0.Provider,{children:n,value:v}))}function Z7(e){let{children:t,location:n}=e;return B7(Qy(t),n)}new Promise(()=>{});function Qy(e,t){t===void 0&&(t=[]);let n=[];return _.Children.forEach(e,(r,s)=>{if(!_.isValidElement(r))return;let i=[...t,s];if(r.type===_.Fragment){n.push.apply(n,Qy(r.props.children,i));return}r.type!==jo&&pr(!1),!r.props.index||!r.props.children||pr(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Qy(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zy(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function eM(e,t){let n=Zy(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const tM="6";try{window.__reactRouterVersion=tM}catch{}const nM="startTransition",p_=W2[nM];function rM(e){let{basename:t,children:n,future:r,window:s}=e,i=_.useRef();i.current==null&&(i.current=h7({window:s,v5Compat:!0}));let o=i.current,[l,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=_.useCallback(p=>{u&&p_?p_(()=>c(p)):c(p)},[c,u]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.useEffect(()=>J7(r),[r]),_.createElement(Q7,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var m_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(m_||(m_={}));var g_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(g_||(g_={}));function sM(e){let t=_.useRef(Zy(e)),n=_.useRef(!1),r=md(),s=_.useMemo(()=>eM(r.search,n.current?null:t.current),[r.search]),i=Qa(),o=_.useCallback((l,c)=>{const u=Zy(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}const iM="modulepreload",aM=function(e){return"/"+e},v_={},la=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=aM(c),c in v_)return;v_[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":iM,u||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((m,h)=>{p.addEventListener("load",m),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},oM=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>la(async()=>{const{default:r}=await Promise.resolve().then(()=>gd);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class rw extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class y_ extends rw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class x_ extends rw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class w_ extends rw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var e2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(e2||(e2={}));var lM=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(p){o(p)}}function c(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class cM{constructor(t,{headers:n={},customFetch:r,region:s=e2.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=oM(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return lM(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o,signal:l}=n;let c={},{region:u}=n;u||(u=this.region);const d=new URL(`${this.url}/${t}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let p;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",p=o):typeof o=="string"?(c["Content-Type"]="text/plain",p=o):typeof FormData<"u"&&o instanceof FormData?p=o:(c["Content-Type"]="application/json",p=JSON.stringify(o)));const m=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:p,signal:l}).catch(w=>{throw w.name==="AbortError"?w:new y_(w)}),h=m.headers.get("x-relay-error");if(h&&h==="true")throw new x_(m);if(!m.ok)throw new w_(m);let b=((r=m.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return b==="application/json"?v=yield m.json():b==="application/octet-stream"?v=yield m.blob():b==="text/event-stream"?v=m:b==="multipart/form-data"?v=yield m.formData():v=yield m.text(),{data:v,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new y_(s)}:{data:null,error:s,response:s instanceof w_||s instanceof x_?s.context:void 0}}})}}var ws={},sw={},l0={},Of={},c0={},u0={},uM=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ed=uM();const dM=ed.fetch,VE=ed.fetch.bind(ed),GE=ed.Headers,hM=ed.Request,fM=ed.Response,gd=Object.freeze(Object.defineProperty({__proto__:null,Headers:GE,Request:hM,Response:fM,default:VE,fetch:dM},Symbol.toStringTag,{value:"Module"})),pM=lL(gd);var d0={};Object.defineProperty(d0,"__esModule",{value:!0});let mM=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};d0.default=mM;var KE=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(u0,"__esModule",{value:!0});const gM=KE(pM),vM=KE(d0);let yM=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=gM.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,p=null,m=null,h=i.status,b=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?p=x:p=JSON.parse(x))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&y&&y.length>1&&(m=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(d={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,h=406,b="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const w=await i.text();try{d=JSON.parse(w),Array.isArray(d)&&i.status===404&&(p=[],d=null,h=200,b="OK")}catch{i.status===404&&w===""?(h=204,b="No Content"):d={message:w}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,h=200,b="OK"),d&&this.shouldThrowOnError)throw new vM.default(d)}return{error:d,data:p,count:m,status:h,statusText:b}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};u0.default=yM;var xM=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c0,"__esModule",{value:!0});const wM=xM(u0);let bM=class extends wM.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};c0.default=bM;var _M=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Of,"__esModule",{value:!0});const SM=_M(c0);let NM=class extends SM.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Of.default=NM;var jM=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l0,"__esModule",{value:!0});const oh=jM(Of);let EM=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new oh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new oh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new oh.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new oh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new oh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};l0.default=EM;var YE=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sw,"__esModule",{value:!0});const CM=YE(l0),kM=YE(Of);let AM=class XE{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new CM.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new XE(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{c.searchParams.append(p,m)})):(l="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new kM.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};sw.default=AM;var vd=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ws,"__esModule",{value:!0});ws.PostgrestError=ws.PostgrestBuilder=ws.PostgrestTransformBuilder=ws.PostgrestFilterBuilder=ws.PostgrestQueryBuilder=ws.PostgrestClient=void 0;const JE=vd(sw);ws.PostgrestClient=JE.default;const QE=vd(l0);ws.PostgrestQueryBuilder=QE.default;const ZE=vd(Of);ws.PostgrestFilterBuilder=ZE.default;const eC=vd(c0);ws.PostgrestTransformBuilder=eC.default;const tC=vd(u0);ws.PostgrestBuilder=tC.default;const nC=vd(d0);ws.PostgrestError=nC.default;var PM=ws.default={PostgrestClient:JE.default,PostgrestQueryBuilder:QE.default,PostgrestFilterBuilder:ZE.default,PostgrestTransformBuilder:eC.default,PostgrestBuilder:tC.default,PostgrestError:nC.default};const{PostgrestClient:LM,PostgrestQueryBuilder:iK,PostgrestFilterBuilder:aK,PostgrestTransformBuilder:oK,PostgrestBuilder:lK,PostgrestError:cK}=PM;class TM{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const IM="2.15.5",RM=`realtime-js/${IM}`,OM="1.0.0",t2=1e4,DM=1e3,MM=100;var Rh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rh||(Rh={}));var br;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(br||(br={}));var Ci;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ci||(Ci={}));var n2;(function(e){e.websocket="websocket"})(n2||(n2={}));var Hl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Hl||(Hl={}));class FM{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class rC{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var An;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(An||(An={}));const b_=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=BM(o,e,t,s),i),{})},BM=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?sC(i,o):r2(o)},sC=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return qM(t,n)}switch(e){case An.bool:return $M(t);case An.float4:case An.float8:case An.int2:case An.int4:case An.int8:case An.numeric:case An.oid:return UM(t);case An.json:case An.jsonb:return zM(t);case An.timestamp:return WM(t);case An.abstime:case An.date:case An.daterange:case An.int4range:case An.int8range:case An.money:case An.reltime:case An.text:case An.time:case An.timestamptz:case An.timetz:case An.tsrange:case An.tstzrange:return r2(t);default:return r2(t)}},r2=e=>e,$M=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},UM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},qM=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>sC(t,l))}return e},WM=e=>typeof e=="string"?e.replace(" ","T"):e,iC=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Xv{constructor(t,n,r={},s=t2){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var __;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(__||(__={}));class Oh{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Oh.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Oh.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Oh.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const p=i[u];if(p){const m=d.map(w=>w.presence_ref),h=p.map(w=>w.presence_ref),b=d.filter(w=>h.indexOf(w.presence_ref)<0),v=p.filter(w=>m.indexOf(w.presence_ref)<0);b.length>0&&(l[u]=b),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const p=t[l].map(h=>h.presence_ref),m=d.filter(h=>p.indexOf(h.presence_ref)<0);t[l].unshift(...m)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(p=>p.presence_ref);u=u.filter(p=>d.indexOf(p.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var S_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(S_||(S_={}));var Dh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Dh||(Dh={}));var Ta;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ta||(Ta={}));class iw{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=br.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xv(this,Ci.join,this.params,this.timeout),this.rejoinTimer=new rC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=br.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=br.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=br.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ci.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Oh(this),this.broadcastEndpointURL=iC(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==br.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Dh.PRESENCE]&&this.bindings[Dh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Ta.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Ta.CLOSED)),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var b;if(this.socket.setAuth(),h===void 0){t==null||t(Ta.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,w=(b=v==null?void 0:v.length)!==null&&b!==void 0?b:0,y=[];for(let x=0;x<w;x++){const S=v[x],{filter:{event:k,schema:D,table:A,filter:R}}=S,L=h&&h[x];if(L&&L.event===k&&L.schema===D&&L.table===A&&L.filter===R)y.push(Object.assign(Object.assign({},S),{id:L.id}));else{this.unsubscribe(),this.state=br.errored,t==null||t(Ta.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Ta.SUBSCRIBED);return}}).receive("error",h=>{this.state=br.errored,t==null||t(Ta.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ta.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===br.joined&&t===Dh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=br.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ci.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Xv(this,Ci.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=br.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Xv(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>MM){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ci;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var b,v,w;return((b=h.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(v=h.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(h=>h.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var b,v,w,y,x,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const k=h.id,D=(b=h.filter)===null||b===void 0?void 0:b.event;return k&&((v=n.ids)===null||v===void 0?void 0:v.includes(k))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const k=(x=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return k==="*"||k===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:v,table:w,commit_timestamp:y,type:x,errors:S}=b;m=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:y,eventType:x,new:{},old:{},errors:S}),this._getPayloadRecords(b))}h.callback(m,r)})}_isClosed(){return this.state===br.closed}_isJoined(){return this.state===br.joined}_isJoining(){return this.state===br.joining}_isLeaving(){return this.state===br.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&iw.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ci.close,{},t)}_onError(t){this._on(Ci.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=br.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=b_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=b_(t.columns,t.old_record)),n}}const Jv=()=>{},Xp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},HM=[1e3,2e3,5e3,1e4],VM=1e4,GM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KM{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=t2,this.transport=null,this.heartbeatIntervalMs=Xp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jv,this.ref=0,this.reconnectTimer=null,this.logger=Jv,this.conn=null,this.sendBuffer=[],this.serializer=new FM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>la(async()=>{const{default:l}=await Promise.resolve().then(()=>gd);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${n2.websocket}`,this.httpEndpoint=iC(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=TM.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:OM}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Rh.connecting:return Hl.Connecting;case Rh.open:return Hl.Open;case Rh.closing:return Hl.Closing;default:return Hl.Closed}}isConnected(){return this.connectionState()===Hl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new iw(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(DM,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Xp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ci.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([GM],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:RM};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ci.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new rC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,l,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:t2,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Xp.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Jv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:p=>HM[p-1]||VM,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(p,m)=>m(JSON.stringify(p)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class aw extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function hr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class YM extends aw{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class s2 extends aw{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var XM=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(p){o(p)}}function c(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const aC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>la(async()=>{const{default:r}=await Promise.resolve().then(()=>gd);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},JM=()=>XM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield la(()=>Promise.resolve().then(()=>gd),void 0)).Response:Response}),i2=e=>{if(Array.isArray(e))return e.map(n=>i2(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=i2(r)}),t},QM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ac=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(p){o(p)}}function c(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Qv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZM=(e,t,n)=>Ac(void 0,void 0,void 0,function*(){const r=yield JM();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new YM(Qv(s),i,o))}).catch(s=>{t(new s2(Qv(s),s))}):t(new s2(Qv(e),e))}),eF=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(QM(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Df(e,t,n,r,s,i){return Ac(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,eF(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>ZM(c,l,r))})})}function xg(e,t,n,r){return Ac(this,void 0,void 0,function*(){return Df(e,"GET",t,n,r)})}function Xi(e,t,n,r,s){return Ac(this,void 0,void 0,function*(){return Df(e,"POST",t,r,s,n)})}function a2(e,t,n,r,s){return Ac(this,void 0,void 0,function*(){return Df(e,"PUT",t,r,s,n)})}function tF(e,t,n,r){return Ac(this,void 0,void 0,function*(){return Df(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function oC(e,t,n,r,s){return Ac(this,void 0,void 0,function*(){return Df(e,"DELETE",t,r,s,n)})}var nF=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(p){o(p)}}function c(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class rF{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return nF(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(hr(t))return{data:null,error:t};throw t}})}}var sF=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(p){o(p)}}function c(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class iF{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new rF(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return sF(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(hr(t))return{data:null,error:t};throw t}})}}var vs=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(p){o(p)}}function c(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const aF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},N_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class oF{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=aC(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return vs(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},N_),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),p=yield(t=="PUT"?a2:Xi)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(hr(i))return{data:null,error:i};throw i}})}upload(t,n,r){return vs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return vs(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:N_.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const p=yield a2(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(hr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return vs(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Xi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new aw("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hr(r))return{data:null,error:r};throw r}})}update(t,n,r){return vs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return vs(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(hr(s))return{data:null,error:s};throw s}})}copy(t,n,r){return vs(this,void 0,void 0,function*(){try{return{data:{path:(yield Xi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(hr(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return vs(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Xi(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(hr(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return vs(this,void 0,void 0,function*(){try{const s=yield Xi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(hr(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>xg(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new iF(c,this.shouldThrowOnError)}info(t){return vs(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield xg(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:i2(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hr(r))return{data:null,error:r};throw r}})}exists(t){return vs(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield tF(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hr(r)&&r instanceof s2){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return vs(this,void 0,void 0,function*(){try{return{data:yield oC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hr(n))return{data:null,error:n};throw n}})}list(t,n,r){return vs(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},aF),n),{prefix:t||""});return{data:yield Xi(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(hr(s))return{data:null,error:s};throw s}})}listV2(t,n){return vs(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Xi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hr(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const lF="2.12.2",cF={"X-Client-Info":`storage-js/${lF}`};var Vc=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(p){o(p)}}function c(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class uF{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},cF),n),this.fetch=aC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Vc(this,void 0,void 0,function*(){try{return{data:yield xg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(hr(t))return{data:null,error:t};throw t}})}getBucket(t){return Vc(this,void 0,void 0,function*(){try{return{data:yield xg(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Vc(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hr(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Vc(this,void 0,void 0,function*(){try{return{data:yield a2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Vc(this,void 0,void 0,function*(){try{return{data:yield Xi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Vc(this,void 0,void 0,function*(){try{return{data:yield oC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hr(n))return{data:null,error:n};throw n}})}}class dF extends uF{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new oF(this.url,this.headers,t,this.fetch)}}const hF="2.58.0";let wh="";typeof Deno<"u"?wh="deno":typeof document<"u"?wh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wh="react-native":wh="node";const fF={"X-Client-Info":`supabase-js-${wh}/${hF}`},pF={headers:fF},mF={schema:"public"},gF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vF={};var yF=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(p){o(p)}}function c(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const xF=e=>{let t;return e?t=e:typeof fetch>"u"?t=VE:t=fetch,(...n)=>t(...n)},wF=()=>typeof Headers>"u"?GE:Headers,bF=(e,t,n)=>{const r=xF(n),s=wF();return(i,o)=>yF(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var _F=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(p){o(p)}}function c(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function SF(e){return e.endsWith("/")?e:e+"/"}function NF(e,t){var n,r;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:p}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>_F(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function jF(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(SF(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const lC="2.72.0",iu=30*1e3,o2=3,Zv=o2*iu,EF="http://localhost:9999",CF="supabase.auth.token",kF={"X-Client-Info":`gotrue-js/${lC}`},l2="X-Supabase-Api-Version",cC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},AF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,PF=10*60*1e3;class ow extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Rt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class LF extends ow{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function TF(e){return Rt(e)&&e.name==="AuthApiError"}class uC extends ow{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ml extends ow{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Eo extends ml{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function IF(e){return Rt(e)&&e.name==="AuthSessionMissingError"}class lh extends ml{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jp extends ml{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qp extends ml{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function RF(e){return Rt(e)&&e.name==="AuthImplicitGrantRedirectError"}class j_ extends ml{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class c2 extends ml{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function e1(e){return Rt(e)&&e.name==="AuthRetryableFetchError"}class E_ extends ml{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class u2 extends ml{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),C_=` 	
\r=`.split(""),OF=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<C_.length;t+=1)e[C_[t].charCodeAt(0)]=-2;for(let t=0;t<wg.length;t+=1)e[wg[t].charCodeAt(0)]=t;return e})();function k_(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(wg[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(wg[r]),t.queuedBits-=6}}function dC(e,t,n){const r=OF[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function A_(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{FF(o,r,n)};for(let o=0;o<e.length;o+=1)dC(e.charCodeAt(o),s,i);return t.join("")}function DF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function MF(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}DF(r,t)}}function FF(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function BF(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)dC(e.charCodeAt(s),n,r);return new Uint8Array(t)}function $F(e){const t=[];return MF(e,n=>t.push(n)),new Uint8Array(t)}function UF(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>k_(s,n,r)),k_(null,n,r),t.join("")}function zF(e){return Math.round(Date.now()/1e3)+e}function qF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ri=()=>typeof window<"u"&&typeof document<"u",Fl={tested:!1,writable:!1},hC=()=>{if(!ri())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fl.tested)return Fl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fl.tested=!0,Fl.writable=!0}catch{Fl.tested=!0,Fl.writable=!1}return Fl.writable};function WF(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const fC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>la(async()=>{const{default:r}=await Promise.resolve().then(()=>gd);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},HF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",au=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Bl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},wo=async(e,t)=>{await e.removeItem(t)};class h0{constructor(){this.promise=new h0.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}h0.promiseConstructor=Promise;function t1(e){const t=e.split(".");if(t.length!==3)throw new u2("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!AF.test(t[r]))throw new u2("JWT not in base64url format");return{header:JSON.parse(A_(t[0])),payload:JSON.parse(A_(t[1])),signature:BF(t[2]),raw:{header:t[0],payload:t[1]}}}async function VF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function GF(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function KF(e){return("0"+e.toString(16)).substr(-2)}function YF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,KF).join("")}async function XF(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function JF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await XF(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gc(e,t,n=!1){const r=YF();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await au(e,`${t}-code-verifier`,s);const i=await JF(r);return[i,r===i?"plain":"s256"]}const QF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZF(e){const t=e.headers.get(l2);if(!t||!t.match(QF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function e9(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function t9(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const n9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Kc(e){if(!n9.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function n1(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function P_(e){return JSON.parse(JSON.stringify(e))}var r9=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const zl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),s9=[502,503,504];async function L_(e){var t;if(!HF(e))throw new c2(zl(e),0);if(s9.includes(e.status))throw new c2(zl(e),e.status);let n;try{n=await e.json()}catch(i){throw new uC(zl(i),i)}let r;const s=ZF(e);if(s&&s.getTime()>=cC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new E_(zl(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Eo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new E_(zl(n),e.status,n.weak_password.reasons);throw new LF(zl(n),e.status||500,r)}const i9=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function qt(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[l2]||(i[l2]=cC["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await a9(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function a9(e,t,n,r,s,i){const o=i9(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new c2(zl(c),0)}if(l.ok||await L_(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await L_(c)}}function Gi(e){var t;let n=null;u9(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=zF(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function T_(e){const t=Gi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function To(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function o9(e){return{data:e,error:null}}function l9(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=r9(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function c9(e){return e}function u9(e){return e.access_token&&e.refresh_token&&e.expires_in}const r1=["global","local","others"];var d9=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class h9{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=fC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=r1[0]){if(r1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${r1.join(", ")}`);try{return await qt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await qt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:To})}catch(r){if(Rt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=d9(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await qt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:l9,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Rt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await qt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:To})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await qt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:c9});if(d.error)throw d.error;const p=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(Rt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Kc(t);try{return await qt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:To})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Kc(t);try{return await qt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:To})}catch(r){if(Rt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Kc(t);try{return await qt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:To})}catch(r){if(Rt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Kc(t.userId);try{const{data:n,error:r}=await qt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Kc(t.userId),Kc(t.id);try{return{data:await qt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}}function I_(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function f9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Yc={debug:!!(globalThis&&hC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class p9 extends pC{}async function m9(e,t,n){Yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Yc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Yc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new p9(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Yc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function mC(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function g9(e){return parseInt(e,16)}function v9(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function y9(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:p,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=mC(e.address),b=d?`${d}://${r}`:r,v=e.statement?`${e.statement}
`:"",w=`${b} wants you to sign in with your Ethereum account:
${h}

${v}`;let y=`URI: ${p}
Version: ${m}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);x+=`
- ${S}`}y+=x}return`${w}
${y}`}f9();const x9={url:EF,storageKey:CF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function R_(e,t,n){return await n()}const Xc={};class ff{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ff.nextInstanceID,ff.nextInstanceID+=1,this.instanceID>0&&ri()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},x9),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new h9({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=fC(s.fetch),this.lock=s.lock||R_,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ri()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=m9:this.lock=R_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:hC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=I_(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=I_(this.memoryStorage)),ri()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Xc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Xc[this.storageKey]=Object.assign(Object.assign({},Xc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Xc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xc[this.storageKey]=Object.assign(Object.assign({},Xc[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lC}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=WF(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ri()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),RF(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Rt(n)?{error:n}:{error:new uC("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Gi}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Rt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:p,options:m}=t;let h=null,b=null;this.flowType==="pkce"&&([h,b]=await Gc(this.storage,this.storageKey)),i=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:b},xform:Gi})}else if("phone"in t){const{phone:d,password:p,options:m}=t;i=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Gi})}else throw new Jp("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Rt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:T_})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:T_})}else throw new Jp("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new lh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Rt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,l,c,u,d,p,m;let h,b;if("message"in t)h=t.message,b=t.signature;else{const{chain:v,wallet:w,statement:y,options:x}=t;let S;if(ri())if(typeof w=="object")S=w;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")S=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const k=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),D=await S.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=mC(D[0]);let R=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!R){const C=await S.request({method:"eth_chainId"});R=g9(C)}const L={domain:k.host,address:A,statement:y,uri:k.href,version:"1",chainId:R,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};h=y9(L),b=await S.request({method:"personal_sign",params:[v9(h),A]})}try{const{data:v,error:w}=await qt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:b},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Gi});if(w)throw w;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new lh}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:w})}catch(v){if(Rt(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(t){var n,r,s,i,o,l,c,u,d,p,m,h;let b,v;if("message"in t)b=t.message,v=t.signature;else{const{chain:w,wallet:y,statement:x,options:S}=t;let k;if(ri())if(typeof y=="object")k=y;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))k=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=y}const D=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const A=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),x?{statement:x}:null));let R;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")R=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)R=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)b=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),v=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${D.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(s=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((p=(d=S==null?void 0:S.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...S.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const A=await k.signMessage(new TextEncoder().encode(b),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=A}}try{const{data:w,error:y}=await qt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:UF(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Gi});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new lh}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(Rt(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const n=await Bl(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await qt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Gi});if(await wo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new lh}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Rt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await qt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Gi}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new lh}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Rt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Gc(this.storage,this.storageKey));const{error:p}=await qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Jp("You must provide either an email or phone number.")}catch(l){if(Rt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await qt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Gi});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Rt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Gc(this.storage,this.storageKey)),await qt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:o9})}catch(i){if(Rt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Eo;const{error:s}=await qt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Rt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await qt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await qt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Jp("You must provide either an email or phone number and a type")}catch(n){if(Rt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Bl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Zv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Bl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=n1()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:To}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Eo}:await qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:To})})}catch(n){if(Rt(n))return IF(n)&&(await this._removeSession(),await wo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Eo;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Gc(this.storage,this.storageKey));const{data:u,error:d}=await qt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:To});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Rt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Eo;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=t1(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Rt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Eo;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Rt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ri())throw new Qp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new j_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new j_("No code detected.");const{data:x,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Qp("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(l);let m=d+p;c&&(m=parseInt(c));const h=m-d;h*1e3<=iu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${p}s`);const b=m-p;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,d);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:m,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(Rt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Bl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(TF(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await wo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=qF(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Gc(this.storage,this.storageKey,!0));try{return await qt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Rt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:p,error:m}=i;if(m)throw m;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await qt(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ri()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Rt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await qt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await GF(async s=>(s>0&&await VF(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await qt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gi})),(s,i)=>{const o=200*Math.pow(2,s);return i&&e1(i)&&Date.now()+o-r<iu})}catch(r){if(this._debug(n,"error",r),Rt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ri()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Bl(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Bl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await au(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:n1()}else if(s&&!s.user&&!s.user){const o=await Bl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await wo(this.storage,this.storageKey+"-user"),await au(this.storage,this.storageKey,s)):s.user=n1()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Zv;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Zv}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),e1(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Eo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new h0;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Eo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Rt(i)){const o={session:null,error:i};return e1(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await au(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=P_(s);await au(this.storage,this.storageKey,i)}else{const s=P_(n);await au(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await wo(this.storage,this.storageKey),await wo(this.storage,this.storageKey+"-code-verifier"),await wo(this.storage,this.storageKey+"-user"),this.userStorage&&await wo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ri()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),iu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/iu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${iu}ms, refresh threshold is ${o2} ticks`),s<=o2&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof pC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ri()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Gc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await qt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await qt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await qt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await qt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=t1(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+PF>s)return r;const{data:i,error:o}=await qt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:h,error:b}=await this.getSession();if(b||!h.session)return{data:null,error:b};r=h.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=t1(r);n!=null&&n.allowExpired||e9(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:i,header:s,signature:o},error:null}}const d=t9(s.alg),p=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,o,$F(`${l}.${c}`)))throw new u2("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}}}ff.nextInstanceID=0;const w9=ff;class b9 extends w9{constructor(t){super(t)}}var _9=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(p){o(p)}}function c(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class S9{constructor(t,n,r){var s,i,o;this.supabaseUrl=t,this.supabaseKey=n;const l=jF(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:mF,realtime:vF,auth:Object.assign(Object.assign({},gF),{storageKey:c}),global:pF},d=NF(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=bF(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new LM(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new dF(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new cM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return _9(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new b9({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new KM(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const N9=(e,t,n)=>new S9(e,t,n);function j9(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}j9()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const E9=()=>{try{if(typeof window>"u")return!1;const e="__localStorage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}},C9=()=>{if(!E9()){const t={};return{getItem:n=>t[n]||null,setItem:(n,r)=>{t[n]=r},removeItem:n=>{delete t[n]}}}return{getItem:t=>localStorage.getItem(t),setItem:(t,n)=>localStorage.setItem(t,n),removeItem:t=>localStorage.removeItem(t)}},k9="https://wadzjhhxtukyabanpevv.supabase.co",A9="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndhZHpqaGh4dHVreWFiYW5wZXZ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1MDg5NDIsImV4cCI6MjA3NTA4NDk0Mn0.093wz2O1Tnu4BlAc3BFKGGt6LcjtB9xdyn_wpnsuVbY",Ue=N9(k9,A9,{auth:{storage:C9(),persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"}}),gC=_.createContext(void 0),vn=()=>{const e=_.useContext(gC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},P9=({children:e})=>{const[t,n]=_.useState(null),[r,s]=_.useState(null),[i,o]=_.useState(!0),{toast:l}=Nn();_.useEffect(()=>{let h=!0;const{data:{subscription:b}}=Ue.auth.onAuthStateChange((y,x)=>{var S;console.log("Auth state change:",y,((S=x==null?void 0:x.user)==null?void 0:S.email)||"no user"),h&&(s(x),n((x==null?void 0:x.user)??null),o(!1))}),v=async()=>{try{const{data:{session:y},error:x}=await Ue.auth.getSession();if(h){if(x){console.error("Error getting session:",x),o(!1);return}s(y),n((y==null?void 0:y.user)??null),o(!1)}}catch(y){console.error("Error initializing auth:",y),h&&o(!1)}},w=setTimeout(()=>{h&&o(!1)},5e3);return v(),()=>{h=!1,clearTimeout(w),b.unsubscribe()}},[]);const m={user:t,session:r,loading:i,signUp:async(h,b,v)=>{try{console.log("Attempting signup with:",{email:h,fullName:v});const{data:w,error:y}=await Ue.auth.signInWithPassword({email:h,password:"dummy_password_to_check_existence"});if(w||y&&y.message.includes("Invalid login credentials"))return l({variant:"destructive",title:"Already Registered",description:"This email address is already registered. Please try signing in instead."}),{error:{message:"User already exists"}};const x=`${window.location.origin}/`,{data:S,error:k}=await Ue.auth.signUp({email:h,password:b,options:{emailRedirectTo:x,data:{full_name:v,user_role:"employee"}}});return console.log("Signup response:",{data:S,error:k}),k?(console.error("Signup error:",k),k.message.includes("already registered")||k.message.includes("User already registered")||k.message.includes("already been registered")?l({variant:"destructive",title:"Already Registered",description:"This email address is already registered. Please try signing in instead."}):k.message.includes("Invalid email")?l({variant:"destructive",title:"Invalid Email",description:"Please enter a valid email address."}):k.message.includes("Password should be at least")?l({variant:"destructive",title:"Password Too Short",description:"Password must be at least 6 characters long."}):l({variant:"destructive",title:"Sign Up Error",description:k.message})):(console.log("Signup successful, user:",S.user),l({title:"Account Created",description:"Please check your email for the confirmation link."})),{error:k}}catch(w){return console.error("Signup catch error:",w),l({variant:"destructive",title:"Sign Up Error",description:w.message||"An unexpected error occurred"}),{error:w}}},signIn:async(h,b)=>{try{const{error:v}=await Ue.auth.signInWithPassword({email:h,password:b});return v?l({variant:"destructive",title:"Sign In Error",description:v.message}):window.innerWidth<768&&await new Promise(w=>setTimeout(w,1e3)),{error:v}}catch(v){return l({variant:"destructive",title:"Sign In Error",description:v.message}),{error:v}}},signOut:async()=>{var h;try{console.log("Starting sign out process...");const{data:{session:b},error:v}=await Ue.auth.getSession();if(v&&console.warn("Session check error:",v),b){console.log("Valid session found, signing out from Supabase...");const{error:w}=await Ue.auth.signOut();w?(console.error("Supabase sign out error:",w),w.message.includes("Auth session missing")||l({variant:"destructive",title:"Sign Out Error",description:w.message})):console.log("Supabase sign out successful")}else console.log("No valid session found, proceeding with local cleanup...");n(null),s(null),o(!1);try{if(typeof window<"u"){const w=[];for(let y=0;y<localStorage.length;y++){const x=localStorage.key(y);x&&(x.includes("supabase")||x.includes("sb-"))&&w.push(x)}w.forEach(y=>localStorage.removeItem(y)),localStorage.removeItem("griha-sajjwa-remember-email"),localStorage.removeItem("griha-sajjwa-remember-password"),localStorage.removeItem("griha-sajjwa-remember-me"),sessionStorage.clear()}}catch(w){console.warn("Error clearing storage:",w)}console.log("Sign out completed successfully")}catch(b){console.error("Sign out catch error:",b),n(null),s(null),o(!1),(h=b.message)!=null&&h.includes("Auth session missing")||l({variant:"destructive",title:"Sign Out Error",description:b.message||"An unexpected error occurred"})}},getUserRole:async()=>{if(!t)return null;try{const{data:h,error:b}=await Ue.from("profiles").select("*").eq("user_id",t.id).single();return b?(console.error("Error fetching user role:",b),"employee"):(h==null?void 0:h.user_role)||"employee"}catch(h){return console.error("Error in getUserRole:",h),"employee"}}};return a.jsx(gC.Provider,{value:m,children:e})},vC=_.createContext(void 0),L9=({children:e})=>{const{user:t}=vn(),[n,r]=_.useState({allowEdit:!0,allowDelete:!0,allowAddNew:!0,allowExport:!0,showFinancialTotals:!0,allowBulkOperations:!0,allowAddPayment:!0,allowPaymentManager:!0,allowRecordPayment:!0,allowBillManagement:!0,allowMahajanDeletion:!0}),[s,i]=_.useState(!1),o=async()=>{if(!t){r({allowEdit:!0,allowDelete:!0,allowAddNew:!0,allowExport:!0,showFinancialTotals:!0,allowBulkOperations:!0,allowAddPayment:!0,allowPaymentManager:!0,allowRecordPayment:!0,allowBillManagement:!0,allowMahajanDeletion:!0});return}i(!0);try{const{data:c,error:u}=await Ue.from("user_settings").select("control_settings").eq("user_id",t.id).maybeSingle();if(u)if(u.code==="42703")console.log("control_settings column not found, using defaults"),r({allowEdit:!0,allowDelete:!0,allowAddNew:!0,allowExport:!0,showFinancialTotals:!0,allowBulkOperations:!0,allowAddPayment:!0,allowPaymentManager:!0,allowRecordPayment:!0});else throw u;else if(c&&"control_settings"in c){const d={allowEdit:!0,allowDelete:!0,allowAddNew:!0,allowExport:!0,showFinancialTotals:!0,allowBulkOperations:!0,allowAddPayment:!0,allowPaymentManager:!0,allowRecordPayment:!0},p=c.control_settings;r({...d,...p})}else r({allowEdit:!0,allowDelete:!0,allowAddNew:!0,allowExport:!0,showFinancialTotals:!0,allowBulkOperations:!0,allowAddPayment:!0,allowPaymentManager:!0,allowRecordPayment:!0})}catch(c){console.error("Unexpected error fetching control settings:",c),r({allowEdit:!0,allowDelete:!0,allowAddNew:!0,allowExport:!0,showFinancialTotals:!0,allowBulkOperations:!0,allowAddPayment:!0,allowPaymentManager:!0,allowRecordPayment:!0})}finally{i(!1)}},l=async()=>{await o()};return _.useEffect(()=>{o()},[t]),a.jsx(vC.Provider,{value:{settings:n,loading:s,refreshSettings:l},children:e})},Oi=()=>{const e=_.useContext(vC);if(e===void 0)throw new Error("useControl must be used within a ControlProvider");return e};/*! Capacitor: https://capacitorjs.com/ - MIT License */var td;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(td||(td={}));class s1 extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const T9=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},I9=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>t!==null?t.name:T9(e),i=()=>s()!=="web",o=p=>{const m=u.get(p);return!!(m!=null&&m.platforms.has(s())||l(p))},l=p=>{var m;return(m=n.PluginHeaders)===null||m===void 0?void 0:m.find(h=>h.name===p)},c=p=>e.console.error(p),u=new Map,d=(p,m={})=>{const h=u.get(p);if(h)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),h.proxy;const b=s(),v=l(p);let w;const y=async()=>(!w&&b in m?w=typeof m[b]=="function"?w=await m[b]():w=m[b]:t!==null&&!w&&"web"in m&&(w=typeof m.web=="function"?w=await m.web():w=m.web),w),x=(L,C)=>{var M,E;if(v){const P=v==null?void 0:v.methods.find(z=>C===z.name);if(P)return P.rtype==="promise"?z=>n.nativePromise(p,C.toString(),z):(z,$)=>n.nativeCallback(p,C.toString(),z,$);if(L)return(M=L[C])===null||M===void 0?void 0:M.bind(L)}else{if(L)return(E=L[C])===null||E===void 0?void 0:E.bind(L);throw new s1(`"${p}" plugin is not implemented on ${b}`,td.Unimplemented)}},S=L=>{let C;const M=(...E)=>{const P=y().then(z=>{const $=x(z,L);if($){const Z=$(...E);return C=Z==null?void 0:Z.remove,Z}else throw new s1(`"${p}.${L}()" is not implemented on ${b}`,td.Unimplemented)});return L==="addListener"&&(P.remove=async()=>C()),P};return M.toString=()=>`${L.toString()}() { [capacitor code] }`,Object.defineProperty(M,"name",{value:L,writable:!1,configurable:!1}),M},k=S("addListener"),D=S("removeListener"),A=(L,C)=>{const M=k({eventName:L},C),E=async()=>{const z=await M;D({eventName:L,callbackId:z},C)},P=new Promise(z=>M.then(()=>z({remove:E})));return P.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await E()},P},R=new Proxy({},{get(L,C){switch(C){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?A:k;case"removeListener":return D;default:return S(C)}}});return r[p]=R,u.set(p,{name:p,proxy:R,platforms:new Set([...Object.keys(m),...v?[b]:[]])}),R};return n.convertFileSrc||(n.convertFileSrc=p=>p),n.getPlatform=s,n.handleError=c,n.isNativePlatform=i,n.isPluginAvailable=o,n.registerPlugin=d,n.Exception=s1,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},R9=e=>e.Capacitor=I9(e),d2=R9(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),f0=d2.registerPlugin;class yC{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const s=this.listeners[t];if(!s){if(r){let i=this.retainedEventArguments[t];i||(i=[]),i.push(n),this.retainedEventArguments[t]=i}return}s.forEach(i=>i(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new d2.Exception(t,td.Unimplemented)}unavailable(t="not available"){return new d2.Exception(t,td.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const s=r.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}}const O_=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),D_=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class O9 extends yC{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=D_(s).trim(),i=D_(i).trim(),n[s]=i}),n}async setCookie(t){try{const n=O_(t.key),r=O_(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}f0("CapacitorCookies",{web:()=>new O9});const D9=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(e)}),M9=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=e[t[o]],s),{})},F9=(e,t=!0)=>e?Object.entries(e).reduce((r,s)=>{const[i,o]=s;let l,c;return Array.isArray(o)?(c="",o.forEach(u=>{l=t?encodeURIComponent(u):u,c+=`${i}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(o):o,c=`${i}=${l}`),`${r}&${c}`},"").substr(1):null,B9=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),s=M9(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,l]of Object.entries(e.data||{}))i.set(o,l);n.body=i.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{i.append(c,l)});else for(const l of Object.keys(e.data))i.append(l,e.data[l]);n.body=i;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(s.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class $9 extends yC{async request(t){const n=B9(t,t.webFetchExtra),r=F9(t.params,t.shouldEncodeUrlParams),s=r?`${t.url}?${r}`:t.url,i=await fetch(s,n),o=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?t:{};o.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await i.blob(),c=await D9(u);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const d={};return i.headers.forEach((p,m)=>{d[m]=p}),{data:c,headers:d,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}f0("CapacitorHttp",{web:()=>new $9});const M_=f0("App",{web:()=>la(()=>import("./web-BP0Nawsz.js"),[]).then(e=>new e.AppWeb)}),U9=()=>{const e=Qa(),t=md();_.useEffect(()=>{const n=()=>["/auth"].includes(t.pathname)?!1:(window.history.length>1?e(-1):e("/"),!0);return M_.addListener("backButton",n),()=>{M_.removeAllListeners()}},[e,t.pathname])},z9=Cc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Re=_.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?cd:"button";return a.jsx(o,{className:qe(z9({variant:t,size:n,className:e})),ref:i,...s})});Re.displayName="Button";const mt=_.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:qe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));mt.displayName="Card";const $t=_.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:qe("flex flex-col space-y-1.5 p-6",e),...t}));$t.displayName="CardHeader";const zt=_.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:qe("text-2xl font-semibold leading-none tracking-tight",e),...t}));zt.displayName="CardTitle";const za=_.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:qe("text-sm text-muted-foreground",e),...t}));za.displayName="CardDescription";const gt=_.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:qe("p-6 pt-0",e),...t}));gt.displayName="CardContent";const q9=_.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:qe("flex items-center p-6 pt-0",e),...t}));q9.displayName="CardFooter";var W9=_.createContext(void 0);function p0(e){const t=_.useContext(W9);return e||t||"ltr"}var i1="rovingFocusGroup.onEntryFocus",H9={bubbles:!1,cancelable:!0},Mf="RovingFocusGroup",[h2,xC,V9]=Ox(Mf),[G9,m0]=Ys(Mf,[V9]),[K9,Y9]=G9(Mf),wC=_.forwardRef((e,t)=>a.jsx(h2.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(h2.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(X9,{...e,ref:t})})}));wC.displayName=Mf;var X9=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...p}=e,m=_.useRef(null),h=en(t,m),b=p0(i),[v,w]=da({prop:o,defaultProp:l??null,onChange:c,caller:Mf}),[y,x]=_.useState(!1),S=Vs(u),k=xC(n),D=_.useRef(!1),[A,R]=_.useState(0);return _.useEffect(()=>{const L=m.current;if(L)return L.addEventListener(i1,S),()=>L.removeEventListener(i1,S)},[S]),a.jsx(K9,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:v,onItemFocus:_.useCallback(L=>w(L),[w]),onItemShiftTab:_.useCallback(()=>x(!0),[]),onFocusableItemAdd:_.useCallback(()=>R(L=>L+1),[]),onFocusableItemRemove:_.useCallback(()=>R(L=>L-1),[]),children:a.jsx(_t.div,{tabIndex:y||A===0?-1:0,"data-orientation":r,...p,ref:h,style:{outline:"none",...e.style},onMouseDown:wt(e.onMouseDown,()=>{D.current=!0}),onFocus:wt(e.onFocus,L=>{const C=!D.current;if(L.target===L.currentTarget&&C&&!y){const M=new CustomEvent(i1,H9);if(L.currentTarget.dispatchEvent(M),!M.defaultPrevented){const E=k().filter(ie=>ie.focusable),P=E.find(ie=>ie.active),z=E.find(ie=>ie.id===v),Z=[P,z,...E].filter(Boolean).map(ie=>ie.ref.current);SC(Z,d)}}D.current=!1}),onBlur:wt(e.onBlur,()=>x(!1))})})}),bC="RovingFocusGroupItem",_C=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Ua(),u=i||c,d=Y9(bC,n),p=d.currentTabStopId===u,m=xC(n),{onFocusableItemAdd:h,onFocusableItemRemove:b,currentTabStopId:v}=d;return _.useEffect(()=>{if(r)return h(),()=>b()},[r,h,b]),a.jsx(h2.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(_t.span,{tabIndex:p?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:wt(e.onMouseDown,w=>{r?d.onItemFocus(u):w.preventDefault()}),onFocus:wt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:wt(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=Z9(w,d.orientation,d.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let S=m().filter(k=>k.focusable).map(k=>k.ref.current);if(y==="last")S.reverse();else if(y==="prev"||y==="next"){y==="prev"&&S.reverse();const k=S.indexOf(w.currentTarget);S=d.loop?eB(S,k+1):S.slice(k+1)}setTimeout(()=>SC(S))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:v!=null}):o})})});_C.displayName=bC;var J9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Q9(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Z9(e,t,n){const r=Q9(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return J9[r]}function SC(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function eB(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var NC=wC,jC=_C,g0="Tabs",[tB,uK]=Ys(g0,[m0]),EC=m0(),[nB,lw]=tB(g0),CC=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=p0(l),[p,m]=da({prop:r,onChange:s,defaultProp:i??"",caller:g0});return a.jsx(nB,{scope:n,baseId:Ua(),value:p,onValueChange:m,orientation:o,dir:d,activationMode:c,children:a.jsx(_t.div,{dir:d,"data-orientation":o,...u,ref:t})})});CC.displayName=g0;var kC="TabsList",AC=_.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=lw(kC,n),o=EC(n);return a.jsx(NC,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx(_t.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});AC.displayName=kC;var PC="TabsTrigger",LC=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,o=lw(PC,n),l=EC(n),c=RC(o.baseId,r),u=OC(o.baseId,r),d=r===o.value;return a.jsx(jC,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(_t.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:wt(e.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:wt(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:wt(e.onFocus,()=>{const p=o.activationMode!=="manual";!d&&!s&&p&&o.onValueChange(r)})})})});LC.displayName=PC;var TC="TabsContent",IC=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=e,l=lw(TC,n),c=RC(l.baseId,r),u=OC(l.baseId,r),d=r===l.value,p=_.useRef(d);return _.useEffect(()=>{const m=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(Ja,{present:s||d,children:({present:m})=>a.jsx(_t.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:m&&i})})});IC.displayName=TC;function RC(e,t){return`${e}-trigger-${t}`}function OC(e,t){return`${e}-content-${t}`}var rB=CC,DC=AC,MC=LC,FC=IC;const qo=rB,Ba=_.forwardRef(({className:e,...t},n)=>a.jsx(DC,{ref:n,className:qe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ba.displayName=DC.displayName;const Wn=_.forwardRef(({className:e,...t},n)=>a.jsx(MC,{ref:n,className:qe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Wn.displayName=MC.displayName;const Fn=_.forwardRef(({className:e,...t},n)=>a.jsx(FC,{ref:n,className:qe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Fn.displayName=FC.displayName;const a1=768;function sB(){const[e,t]=_.useState(void 0);return _.useEffect(()=>{const n=window.matchMedia(`(max-width: ${a1-1}px)`),r=()=>{t(window.innerWidth<a1)};return n.addEventListener("change",r),t(window.innerWidth<a1),()=>n.removeEventListener("change",r)},[]),!!e}const Ge=_.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:qe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Ge.displayName="Input";var iB="Separator",F_="horizontal",aB=["horizontal","vertical"],BC=_.forwardRef((e,t)=>{const{decorative:n,orientation:r=F_,...s}=e,i=oB(r)?r:F_,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(_t.div,{"data-orientation":i,...l,...s,ref:t})});BC.displayName=iB;function oB(e){return aB.includes(e)}var $C=BC;const UC=_.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>a.jsx($C,{ref:s,decorative:n,orientation:t,className:qe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));UC.displayName=$C.displayName;var o1="focusScope.autoFocusOnMount",l1="focusScope.autoFocusOnUnmount",B_={bubbles:!1,cancelable:!0},lB="FocusScope",cw=_.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=_.useState(null),u=Vs(s),d=Vs(i),p=_.useRef(null),m=en(t,v=>c(v)),h=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let v=function(S){if(h.paused||!l)return;const k=S.target;l.contains(k)?p.current=k:Co(p.current,{select:!0})},w=function(S){if(h.paused||!l)return;const k=S.relatedTarget;k!==null&&(l.contains(k)||Co(p.current,{select:!0}))},y=function(S){if(document.activeElement===document.body)for(const D of S)D.removedNodes.length>0&&Co(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),x.disconnect()}}},[r,l,h.paused]),_.useEffect(()=>{if(l){U_.add(h);const v=document.activeElement;if(!l.contains(v)){const y=new CustomEvent(o1,B_);l.addEventListener(o1,u),l.dispatchEvent(y),y.defaultPrevented||(cB(pB(zC(l)),{select:!0}),document.activeElement===v&&Co(l))}return()=>{l.removeEventListener(o1,u),setTimeout(()=>{const y=new CustomEvent(l1,B_);l.addEventListener(l1,d),l.dispatchEvent(y),y.defaultPrevented||Co(v??document.body,{select:!0}),l.removeEventListener(l1,d),U_.remove(h)},0)}}},[l,u,d,h]);const b=_.useCallback(v=>{if(!n&&!r||h.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(w&&y){const x=v.currentTarget,[S,k]=uB(x);S&&k?!v.shiftKey&&y===k?(v.preventDefault(),n&&Co(S,{select:!0})):v.shiftKey&&y===S&&(v.preventDefault(),n&&Co(k,{select:!0})):y===x&&v.preventDefault()}},[n,r,h.paused]);return a.jsx(_t.div,{tabIndex:-1,...o,ref:m,onKeyDown:b})});cw.displayName=lB;function cB(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Co(r,{select:t}),document.activeElement!==n)return}function uB(e){const t=zC(e),n=$_(t,e),r=$_(t.reverse(),e);return[n,r]}function zC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $_(e,t){for(const n of e)if(!dB(n,{upTo:t}))return n}function dB(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function hB(e){return e instanceof HTMLInputElement&&"select"in e}function Co(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&hB(e)&&t&&e.select()}}var U_=fB();function fB(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=z_(e,t),e.unshift(t)},remove(t){var n;e=z_(e,t),(n=e[0])==null||n.resume()}}}function z_(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function pB(e){return e.filter(t=>t.tagName!=="A")}var c1=0;function qC(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??q_()),document.body.insertAdjacentElement("beforeend",e[1]??q_()),c1++,()=>{c1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),c1--}},[])}function q_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ta=function(){return ta=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ta.apply(this,arguments)};function WC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function mB(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Am="right-scroll-bar-position",Pm="width-before-scroll-bar",gB="with-scroll-bars-hidden",vB="--removed-body-scroll-bar-size";function u1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function yB(e,t){var n=_.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var xB=typeof window<"u"?_.useLayoutEffect:_.useEffect,W_=new WeakMap;function wB(e,t){var n=yB(null,function(r){return e.forEach(function(s){return u1(s,r)})});return xB(function(){var r=W_.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(l){i.has(l)||u1(l,null)}),i.forEach(function(l){s.has(l)||u1(l,o)})}W_.set(n,e)},[e]),n}function bB(e){return e}function _B(e,t){t===void 0&&(t=bB);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function SB(e){e===void 0&&(e={});var t=_B(null);return t.options=ta({async:!0,ssr:!1},e),t}var HC=function(e){var t=e.sideCar,n=WC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,ta({},n))};HC.isSideCarExport=!0;function NB(e,t){return e.useMedium(t),HC}var VC=SB(),d1=function(){},v0=_.forwardRef(function(e,t){var n=_.useRef(null),r=_.useState({onScrollCapture:d1,onWheelCapture:d1,onTouchMoveCapture:d1}),s=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,p=e.shards,m=e.sideCar,h=e.noRelative,b=e.noIsolation,v=e.inert,w=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,S=e.gapMode,k=WC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=m,A=wB([n,t]),R=ta(ta({},k),s);return _.createElement(_.Fragment,null,d&&_.createElement(D,{sideCar:VC,removeScrollBar:u,shards:p,noRelative:h,noIsolation:b,inert:v,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:S}),o?_.cloneElement(_.Children.only(l),ta(ta({},R),{ref:A})):_.createElement(x,ta({},R,{className:c,ref:A}),l))});v0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};v0.classNames={fullWidth:Pm,zeroRight:Am};var jB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function EB(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=jB();return t&&e.setAttribute("nonce",t),e}function CB(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function kB(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var AB=function(){var e=0,t=null;return{add:function(n){e==0&&(t=EB())&&(CB(t,n),kB(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},PB=function(){var e=AB();return function(t,n){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},GC=function(){var e=PB(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},LB={left:0,top:0,right:0,gap:0},h1=function(e){return parseInt(e||"",10)||0},TB=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[h1(n),h1(r),h1(s)]},IB=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return LB;var t=TB(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},RB=GC(),Pu="data-scroll-locked",OB=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(gB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Pu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Am,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Pm,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Am," .").concat(Am,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Pm," .").concat(Pm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Pu,`] {
    `).concat(vB,": ").concat(l,`px;
  }
`)},H_=function(){var e=parseInt(document.body.getAttribute(Pu)||"0",10);return isFinite(e)?e:0},DB=function(){_.useEffect(function(){return document.body.setAttribute(Pu,(H_()+1).toString()),function(){var e=H_()-1;e<=0?document.body.removeAttribute(Pu):document.body.setAttribute(Pu,e.toString())}},[])},MB=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;DB();var i=_.useMemo(function(){return IB(s)},[s]);return _.createElement(RB,{styles:OB(i,!t,s,n?"":"!important")})},f2=!1;if(typeof window<"u")try{var Zp=Object.defineProperty({},"passive",{get:function(){return f2=!0,!0}});window.addEventListener("test",Zp,Zp),window.removeEventListener("test",Zp,Zp)}catch{f2=!1}var Jc=f2?{passive:!1}:!1,FB=function(e){return e.tagName==="TEXTAREA"},KC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!FB(e)&&n[t]==="visible")},BB=function(e){return KC(e,"overflowY")},$B=function(e){return KC(e,"overflowX")},V_=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=YC(e,r);if(s){var i=XC(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},UB=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},zB=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},YC=function(e,t){return e==="v"?BB(t):$B(t)},XC=function(e,t){return e==="v"?UB(t):zB(t)},qB=function(e,t){return e==="h"&&t==="rtl"?-1:1},WB=function(e,t,n,r,s){var i=qB(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,d=o>0,p=0,m=0;do{if(!l)break;var h=XC(e,l),b=h[0],v=h[1],w=h[2],y=v-w-i*b;(b||y)&&YC(e,l)&&(p+=y,m+=b);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(p)<1||!s)||!d&&(Math.abs(m)<1||!s))&&(u=!0),u},em=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},G_=function(e){return[e.deltaX,e.deltaY]},K_=function(e){return e&&"current"in e?e.current:e},HB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},VB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},GB=0,Qc=[];function KB(e){var t=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),s=_.useState(GB++)[0],i=_.useState(GC)[0],o=_.useRef(e);_.useEffect(function(){o.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=mB([e.lockRef.current],(e.shards||[]).map(K_),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=_.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var y=em(v),x=n.current,S="deltaX"in v?v.deltaX:x[0]-y[0],k="deltaY"in v?v.deltaY:x[1]-y[1],D,A=v.target,R=Math.abs(S)>Math.abs(k)?"h":"v";if("touches"in v&&R==="h"&&A.type==="range")return!1;var L=V_(R,A);if(!L)return!0;if(L?D=R:(D=R==="v"?"h":"v",L=V_(R,A)),!L)return!1;if(!r.current&&"changedTouches"in v&&(S||k)&&(r.current=D),!D)return!0;var C=r.current||D;return WB(C,w,v,C==="h"?S:k,!0)},[]),c=_.useCallback(function(v){var w=v;if(!(!Qc.length||Qc[Qc.length-1]!==i)){var y="deltaY"in w?G_(w):em(w),x=t.current.filter(function(D){return D.name===w.type&&(D.target===w.target||w.target===D.shadowParent)&&HB(D.delta,y)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var S=(o.current.shards||[]).map(K_).filter(Boolean).filter(function(D){return D.contains(w.target)}),k=S.length>0?l(w,S[0]):!o.current.noIsolation;k&&w.cancelable&&w.preventDefault()}}},[]),u=_.useCallback(function(v,w,y,x){var S={name:v,delta:w,target:y,should:x,shadowParent:YB(y)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(k){return k!==S})},1)},[]),d=_.useCallback(function(v){n.current=em(v),r.current=void 0},[]),p=_.useCallback(function(v){u(v.type,G_(v),v.target,l(v,e.lockRef.current))},[]),m=_.useCallback(function(v){u(v.type,em(v),v.target,l(v,e.lockRef.current))},[]);_.useEffect(function(){return Qc.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Jc),document.addEventListener("touchmove",c,Jc),document.addEventListener("touchstart",d,Jc),function(){Qc=Qc.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Jc),document.removeEventListener("touchmove",c,Jc),document.removeEventListener("touchstart",d,Jc)}},[]);var h=e.removeScrollBar,b=e.inert;return _.createElement(_.Fragment,null,b?_.createElement(i,{styles:VB(s)}):null,h?_.createElement(MB,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function YB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const XB=NB(VC,KB);var uw=_.forwardRef(function(e,t){return _.createElement(v0,ta({},e,{ref:t,sideCar:XB}))});uw.classNames=v0.classNames;var JB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Zc=new WeakMap,tm=new WeakMap,nm={},f1=0,JC=function(e){return e&&(e.host||JC(e.parentNode))},QB=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=JC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},ZB=function(e,t,n,r){var s=QB(t,Array.isArray(e)?e:[e]);nm[n]||(nm[n]=new WeakMap);var i=nm[n],o=[],l=new Set,c=new Set(s),u=function(p){!p||l.has(p)||(l.add(p),u(p.parentNode))};s.forEach(u);var d=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(m){if(l.has(m))d(m);else try{var h=m.getAttribute(r),b=h!==null&&h!=="false",v=(Zc.get(m)||0)+1,w=(i.get(m)||0)+1;Zc.set(m,v),i.set(m,w),o.push(m),v===1&&b&&tm.set(m,!0),w===1&&m.setAttribute(n,"true"),b||m.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return d(t),l.clear(),f1++,function(){o.forEach(function(p){var m=Zc.get(p)-1,h=i.get(p)-1;Zc.set(p,m),i.set(p,h),m||(tm.has(p)||p.removeAttribute(r),tm.delete(p)),h||p.removeAttribute(n)}),f1--,f1||(Zc=new WeakMap,Zc=new WeakMap,tm=new WeakMap,nm={})}},QC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=JB(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),ZB(r,s,n,"aria-hidden")):function(){return null}},y0="Dialog",[ZC,dK]=Ys(y0),[e$,Di]=ZC(y0),ek=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=_.useRef(null),c=_.useRef(null),[u,d]=da({prop:r,defaultProp:s??!1,onChange:i,caller:y0});return a.jsx(e$,{scope:t,triggerRef:l,contentRef:c,contentId:Ua(),titleId:Ua(),descriptionId:Ua(),open:u,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(p=>!p),[d]),modal:o,children:n})};ek.displayName=y0;var tk="DialogTrigger",nk=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Di(tk,n),i=en(t,s.triggerRef);return a.jsx(_t.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":fw(s.open),...r,ref:i,onClick:wt(e.onClick,s.onOpenToggle)})});nk.displayName=tk;var dw="DialogPortal",[t$,rk]=ZC(dw,{forceMount:void 0}),sk=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Di(dw,t);return a.jsx(t$,{scope:t,forceMount:n,children:_.Children.map(r,o=>a.jsx(Ja,{present:n||i.open,children:a.jsx(Vg,{asChild:!0,container:s,children:o})}))})};sk.displayName=dw;var bg="DialogOverlay",ik=_.forwardRef((e,t)=>{const n=rk(bg,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Di(bg,e.__scopeDialog);return i.modal?a.jsx(Ja,{present:r||i.open,children:a.jsx(r$,{...s,ref:t})}):null});ik.displayName=bg;var n$=Ju("DialogOverlay.RemoveScroll"),r$=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Di(bg,n);return a.jsx(uw,{as:n$,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(_t.div,{"data-state":fw(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),vc="DialogContent",ak=_.forwardRef((e,t)=>{const n=rk(vc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Di(vc,e.__scopeDialog);return a.jsx(Ja,{present:r||i.open,children:i.modal?a.jsx(s$,{...s,ref:t}):a.jsx(i$,{...s,ref:t})})});ak.displayName=vc;var s$=_.forwardRef((e,t)=>{const n=Di(vc,e.__scopeDialog),r=_.useRef(null),s=en(t,n.contentRef,r);return _.useEffect(()=>{const i=r.current;if(i)return QC(i)},[]),a.jsx(ok,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:wt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:wt(e.onFocusOutside,i=>i.preventDefault())})}),i$=_.forwardRef((e,t)=>{const n=Di(vc,e.__scopeDialog),r=_.useRef(!1),s=_.useRef(!1);return a.jsx(ok,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),ok=_.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Di(vc,n),c=_.useRef(null),u=en(t,c);return qC(),a.jsxs(a.Fragment,{children:[a.jsx(cw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Pf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":fw(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(a$,{titleId:l.titleId}),a.jsx(l$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),hw="DialogTitle",lk=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Di(hw,n);return a.jsx(_t.h2,{id:s.titleId,...r,ref:t})});lk.displayName=hw;var ck="DialogDescription",uk=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Di(ck,n);return a.jsx(_t.p,{id:s.descriptionId,...r,ref:t})});uk.displayName=ck;var dk="DialogClose",hk=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Di(dk,n);return a.jsx(_t.button,{type:"button",...r,ref:t,onClick:wt(e.onClick,()=>s.onOpenChange(!1))})});hk.displayName=dk;function fw(e){return e?"open":"closed"}var fk="DialogTitleWarning",[hK,pk]=B8(fk,{contentName:vc,titleName:hw,docsSlug:"dialog"}),a$=({titleId:e})=>{const t=pk(fk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},o$="DialogDescriptionWarning",l$=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pk(o$).contentName}}.`;return _.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},mk=ek,c$=nk,gk=sk,x0=ik,w0=ak,b0=lk,_0=uk,vk=hk;const u$=mk,d$=gk,yk=_.forwardRef(({className:e,...t},n)=>a.jsx(x0,{className:qe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));yk.displayName=x0.displayName;const h$=Cc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),xk=_.forwardRef(({side:e="right",className:t,children:n,...r},s)=>a.jsxs(d$,{children:[a.jsx(yk,{}),a.jsxs(w0,{ref:s,className:qe(h$({side:e}),t),...r,children:[n,a.jsxs(vk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(zx,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xk.displayName=w0.displayName;const f$=_.forwardRef(({className:e,...t},n)=>a.jsx(b0,{ref:n,className:qe("text-lg font-semibold text-foreground",e),...t}));f$.displayName=b0.displayName;const p$=_.forwardRef(({className:e,...t},n)=>a.jsx(_0,{ref:n,className:qe("text-sm text-muted-foreground",e),...t}));p$.displayName=_0.displayName;function Y_({className:e,...t}){return a.jsx("div",{className:qe("animate-pulse rounded-md bg-muted",e),...t})}const m$="sidebar:state",g$=60*60*24*7,v$="16rem",y$="18rem",x$="3rem",w$="b",wk=_.createContext(null);function Ff(){const e=_.useContext(wk);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const bk=_.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:s,children:i,...o},l)=>{const c=sB(),[u,d]=_.useState(!1),[p,m]=_.useState(e),h=t??p,b=_.useCallback(x=>{const S=typeof x=="function"?x(h):x;n?n(S):m(S),document.cookie=`${m$}=${S}; path=/; max-age=${g$}`},[n,h]),v=_.useCallback(()=>c?d(x=>!x):b(x=>!x),[c,b,d]);_.useEffect(()=>{const x=S=>{S.key===w$&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),v())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[v]);const w=h?"expanded":"collapsed",y=_.useMemo(()=>({state:w,open:h,setOpen:b,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:v}),[w,h,b,c,u,d,v]);return a.jsx(wk.Provider,{value:y,children:a.jsx(jE,{delayDuration:0,children:a.jsx("div",{style:{"--sidebar-width":v$,"--sidebar-width-icon":x$,...s},className:qe("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...o,children:i})})})});bk.displayName="SidebarProvider";const _k=_.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:s,...i},o)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=Ff();return n==="none"?a.jsx("div",{className:qe("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...i,children:s}):l?a.jsx(u$,{open:u,onOpenChange:d,...i,children:a.jsx(xk,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":y$},side:e,children:a.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):a.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":t,"data-side":e,children:[a.jsx("div",{className:qe("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),a.jsx("div",{className:qe("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:a.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});_k.displayName="Sidebar";const Sk=_.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:s}=Ff();return a.jsxs(Re,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:qe("h-7 w-7",e),onClick:i=>{t==null||t(i),s()},...n,children:[a.jsx(DI,{}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Sk.displayName="SidebarTrigger";const b$=_.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=Ff();return a.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:qe("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});b$.displayName="SidebarRail";const _$=_.forwardRef(({className:e,...t},n)=>a.jsx("main",{ref:n,className:qe("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));_$.displayName="SidebarInset";const S$=_.forwardRef(({className:e,...t},n)=>a.jsx(Ge,{ref:n,"data-sidebar":"input",className:qe("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));S$.displayName="SidebarInput";const N$=_.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"header",className:qe("flex flex-col gap-2 p-2",e),...t}));N$.displayName="SidebarHeader";const j$=_.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"footer",className:qe("flex flex-col gap-2 p-2",e),...t}));j$.displayName="SidebarFooter";const E$=_.forwardRef(({className:e,...t},n)=>a.jsx(UC,{ref:n,"data-sidebar":"separator",className:qe("mx-2 w-auto bg-sidebar-border",e),...t}));E$.displayName="SidebarSeparator";const Nk=_.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"content",className:qe("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));Nk.displayName="SidebarContent";const p2=_.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"group",className:qe("relative flex w-full min-w-0 flex-col p-2",e),...t}));p2.displayName="SidebarGroup";const m2=_.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const s=t?cd:"div";return a.jsx(s,{ref:r,"data-sidebar":"group-label",className:qe("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});m2.displayName="SidebarGroupLabel";const C$=_.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const s=t?cd:"button";return a.jsx(s,{ref:r,"data-sidebar":"group-action",className:qe("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});C$.displayName="SidebarGroupAction";const g2=_.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"group-content",className:qe("w-full text-sm",e),...t}));g2.displayName="SidebarGroupContent";const jk=_.forwardRef(({className:e,...t},n)=>a.jsx("ul",{ref:n,"data-sidebar":"menu",className:qe("flex w-full min-w-0 flex-col gap-1",e),...t}));jk.displayName="SidebarMenu";const Ek=_.forwardRef(({className:e,...t},n)=>a.jsx("li",{ref:n,"data-sidebar":"menu-item",className:qe("group/menu-item relative",e),...t}));Ek.displayName="SidebarMenuItem";const k$=Cc("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Ck=_.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:s,className:i,...o},l)=>{const c=e?cd:"button",{isMobile:u,state:d}=Ff(),p=a.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:qe(k$({variant:n,size:r}),i),...o});return s?(typeof s=="string"&&(s={children:s}),a.jsxs(BD,{children:[a.jsx($D,{asChild:!0,children:p}),a.jsx(EE,{side:"right",align:"center",hidden:d!=="collapsed"||u,...s})]})):p});Ck.displayName="SidebarMenuButton";const A$=_.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},s)=>{const i=t?cd:"button";return a.jsx(i,{ref:s,"data-sidebar":"menu-action",className:qe("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});A$.displayName="SidebarMenuAction";const P$=_.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:qe("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));P$.displayName="SidebarMenuBadge";const L$=_.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const s=_.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return a.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:qe("flex h-8 items-center gap-2 rounded-md px-2",e),...n,children:[t&&a.jsx(Y_,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),a.jsx(Y_,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});L$.displayName="SidebarMenuSkeleton";const T$=_.forwardRef(({className:e,...t},n)=>a.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:qe("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));T$.displayName="SidebarMenuSub";const I$=_.forwardRef(({...e},t)=>a.jsx("li",{ref:t,...e}));I$.displayName="SidebarMenuSubItem";const R$=_.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...s},i)=>{const o=e?cd:"a";return a.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:qe("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});R$.displayName="SidebarMenuSubButton";var kk={exports:{}},Ak={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd=_;function O$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var D$=typeof Object.is=="function"?Object.is:O$,M$=nd.useState,F$=nd.useEffect,B$=nd.useLayoutEffect,$$=nd.useDebugValue;function U$(e,t){var n=t(),r=M$({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return B$(function(){s.value=n,s.getSnapshot=t,p1(s)&&i({inst:s})},[e,n,t]),F$(function(){return p1(s)&&i({inst:s}),e(function(){p1(s)&&i({inst:s})})},[e]),$$(n),n}function p1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!D$(e,n)}catch{return!0}}function z$(e,t){return t()}var q$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?z$:U$;Ak.useSyncExternalStore=nd.useSyncExternalStore!==void 0?nd.useSyncExternalStore:q$;kk.exports=Ak;var W$=kk.exports;function H$(){return W$.useSyncExternalStore(V$,()=>!0,()=>!1)}function V$(){return()=>{}}var pw="Avatar",[G$,fK]=Ys(pw),[K$,Pk]=G$(pw),Lk=_.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,i]=_.useState("idle");return a.jsx(K$,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(_t.span,{...r,ref:t})})});Lk.displayName=pw;var Tk="AvatarImage",Ik=_.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=e,o=Pk(Tk,n),l=Y$(r,i),c=Vs(u=>{s(u),o.onImageLoadingStatusChange(u)});return mr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(_t.img,{...i,ref:t,src:r}):null});Ik.displayName=Tk;var Rk="AvatarFallback",Ok=_.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,i=Pk(Rk,n),[o,l]=_.useState(r===void 0);return _.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(_t.span,{...s,ref:t}):null});Ok.displayName=Rk;function X_(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Y$(e,{referrerPolicy:t,crossOrigin:n}){const r=H$(),s=_.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,l]=_.useState(()=>X_(i,e));return mr(()=>{l(X_(i,e))},[i,e]),mr(()=>{const c=p=>()=>{l(p)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,n,t]),o}var Dk=Lk,Mk=Ik,Fk=Ok;const mw=_.forwardRef(({className:e,...t},n)=>a.jsx(Dk,{ref:n,className:qe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));mw.displayName=Dk.displayName;const Bk=_.forwardRef(({className:e,...t},n)=>a.jsx(Mk,{ref:n,className:qe("aspect-square h-full w-full",e),...t}));Bk.displayName=Mk.displayName;const gw=_.forwardRef(({className:e,...t},n)=>a.jsx(Fk,{ref:n,className:qe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));gw.displayName=Fk.displayName;function X$({onSettingsClick:e,onProfileClick:t}){var i;const{state:n}=Ff(),{user:r}=vn(),s=[{title:"Profile",icon:hg,onClick:t},{title:"Settings",icon:Ux,onClick:e}];return a.jsx(_k,{collapsible:"icon",children:a.jsxs(Nk,{children:[a.jsxs(p2,{children:[a.jsx(m2,{children:"Account"}),a.jsx(g2,{children:a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(mw,{children:a.jsx(gw,{children:((i=r==null?void 0:r.email)==null?void 0:i.charAt(0).toUpperCase())||"U"})}),n!=="collapsed"&&a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx("p",{className:"text-sm font-medium truncate",children:r==null?void 0:r.email})})]})})})]}),a.jsxs(p2,{children:[a.jsx(m2,{children:"Menu"}),a.jsx(g2,{children:a.jsx(jk,{children:s.map(o=>a.jsx(Ek,{children:a.jsxs(Ck,{onClick:o.onClick,children:[a.jsx(o.icon,{className:"h-4 w-4"}),n!=="collapsed"&&a.jsx("span",{children:o.title})]})},o.title))})})]})]})})}const J$=Cc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Un({className:e,variant:t,...n}){return a.jsx("div",{className:qe(J$({variant:t}),e),...n})}var Q$="Label",$k=_.forwardRef((e,t)=>a.jsx(_t.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));$k.displayName=Q$;var Uk=$k;const Z$=Cc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Oe=_.forwardRef(({className:e,...t},n)=>a.jsx(Uk,{ref:n,className:qe(Z$(),e),...t}));Oe.displayName=Uk.displayName;const eU=_.forwardRef(({...e},t)=>a.jsx(Dx,{ref:t,...e}));eU.displayName=Dx.displayName;const os=mk,S0=c$,tU=gk,zk=_.forwardRef(({className:e,...t},n)=>a.jsx(x0,{ref:n,className:qe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));zk.displayName=x0.displayName;const Yr=_.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(tU,{children:[a.jsx(zk,{}),a.jsxs(w0,{ref:r,className:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(vk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(zx,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yr.displayName=w0.displayName;const Xr=({className:e,...t})=>a.jsx("div",{className:qe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Xr.displayName="DialogHeader";const vw=({className:e,...t})=>a.jsx("div",{className:qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});vw.displayName="DialogFooter";const Jr=_.forwardRef(({className:e,...t},n)=>a.jsx(b0,{ref:n,className:qe("text-lg font-semibold leading-none tracking-tight",e),...t}));Jr.displayName=b0.displayName;const Pc=_.forwardRef(({className:e,...t},n)=>a.jsx(_0,{ref:n,className:qe("text-sm text-muted-foreground",e),...t}));Pc.displayName=_0.displayName;function J_(e,[t,n]){return Math.min(n,Math.max(t,e))}function N0(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var nU=[" ","Enter","ArrowUp","ArrowDown"],rU=[" ","Enter"],yc="Select",[j0,E0,sU]=Ox(yc),[yd,pK]=Ys(yc,[sU,e0]),C0=e0(),[iU,gl]=yd(yc),[aU,oU]=yd(yc),qk=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:p,disabled:m,required:h,form:b}=e,v=C0(t),[w,y]=_.useState(null),[x,S]=_.useState(null),[k,D]=_.useState(!1),A=p0(u),[R,L]=da({prop:r,defaultProp:s??!1,onChange:i,caller:yc}),[C,M]=da({prop:o,defaultProp:l,onChange:c,caller:yc}),E=_.useRef(null),P=w?b||!!w.closest("form"):!0,[z,$]=_.useState(new Set),Z=Array.from(z).map(ie=>ie.props.value).join(";");return a.jsx(fE,{...v,children:a.jsxs(iU,{required:h,scope:t,trigger:w,onTriggerChange:y,valueNode:x,onValueNodeChange:S,valueNodeHasChildren:k,onValueNodeHasChildrenChange:D,contentId:Ua(),value:C,onValueChange:M,open:R,onOpenChange:L,dir:A,triggerPointerDownPosRef:E,disabled:m,children:[a.jsx(j0.Provider,{scope:t,children:a.jsx(aU,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(ie=>{$(te=>new Set(te).add(ie))},[]),onNativeOptionRemove:_.useCallback(ie=>{$(te=>{const V=new Set(te);return V.delete(ie),V})},[]),children:n})}),P?a.jsxs(fA,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:p,value:C,onChange:ie=>M(ie.target.value),disabled:m,form:b,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(z)]},Z):null]})})};qk.displayName=yc;var Wk="SelectTrigger",Hk=_.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=C0(n),o=gl(Wk,n),l=o.disabled||r,c=en(t,o.onTriggerChange),u=E0(n),d=_.useRef("touch"),[p,m,h]=mA(v=>{const w=u().filter(S=>!S.disabled),y=w.find(S=>S.value===o.value),x=gA(w,v,y);x!==void 0&&o.onValueChange(x.value)}),b=v=>{l||(o.onOpenChange(!0),h()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return a.jsx(pE,{asChild:!0,...i,children:a.jsx(_t.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":pA(o.value)?"":void 0,...s,ref:c,onClick:wt(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&b(v)}),onPointerDown:wt(s.onPointerDown,v=>{d.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(b(v),v.preventDefault())}),onKeyDown:wt(s.onKeyDown,v=>{const w=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(w&&v.key===" ")&&nU.includes(v.key)&&(b(),v.preventDefault())})})})});Hk.displayName=Wk;var Vk="SelectValue",Gk=_.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=e,c=gl(Vk,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,p=en(t,c.onValueNodeChange);return mr(()=>{u(d)},[u,d]),a.jsx(_t.span,{...l,ref:p,style:{pointerEvents:"none"},children:pA(c.value)?a.jsx(a.Fragment,{children:o}):i})});Gk.displayName=Vk;var lU="SelectIcon",Kk=_.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(_t.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});Kk.displayName=lU;var cU="SelectPortal",Yk=e=>a.jsx(Vg,{asChild:!0,...e});Yk.displayName=cU;var xc="SelectContent",Xk=_.forwardRef((e,t)=>{const n=gl(xc,e.__scopeSelect),[r,s]=_.useState();if(mr(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ec.createPortal(a.jsx(Jk,{scope:e.__scopeSelect,children:a.jsx(j0.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(Qk,{...e,ref:t})});Xk.displayName=xc;var bi=10,[Jk,vl]=yd(xc),uU="SelectContentImpl",dU=Ju("SelectContent.RemoveScroll"),Qk=_.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:m,collisionPadding:h,sticky:b,hideWhenDetached:v,avoidCollisions:w,...y}=e,x=gl(xc,n),[S,k]=_.useState(null),[D,A]=_.useState(null),R=en(t,Y=>k(Y)),[L,C]=_.useState(null),[M,E]=_.useState(null),P=E0(n),[z,$]=_.useState(!1),Z=_.useRef(!1);_.useEffect(()=>{if(S)return QC(S)},[S]),qC();const ie=_.useCallback(Y=>{const[le,...ue]=P().map(ye=>ye.ref.current),[pe]=ue.slice(-1),de=document.activeElement;for(const ye of Y)if(ye===de||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===le&&D&&(D.scrollTop=0),ye===pe&&D&&(D.scrollTop=D.scrollHeight),ye==null||ye.focus(),document.activeElement!==de))return},[P,D]),te=_.useCallback(()=>ie([L,S]),[ie,L,S]);_.useEffect(()=>{z&&te()},[z,te]);const{onOpenChange:V,triggerPointerDownPosRef:G}=x;_.useEffect(()=>{if(S){let Y={x:0,y:0};const le=pe=>{var de,ye;Y={x:Math.abs(Math.round(pe.pageX)-(((de=G.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((ye=G.current)==null?void 0:ye.y)??0))}},ue=pe=>{Y.x<=10&&Y.y<=10?pe.preventDefault():S.contains(pe.target)||V(!1),document.removeEventListener("pointermove",le),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ue,{capture:!0})}}},[S,V,G]),_.useEffect(()=>{const Y=()=>V(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[V]);const[oe,ae]=mA(Y=>{const le=P().filter(de=>!de.disabled),ue=le.find(de=>de.ref.current===document.activeElement),pe=gA(le,Y,ue);pe&&setTimeout(()=>pe.ref.current.focus())}),O=_.useCallback((Y,le,ue)=>{const pe=!Z.current&&!ue;(x.value!==void 0&&x.value===le||pe)&&(C(Y),pe&&(Z.current=!0))},[x.value]),T=_.useCallback(()=>S==null?void 0:S.focus(),[S]),U=_.useCallback((Y,le,ue)=>{const pe=!Z.current&&!ue;(x.value!==void 0&&x.value===le||pe)&&E(Y)},[x.value]),W=r==="popper"?v2:Zk,Q=W===v2?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:m,collisionPadding:h,sticky:b,hideWhenDetached:v,avoidCollisions:w}:{};return a.jsx(Jk,{scope:n,content:S,viewport:D,onViewportChange:A,itemRefCallback:O,selectedItem:L,onItemLeave:T,itemTextRefCallback:U,focusSelectedItem:te,selectedItemText:M,position:r,isPositioned:z,searchRef:oe,children:a.jsx(uw,{as:dU,allowPinchZoom:!0,children:a.jsx(cw,{asChild:!0,trapped:x.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:wt(s,Y=>{var le;(le=x.trigger)==null||le.focus({preventScroll:!0}),Y.preventDefault()}),children:a.jsx(Pf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:a.jsx(W,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Y=>Y.preventDefault(),...y,...Q,onPlaced:()=>$(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:wt(y.onKeyDown,Y=>{const le=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!le&&Y.key.length===1&&ae(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let pe=P().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const de=Y.target,ye=pe.indexOf(de);pe=pe.slice(ye+1)}setTimeout(()=>ie(pe)),Y.preventDefault()}})})})})})})});Qk.displayName=uU;var hU="SelectItemAlignedPosition",Zk=_.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=gl(xc,n),o=vl(xc,n),[l,c]=_.useState(null),[u,d]=_.useState(null),p=en(t,R=>d(R)),m=E0(n),h=_.useRef(!1),b=_.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:y,focusSelectedItem:x}=o,S=_.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&v&&w&&y){const R=i.trigger.getBoundingClientRect(),L=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),M=y.getBoundingClientRect();if(i.dir!=="rtl"){const de=M.left-L.left,ye=C.left-de,Te=R.left-ye,_e=R.width+Te,J=Math.max(_e,L.width),at=window.innerWidth-bi,ee=J_(ye,[bi,Math.max(bi,at-J)]);l.style.minWidth=_e+"px",l.style.left=ee+"px"}else{const de=L.right-M.right,ye=window.innerWidth-C.right-de,Te=window.innerWidth-R.right-ye,_e=R.width+Te,J=Math.max(_e,L.width),at=window.innerWidth-bi,ee=J_(ye,[bi,Math.max(bi,at-J)]);l.style.minWidth=_e+"px",l.style.right=ee+"px"}const E=m(),P=window.innerHeight-bi*2,z=v.scrollHeight,$=window.getComputedStyle(u),Z=parseInt($.borderTopWidth,10),ie=parseInt($.paddingTop,10),te=parseInt($.borderBottomWidth,10),V=parseInt($.paddingBottom,10),G=Z+ie+z+V+te,oe=Math.min(w.offsetHeight*5,G),ae=window.getComputedStyle(v),O=parseInt(ae.paddingTop,10),T=parseInt(ae.paddingBottom,10),U=R.top+R.height/2-bi,W=P-U,Q=w.offsetHeight/2,Y=w.offsetTop+Q,le=Z+ie+Y,ue=G-le;if(le<=U){const de=E.length>0&&w===E[E.length-1].ref.current;l.style.bottom="0px";const ye=u.clientHeight-v.offsetTop-v.offsetHeight,Te=Math.max(W,Q+(de?T:0)+ye+te),_e=le+Te;l.style.height=_e+"px"}else{const de=E.length>0&&w===E[0].ref.current;l.style.top="0px";const Te=Math.max(U,Z+v.offsetTop+(de?O:0)+Q)+ue;l.style.height=Te+"px",v.scrollTop=le-U+v.offsetTop}l.style.margin=`${bi}px 0`,l.style.minHeight=oe+"px",l.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[m,i.trigger,i.valueNode,l,u,v,w,y,i.dir,r]);mr(()=>S(),[S]);const[k,D]=_.useState();mr(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const A=_.useCallback(R=>{R&&b.current===!0&&(S(),x==null||x(),b.current=!1)},[S,x]);return a.jsx(pU,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:A,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:a.jsx(_t.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Zk.displayName=hU;var fU="SelectPopperPosition",v2=_.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=bi,...i}=e,o=C0(n);return a.jsx(mE,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});v2.displayName=fU;var[pU,yw]=yd(xc,{}),y2="SelectViewport",eA=_.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=vl(y2,n),o=yw(y2,n),l=en(t,i.onViewportChange),c=_.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(j0.Slot,{scope:n,children:a.jsx(_t.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:wt(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&p){const h=Math.abs(c.current-d.scrollTop);if(h>0){const b=window.innerHeight-bi*2,v=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),y=Math.max(v,w);if(y<b){const x=y+h,S=Math.min(b,x),k=x-S;p.style.height=S+"px",p.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,p.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});eA.displayName=y2;var tA="SelectGroup",[mU,gU]=yd(tA),vU=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Ua();return a.jsx(mU,{scope:n,id:s,children:a.jsx(_t.div,{role:"group","aria-labelledby":s,...r,ref:t})})});vU.displayName=tA;var nA="SelectLabel",rA=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=gU(nA,n);return a.jsx(_t.div,{id:s.id,...r,ref:t})});rA.displayName=nA;var _g="SelectItem",[yU,sA]=yd(_g),iA=_.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,l=gl(_g,n),c=vl(_g,n),u=l.value===r,[d,p]=_.useState(i??""),[m,h]=_.useState(!1),b=en(t,x=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,x,r,s)}),v=Ua(),w=_.useRef("touch"),y=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(yU,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:_.useCallback(x=>{p(S=>S||((x==null?void 0:x.textContent)??"").trim())},[]),children:a.jsx(j0.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(_t.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:wt(o.onFocus,()=>h(!0)),onBlur:wt(o.onBlur,()=>h(!1)),onClick:wt(o.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:wt(o.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:wt(o.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:wt(o.onPointerMove,x=>{var S;w.current=x.pointerType,s?(S=c.onItemLeave)==null||S.call(c):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:wt(o.onPointerLeave,x=>{var S;x.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:wt(o.onKeyDown,x=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&x.key===" "||(rU.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});iA.displayName=_g;var bh="SelectItemText",aA=_.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=gl(bh,n),l=vl(bh,n),c=sA(bh,n),u=oU(bh,n),[d,p]=_.useState(null),m=en(t,y=>p(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),h=d==null?void 0:d.textContent,b=_.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=u;return mr(()=>(v(b),()=>w(b)),[v,w,b]),a.jsxs(a.Fragment,{children:[a.jsx(_t.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ec.createPortal(i.children,o.valueNode):null]})});aA.displayName=bh;var oA="SelectItemIndicator",lA=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return sA(oA,n).isSelected?a.jsx(_t.span,{"aria-hidden":!0,...r,ref:t}):null});lA.displayName=oA;var x2="SelectScrollUpButton",cA=_.forwardRef((e,t)=>{const n=vl(x2,e.__scopeSelect),r=yw(x2,e.__scopeSelect),[s,i]=_.useState(!1),o=en(t,r.onScrollButtonChange);return mr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(dA,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});cA.displayName=x2;var w2="SelectScrollDownButton",uA=_.forwardRef((e,t)=>{const n=vl(w2,e.__scopeSelect),r=yw(w2,e.__scopeSelect),[s,i]=_.useState(!1),o=en(t,r.onScrollButtonChange);return mr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(dA,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});uA.displayName=w2;var dA=_.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=vl("SelectScrollButton",n),o=_.useRef(null),l=E0(n),c=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),mr(()=>{var d;const u=l().find(p=>p.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(_t.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:wt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:wt(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:wt(s.onPointerLeave,()=>{c()})})}),xU="SelectSeparator",hA=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(_t.div,{"aria-hidden":!0,...r,ref:t})});hA.displayName=xU;var b2="SelectArrow",wU=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=C0(n),i=gl(b2,n),o=vl(b2,n);return i.open&&o.position==="popper"?a.jsx(gE,{...s,...r,ref:t}):null});wU.displayName=b2;var bU="SelectBubbleInput",fA=_.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=_.useRef(null),i=en(r,s),o=N0(t);return _.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const p=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(p)}},[o,t]),a.jsx(_t.select,{...n,style:{...o3,...n.style},ref:i,defaultValue:t})});fA.displayName=bU;function pA(e){return e===""||e===void 0}function mA(e){const t=Vs(e),n=_.useRef(""),r=_.useRef(0),s=_.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function gA(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=_U(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function _U(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var SU=qk,vA=Hk,NU=Gk,jU=Kk,EU=Yk,yA=Xk,CU=eA,xA=rA,wA=iA,kU=aA,AU=lA,bA=cA,_A=uA,SA=hA;const yn=SU,xn=NU,pn=_.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(vA,{ref:r,className:qe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(jU,{asChild:!0,children:a.jsx(cg,{className:"h-4 w-4 opacity-50"})})]}));pn.displayName=vA.displayName;const NA=_.forwardRef(({className:e,...t},n)=>a.jsx(bA,{ref:n,className:qe("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(LI,{className:"h-4 w-4"})}));NA.displayName=bA.displayName;const jA=_.forwardRef(({className:e,...t},n)=>a.jsx(_A,{ref:n,className:qe("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(cg,{className:"h-4 w-4"})}));jA.displayName=_A.displayName;const mn=_.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(EU,{children:a.jsxs(yA,{ref:s,className:qe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(NA,{}),a.jsx(CU,{className:qe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(jA,{})]})}));mn.displayName=yA.displayName;const PU=_.forwardRef(({className:e,...t},n)=>a.jsx(xA,{ref:n,className:qe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));PU.displayName=xA.displayName;const ze=_.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(wA,{ref:r,className:qe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(AU,{children:a.jsx(P3,{className:"h-4 w-4"})})}),a.jsx(kU,{children:t})]}));ze.displayName=wA.displayName;const LU=_.forwardRef(({className:e,...t},n)=>a.jsx(SA,{ref:n,className:qe("-mx-1 my-1 h-px bg-muted",e),...t}));LU.displayName=SA.displayName;function fn(e){"@babel/helpers - typeof";return fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fn(e)}var Ri=Uint8Array,Us=Uint16Array,xw=Int32Array,ww=new Ri([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),bw=new Ri([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Q_=new Ri([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),EA=function(e,t){for(var n=new Us(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var s=new xw(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},CA=EA(ww,2),TU=CA.b,_2=CA.r;TU[28]=258,_2[258]=28;var IU=EA(bw,0),Z_=IU.r,S2=new Us(32768);for(var Rn=0;Rn<32768;++Rn){var bo=(Rn&43690)>>1|(Rn&21845)<<1;bo=(bo&52428)>>2|(bo&13107)<<2,bo=(bo&61680)>>4|(bo&3855)<<4,S2[Rn]=((bo&65280)>>8|(bo&255)<<8)>>1}var Mh=function(e,t,n){for(var r=e.length,s=0,i=new Us(t);s<r;++s)e[s]&&++i[e[s]-1];var o=new Us(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(n){l=new Us(1<<t);var c=15-t;for(s=0;s<r;++s)if(e[s])for(var u=s<<4|e[s],d=t-e[s],p=o[e[s]-1]++<<d,m=p|(1<<d)-1;p<=m;++p)l[S2[p]>>c]=u}else for(l=new Us(r),s=0;s<r;++s)e[s]&&(l[s]=S2[o[e[s]-1]++]>>15-e[s]);return l},wc=new Ri(288);for(var Rn=0;Rn<144;++Rn)wc[Rn]=8;for(var Rn=144;Rn<256;++Rn)wc[Rn]=9;for(var Rn=256;Rn<280;++Rn)wc[Rn]=7;for(var Rn=280;Rn<288;++Rn)wc[Rn]=8;var Sg=new Ri(32);for(var Rn=0;Rn<32;++Rn)Sg[Rn]=5;var RU=Mh(wc,9,0),OU=Mh(Sg,5,0),kA=function(e){return(e+7)/8|0},DU=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Ri(e.subarray(t,n))},ka=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},ch=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},m1=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,i=n.slice();if(!s)return{t:PA,l:0};if(s==1){var o=new Ri(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(D,A){return D.f-A.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],u=0,d=1,p=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=n[n[u].f<n[p].f?u++:p++],c=n[u!=d&&n[u].f<n[p].f?u++:p++],n[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=i[0].s,r=1;r<s;++r)i[r].s>m&&(m=i[r].s);var h=new Us(m+1),b=N2(n[d-1],h,0);if(b>t){var r=0,v=0,w=b-t,y=1<<w;for(i.sort(function(A,R){return h[R.s]-h[A.s]||A.f-R.f});r<s;++r){var x=i[r].s;if(h[x]>t)v+=y-(1<<b-h[x]),h[x]=t;else break}for(v>>=w;v>0;){var S=i[r].s;h[S]<t?v-=1<<t-h[S]++-1:++r}for(;r>=0&&v;--r){var k=i[r].s;h[k]==t&&(--h[k],++v)}b=t}return{t:new Ri(h),l:b}},N2=function(e,t,n){return e.s==-1?Math.max(N2(e.l,t,n+1),N2(e.r,t,n+1)):t[e.s]=n},eS=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Us(++t),r=0,s=e[0],i=1,o=function(c){n[r++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:n.subarray(0,r),n:t}},uh=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},AA=function(e,t,n){var r=n.length,s=kA(t+2);e[s]=r&255,e[s+1]=r>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<r;++i)e[s+i+4]=n[i];return(s+4+r)*8},tS=function(e,t,n,r,s,i,o,l,c,u,d){ka(t,d++,n),++s[256];for(var p=m1(s,15),m=p.t,h=p.l,b=m1(i,15),v=b.t,w=b.l,y=eS(m),x=y.c,S=y.n,k=eS(v),D=k.c,A=k.n,R=new Us(19),L=0;L<x.length;++L)++R[x[L]&31];for(var L=0;L<D.length;++L)++R[D[L]&31];for(var C=m1(R,7),M=C.t,E=C.l,P=19;P>4&&!M[Q_[P-1]];--P);var z=u+5<<3,$=uh(s,wc)+uh(i,Sg)+o,Z=uh(s,m)+uh(i,v)+o+14+3*P+uh(R,M)+2*R[16]+3*R[17]+7*R[18];if(c>=0&&z<=$&&z<=Z)return AA(t,d,e.subarray(c,c+u));var ie,te,V,G;if(ka(t,d,1+(Z<$)),d+=2,Z<$){ie=Mh(m,h,0),te=m,V=Mh(v,w,0),G=v;var oe=Mh(M,E,0);ka(t,d,S-257),ka(t,d+5,A-1),ka(t,d+10,P-4),d+=14;for(var L=0;L<P;++L)ka(t,d+3*L,M[Q_[L]]);d+=3*P;for(var ae=[x,D],O=0;O<2;++O)for(var T=ae[O],L=0;L<T.length;++L){var U=T[L]&31;ka(t,d,oe[U]),d+=M[U],U>15&&(ka(t,d,T[L]>>5&127),d+=T[L]>>12)}}else ie=RU,te=wc,V=OU,G=Sg;for(var L=0;L<l;++L){var W=r[L];if(W>255){var U=W>>18&31;ch(t,d,ie[U+257]),d+=te[U+257],U>7&&(ka(t,d,W>>23&31),d+=ww[U]);var Q=W&31;ch(t,d,V[Q]),d+=G[Q],Q>3&&(ch(t,d,W>>5&8191),d+=bw[Q])}else ch(t,d,ie[W]),d+=te[W]}return ch(t,d,ie[256]),d+te[256]},MU=new xw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),PA=new Ri(0),FU=function(e,t,n,r,s,i){var o=i.z||e.length,l=new Ri(r+o+5*(1+Math.ceil(o/7e3))+s),c=l.subarray(r,l.length-s),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var p=MU[t-1],m=p>>13,h=p&8191,b=(1<<n)-1,v=i.p||new Us(32768),w=i.h||new Us(b+1),y=Math.ceil(n/3),x=2*y,S=function(_e){return(e[_e]^e[_e+1]<<y^e[_e+2]<<x)&b},k=new xw(25e3),D=new Us(288),A=new Us(32),R=0,L=0,C=i.i||0,M=0,E=i.w||0,P=0;C+2<o;++C){var z=S(C),$=C&32767,Z=w[z];if(v[$]=Z,w[z]=$,E<=C){var ie=o-C;if((R>7e3||M>24576)&&(ie>423||!u)){d=tS(e,c,0,k,D,A,L,M,P,C-P,d),M=R=L=0,P=C;for(var te=0;te<286;++te)D[te]=0;for(var te=0;te<30;++te)A[te]=0}var V=2,G=0,oe=h,ae=$-Z&32767;if(ie>2&&z==S(C-ae))for(var O=Math.min(m,ie)-1,T=Math.min(32767,C),U=Math.min(258,ie);ae<=T&&--oe&&$!=Z;){if(e[C+V]==e[C+V-ae]){for(var W=0;W<U&&e[C+W]==e[C+W-ae];++W);if(W>V){if(V=W,G=ae,W>O)break;for(var Q=Math.min(ae,W-2),Y=0,te=0;te<Q;++te){var le=C-ae+te&32767,ue=v[le],pe=le-ue&32767;pe>Y&&(Y=pe,Z=le)}}}$=Z,Z=v[$],ae+=$-Z&32767}if(G){k[M++]=268435456|_2[V]<<18|Z_[G];var de=_2[V]&31,ye=Z_[G]&31;L+=ww[de]+bw[ye],++D[257+de],++A[ye],E=C+V,++R}else k[M++]=e[C],++D[e[C]]}}for(C=Math.max(C,E);C<o;++C)k[M++]=e[C],++D[e[C]];d=tS(e,c,u,k,D,A,L,M,P,C-P,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=w,i.p=v,i.i=C,i.w=E)}else{for(var C=i.w||0;C<o+u;C+=65535){var Te=C+65535;Te>=o&&(c[d/8|0]=u,Te=o),d=AA(c,d+1,e.subarray(C,Te))}i.i=o}return DU(l,0,r+kA(d)+s)},LA=function(){var e=1,t=0;return{p:function(n){for(var r=e,s=t,i=n.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=r+=n[o];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}e=r,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},BU=function(e,t,n,r,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Ri(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return FU(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,s)},TA=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},$U=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=LA();s.p(t.dictionary),TA(e,2,s.d())}};function j2(e,t){t||(t={});var n=LA();n.p(e);var r=BU(e,t,t.dictionary?6:2,4);return $U(r,t),TA(r,r.length-4,n.d()),r}var UU=typeof TextDecoder<"u"&&new TextDecoder,zU=0;try{UU.decode(PA,{stream:!0}),zU=1}catch{}function qU(e){if(Array.isArray(e))return e}function WU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function nS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function HU(e,t){if(e){if(typeof e=="string")return nS(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nS(e,t):void 0}}function VU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rS(e,t){return qU(e)||WU(e,t)||HU(e,t)||VU()}function sS(e,t="utf8"){return new TextDecoder(t).decode(e)}const GU=new TextEncoder;function KU(e){return GU.encode(e)}const YU=1024*8,XU=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),g1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class _w{constructor(t=YU,n={}){dn(this,"buffer");dn(this,"byteLength");dn(this,"byteOffset");dn(this,"length");dn(this,"offset");dn(this,"lastWrittenByte");dn(this,"littleEndian");dn(this,"_data");dn(this,"_mark");dn(this,"_marks");let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const s=n.offset?n.offset>>>0:0,i=t.byteLength-s;let o=s;(ArrayBuffer.isView(t)||t instanceof _w)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+s),t=t.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=g1[n].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+r);if(this.littleEndian===XU&&n!=="uint8"&&n!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+r));l.reverse();const c=new g1[n](l.buffer);return this.offset+=r,c.reverse(),c}const o=new g1[n](i);return this.offset+=r,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return sS(this.readBytes(t))}decodeText(t=1,n="utf8"){return sS(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(KU(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const JU=4,iS=0,aS=1,QU=2;function xd(e){let t=e.length;for(;--t>=0;)e[t]=0}const ZU=0,IA=1,ez=2,tz=3,nz=258,Sw=29,Bf=256,pf=Bf+1+Sw,Lu=30,Nw=19,RA=2*pf+1,Xl=15,v1=16,rz=7,jw=256,OA=16,DA=17,MA=18,E2=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Lm=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),sz=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),FA=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),iz=512,Ra=new Array((pf+2)*2);xd(Ra);const Fh=new Array(Lu*2);xd(Fh);const mf=new Array(iz);xd(mf);const gf=new Array(nz-tz+1);xd(gf);const Ew=new Array(Sw);xd(Ew);const Ng=new Array(Lu);xd(Ng);function y1(e,t,n,r,s){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=s,this.has_stree=e&&e.length}let BA,$A,UA;function x1(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const zA=e=>e<256?mf[e]:mf[256+(e>>>7)],vf=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},_s=(e,t,n)=>{e.bi_valid>v1-n?(e.bi_buf|=t<<e.bi_valid&65535,vf(e,e.bi_buf),e.bi_buf=t>>v1-e.bi_valid,e.bi_valid+=n-v1):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},na=(e,t,n)=>{_s(e,n[t*2],n[t*2+1])},qA=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},az=e=>{e.bi_valid===16?(vf(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},oz=(e,t)=>{const n=t.dyn_tree,r=t.max_code,s=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,p,m,h,b,v=0;for(m=0;m<=Xl;m++)e.bl_count[m]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<RA;u++)d=e.heap[u],m=n[n[d*2+1]*2+1]+1,m>c&&(m=c,v++),n[d*2+1]=m,!(d>r)&&(e.bl_count[m]++,h=0,d>=l&&(h=o[d-l]),b=n[d*2],e.opt_len+=b*(m+h),i&&(e.static_len+=b*(s[d*2+1]+h)));if(v!==0){do{for(m=c-1;e.bl_count[m]===0;)m--;e.bl_count[m]--,e.bl_count[m+1]+=2,e.bl_count[c]--,v-=2}while(v>0);for(m=c;m!==0;m--)for(d=e.bl_count[m];d!==0;)p=e.heap[--u],!(p>r)&&(n[p*2+1]!==m&&(e.opt_len+=(m-n[p*2+1])*n[p*2],n[p*2+1]=m),d--)}},WA=(e,t,n)=>{const r=new Array(Xl+1);let s=0,i,o;for(i=1;i<=Xl;i++)s=s+n[i-1]<<1,r[i]=s;for(o=0;o<=t;o++){let l=e[o*2+1];l!==0&&(e[o*2]=qA(r[l]++,l))}},lz=()=>{let e,t,n,r,s;const i=new Array(Xl+1);for(n=0,r=0;r<Sw-1;r++)for(Ew[r]=n,e=0;e<1<<E2[r];e++)gf[n++]=r;for(gf[n-1]=r,s=0,r=0;r<16;r++)for(Ng[r]=s,e=0;e<1<<Lm[r];e++)mf[s++]=r;for(s>>=7;r<Lu;r++)for(Ng[r]=s<<7,e=0;e<1<<Lm[r]-7;e++)mf[256+s++]=r;for(t=0;t<=Xl;t++)i[t]=0;for(e=0;e<=143;)Ra[e*2+1]=8,e++,i[8]++;for(;e<=255;)Ra[e*2+1]=9,e++,i[9]++;for(;e<=279;)Ra[e*2+1]=7,e++,i[7]++;for(;e<=287;)Ra[e*2+1]=8,e++,i[8]++;for(WA(Ra,pf+1,i),e=0;e<Lu;e++)Fh[e*2+1]=5,Fh[e*2]=qA(e,5);BA=new y1(Ra,E2,Bf+1,pf,Xl),$A=new y1(Fh,Lm,0,Lu,Xl),UA=new y1(new Array(0),sz,0,Nw,rz)},HA=e=>{let t;for(t=0;t<pf;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Lu;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Nw;t++)e.bl_tree[t*2]=0;e.dyn_ltree[jw*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},VA=e=>{e.bi_valid>8?vf(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},oS=(e,t,n,r)=>{const s=t*2,i=n*2;return e[s]<e[i]||e[s]===e[i]&&r[t]<=r[n]},w1=(e,t,n)=>{const r=e.heap[n];let s=n<<1;for(;s<=e.heap_len&&(s<e.heap_len&&oS(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!oS(t,r,e.heap[s],e.depth));)e.heap[n]=e.heap[s],n=s,s<<=1;e.heap[n]=r},lS=(e,t,n)=>{let r,s,i=0,o,l;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+i++]&255,r+=(e.pending_buf[e.sym_buf+i++]&255)<<8,s=e.pending_buf[e.sym_buf+i++],r===0?na(e,s,t):(o=gf[s],na(e,o+Bf+1,t),l=E2[o],l!==0&&(s-=Ew[o],_s(e,s,l)),r--,o=zA(r),na(e,o,n),l=Lm[o],l!==0&&(r-=Ng[o],_s(e,r,l)));while(i<e.sym_next);na(e,jw,t)},C2=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,s=t.stat_desc.has_stree,i=t.stat_desc.elems;let o,l,c=-1,u;for(e.heap_len=0,e.heap_max=RA,o=0;o<i;o++)n[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):n[o*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,s&&(e.static_len-=r[u*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)w1(e,n,o);u=i;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],w1(e,n,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,n[u*2]=n[o*2]+n[l*2],e.depth[u]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,n[o*2+1]=n[l*2+1]=u,e.heap[1]=u++,w1(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],oz(e,t),WA(n,c,e.bl_count)},cS=(e,t,n)=>{let r,s=-1,i,o=t[0*2+1],l=0,c=7,u=4;for(o===0&&(c=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=o,o=t[(r+1)*2+1],!(++l<c&&i===o)&&(l<u?e.bl_tree[i*2]+=l:i!==0?(i!==s&&e.bl_tree[i*2]++,e.bl_tree[OA*2]++):l<=10?e.bl_tree[DA*2]++:e.bl_tree[MA*2]++,l=0,s=i,o===0?(c=138,u=3):i===o?(c=6,u=3):(c=7,u=4))},uS=(e,t,n)=>{let r,s=-1,i,o=t[0*2+1],l=0,c=7,u=4;for(o===0&&(c=138,u=3),r=0;r<=n;r++)if(i=o,o=t[(r+1)*2+1],!(++l<c&&i===o)){if(l<u)do na(e,i,e.bl_tree);while(--l!==0);else i!==0?(i!==s&&(na(e,i,e.bl_tree),l--),na(e,OA,e.bl_tree),_s(e,l-3,2)):l<=10?(na(e,DA,e.bl_tree),_s(e,l-3,3)):(na(e,MA,e.bl_tree),_s(e,l-11,7));l=0,s=i,o===0?(c=138,u=3):i===o?(c=6,u=3):(c=7,u=4)}},cz=e=>{let t;for(cS(e,e.dyn_ltree,e.l_desc.max_code),cS(e,e.dyn_dtree,e.d_desc.max_code),C2(e,e.bl_desc),t=Nw-1;t>=3&&e.bl_tree[FA[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},uz=(e,t,n,r)=>{let s;for(_s(e,t-257,5),_s(e,n-1,5),_s(e,r-4,4),s=0;s<r;s++)_s(e,e.bl_tree[FA[s]*2+1],3);uS(e,e.dyn_ltree,t-1),uS(e,e.dyn_dtree,n-1)},dz=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return iS;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return aS;for(n=32;n<Bf;n++)if(e.dyn_ltree[n*2]!==0)return aS;return iS};let dS=!1;const hz=e=>{dS||(lz(),dS=!0),e.l_desc=new x1(e.dyn_ltree,BA),e.d_desc=new x1(e.dyn_dtree,$A),e.bl_desc=new x1(e.bl_tree,UA),e.bi_buf=0,e.bi_valid=0,HA(e)},GA=(e,t,n,r)=>{_s(e,(ZU<<1)+(r?1:0),3),VA(e),vf(e,n),vf(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},fz=e=>{_s(e,IA<<1,3),na(e,jw,Ra),az(e)},pz=(e,t,n,r)=>{let s,i,o=0;e.level>0?(e.strm.data_type===QU&&(e.strm.data_type=dz(e)),C2(e,e.l_desc),C2(e,e.d_desc),o=cz(e),s=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=s&&(s=i)):s=i=n+5,n+4<=s&&t!==-1?GA(e,t,n,r):e.strategy===JU||i===s?(_s(e,(IA<<1)+(r?1:0),3),lS(e,Ra,Fh)):(_s(e,(ez<<1)+(r?1:0),3),uz(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),lS(e,e.dyn_ltree,e.dyn_dtree)),HA(e),r&&VA(e)},mz=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(gf[n]+Bf+1)*2]++,e.dyn_dtree[zA(t)*2]++),e.sym_next===e.sym_end);var gz=hz,vz=GA,yz=pz,xz=mz,wz=fz,bz={_tr_init:gz,_tr_stored_block:vz,_tr_flush_block:yz,_tr_tally:xz,_tr_align:wz};const _z=(e,t,n,r)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do s=s+t[r++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var yf=_z;const Sz=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},Nz=new Uint32Array(Sz()),jz=(e,t,n,r)=>{const s=Nz,i=r+n;e^=-1;for(let o=r;o<i;o++)e=e>>>8^s[(e^t[o])&255];return e^-1};var Nr=jz,rd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$f={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ez,_tr_stored_block:k2,_tr_flush_block:Cz,_tr_tally:el,_tr_align:kz}=bz,{Z_NO_FLUSH:tl,Z_PARTIAL_FLUSH:Az,Z_FULL_FLUSH:Pz,Z_FINISH:oi,Z_BLOCK:hS,Z_OK:Ir,Z_STREAM_END:fS,Z_STREAM_ERROR:ca,Z_DATA_ERROR:Lz,Z_BUF_ERROR:b1,Z_DEFAULT_COMPRESSION:Tz,Z_FILTERED:Iz,Z_HUFFMAN_ONLY:rm,Z_RLE:Rz,Z_FIXED:Oz,Z_DEFAULT_STRATEGY:Dz,Z_UNKNOWN:Mz,Z_DEFLATED:k0}=$f,Fz=9,Bz=15,$z=8,Uz=29,zz=256,A2=zz+1+Uz,qz=30,Wz=19,Hz=2*A2+1,Vz=15,Xt=3,Wo=258,ua=Wo+Xt+1,Gz=32,sd=42,Cw=57,P2=69,L2=73,T2=91,I2=103,Jl=113,_h=666,is=1,wd=2,bc=3,bd=4,Kz=3,Ql=(e,t)=>(e.msg=rd[t],t),pS=e=>e*2-(e>4?9:0),Io=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Yz=e=>{let t,n,r,s=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=s?n-s:0;while(--t);t=s,r=t;do n=e.prev[--r],e.prev[r]=n>=s?n-s:0;while(--t)};let Xz=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,nl=Xz;const Ms=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},zs=(e,t)=>{Cz(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ms(e.strm)},sn=(e,t)=>{e.pending_buf[e.pending++]=t},dh=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},R2=(e,t,n,r)=>{let s=e.avail_in;return s>r&&(s=r),s===0?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),n),e.state.wrap===1?e.adler=yf(e.adler,t,s,n):e.state.wrap===2&&(e.adler=Nr(e.adler,t,s,n)),e.next_in+=s,e.total_in+=s,s)},KA=(e,t)=>{let n=e.max_chain_length,r=e.strstart,s,i,o=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-ua?e.strstart-(e.w_size-ua):0,u=e.window,d=e.w_mask,p=e.prev,m=e.strstart+Wo;let h=u[r+o-1],b=u[r+o];e.prev_length>=e.good_match&&(n>>=2),l>e.lookahead&&(l=e.lookahead);do if(s=t,!(u[s+o]!==b||u[s+o-1]!==h||u[s]!==u[r]||u[++s]!==u[r+1])){r+=2,s++;do;while(u[++r]===u[++s]&&u[++r]===u[++s]&&u[++r]===u[++s]&&u[++r]===u[++s]&&u[++r]===u[++s]&&u[++r]===u[++s]&&u[++r]===u[++s]&&u[++r]===u[++s]&&r<m);if(i=Wo-(m-r),r=m-Wo,i>o){if(e.match_start=t,o=i,i>=l)break;h=u[r+o-1],b=u[r+o]}}while((t=p[t&d])>c&&--n!==0);return o<=e.lookahead?o:e.lookahead},id=e=>{const t=e.w_size;let n,r,s;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ua)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Yz(e),r+=t),e.strm.avail_in===0)break;if(n=R2(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Xt)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=nl(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=nl(e,e.ins_h,e.window[s+Xt-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<Xt)););}while(e.lookahead<ua&&e.strm.avail_in!==0)},YA=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,s,i,o=0,l=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,s=e.strstart-e.block_start,r>s+e.strm.avail_in&&(r=s+e.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&t!==oi||t===tl||r!==s+e.strm.avail_in)))break;o=t===oi&&r===s+e.strm.avail_in?1:0,k2(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Ms(e.strm),s&&(s>r&&(s=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+s),e.strm.next_out),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s,e.block_start+=s,r-=s),r&&(R2(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?bd:t!==tl&&t!==oi&&e.strm.avail_in===0&&e.strstart===e.block_start?wd:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(R2(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,s=e.strstart-e.block_start,(s>=n||(s||t===oi)&&t!==tl&&e.strm.avail_in===0&&s<=i)&&(r=s>i?i:s,o=t===oi&&e.strm.avail_in===0&&r===s?1:0,k2(e,e.block_start,r,o),e.block_start+=r,Ms(e.strm)),o?bc:is)},_1=(e,t)=>{let n,r;for(;;){if(e.lookahead<ua){if(id(e),e.lookahead<ua&&t===tl)return is;if(e.lookahead===0)break}if(n=0,e.lookahead>=Xt&&(e.ins_h=nl(e,e.ins_h,e.window[e.strstart+Xt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-ua&&(e.match_length=KA(e,n)),e.match_length>=Xt)if(r=el(e,e.strstart-e.match_start,e.match_length-Xt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Xt){e.match_length--;do e.strstart++,e.ins_h=nl(e,e.ins_h,e.window[e.strstart+Xt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=nl(e,e.ins_h,e.window[e.strstart+1]);else r=el(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(zs(e,!1),e.strm.avail_out===0))return is}return e.insert=e.strstart<Xt-1?e.strstart:Xt-1,t===oi?(zs(e,!0),e.strm.avail_out===0?bc:bd):e.sym_next&&(zs(e,!1),e.strm.avail_out===0)?is:wd},eu=(e,t)=>{let n,r,s;for(;;){if(e.lookahead<ua){if(id(e),e.lookahead<ua&&t===tl)return is;if(e.lookahead===0)break}if(n=0,e.lookahead>=Xt&&(e.ins_h=nl(e,e.ins_h,e.window[e.strstart+Xt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Xt-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ua&&(e.match_length=KA(e,n),e.match_length<=5&&(e.strategy===Iz||e.match_length===Xt&&e.strstart-e.match_start>4096)&&(e.match_length=Xt-1)),e.prev_length>=Xt&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-Xt,r=el(e,e.strstart-1-e.prev_match,e.prev_length-Xt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=s&&(e.ins_h=nl(e,e.ins_h,e.window[e.strstart+Xt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Xt-1,e.strstart++,r&&(zs(e,!1),e.strm.avail_out===0))return is}else if(e.match_available){if(r=el(e,0,e.window[e.strstart-1]),r&&zs(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return is}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=el(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Xt-1?e.strstart:Xt-1,t===oi?(zs(e,!0),e.strm.avail_out===0?bc:bd):e.sym_next&&(zs(e,!1),e.strm.avail_out===0)?is:wd},Jz=(e,t)=>{let n,r,s,i;const o=e.window;for(;;){if(e.lookahead<=Wo){if(id(e),e.lookahead<=Wo&&t===tl)return is;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Xt&&e.strstart>0&&(s=e.strstart-1,r=o[s],r===o[++s]&&r===o[++s]&&r===o[++s])){i=e.strstart+Wo;do;while(r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&s<i);e.match_length=Wo-(i-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Xt?(n=el(e,1,e.match_length-Xt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=el(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(zs(e,!1),e.strm.avail_out===0))return is}return e.insert=0,t===oi?(zs(e,!0),e.strm.avail_out===0?bc:bd):e.sym_next&&(zs(e,!1),e.strm.avail_out===0)?is:wd},Qz=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(id(e),e.lookahead===0)){if(t===tl)return is;break}if(e.match_length=0,n=el(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(zs(e,!1),e.strm.avail_out===0))return is}return e.insert=0,t===oi?(zs(e,!0),e.strm.avail_out===0?bc:bd):e.sym_next&&(zs(e,!1),e.strm.avail_out===0)?is:wd};function Vi(e,t,n,r,s){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=s}const Sh=[new Vi(0,0,0,0,YA),new Vi(4,4,8,4,_1),new Vi(4,5,16,8,_1),new Vi(4,6,32,32,_1),new Vi(4,4,16,16,eu),new Vi(8,16,32,32,eu),new Vi(8,16,128,128,eu),new Vi(8,32,128,256,eu),new Vi(32,128,258,1024,eu),new Vi(32,258,258,4096,eu)],Zz=e=>{e.window_size=2*e.w_size,Io(e.head),e.max_lazy_match=Sh[e.level].max_lazy,e.good_match=Sh[e.level].good_length,e.nice_match=Sh[e.level].nice_length,e.max_chain_length=Sh[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Xt-1,e.match_available=0,e.ins_h=0};function eq(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k0,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Hz*2),this.dyn_dtree=new Uint16Array((2*qz+1)*2),this.bl_tree=new Uint16Array((2*Wz+1)*2),Io(this.dyn_ltree),Io(this.dyn_dtree),Io(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Vz+1),this.heap=new Uint16Array(2*A2+1),Io(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*A2+1),Io(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Uf=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==sd&&t.status!==Cw&&t.status!==P2&&t.status!==L2&&t.status!==T2&&t.status!==I2&&t.status!==Jl&&t.status!==_h?1:0},XA=e=>{if(Uf(e))return Ql(e,ca);e.total_in=e.total_out=0,e.data_type=Mz;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?Cw:t.wrap?sd:Jl,e.adler=t.wrap===2?0:1,t.last_flush=-2,Ez(t),Ir},JA=e=>{const t=XA(e);return t===Ir&&Zz(e.state),t},tq=(e,t)=>Uf(e)||e.state.wrap!==2?ca:(e.state.gzhead=t,Ir),QA=(e,t,n,r,s,i)=>{if(!e)return ca;let o=1;if(t===Tz&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),s<1||s>Fz||n!==k0||r<8||r>15||t<0||t>9||i<0||i>Oz||r===8&&o!==1)return Ql(e,ca);r===8&&(r=9);const l=new eq;return e.state=l,l.strm=e,l.status=sd,l.wrap=o,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Xt-1)/Xt),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=i,l.method=n,JA(e)},nq=(e,t)=>QA(e,t,k0,Bz,$z,Dz),rq=(e,t)=>{if(Uf(e)||t>hS||t<0)return e?Ql(e,ca):ca;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===_h&&t!==oi)return Ql(e,e.avail_out===0?b1:ca);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Ms(e),e.avail_out===0)return n.last_flush=-1,Ir}else if(e.avail_in===0&&pS(t)<=pS(r)&&t!==oi)return Ql(e,b1);if(n.status===_h&&e.avail_in!==0)return Ql(e,b1);if(n.status===sd&&n.wrap===0&&(n.status=Jl),n.status===sd){let s=k0+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=rm||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,s|=i<<6,n.strstart!==0&&(s|=Gz),s+=31-s%31,dh(n,s),n.strstart!==0&&(dh(n,e.adler>>>16),dh(n,e.adler&65535)),e.adler=1,n.status=Jl,Ms(e),n.pending!==0)return n.last_flush=-1,Ir}if(n.status===Cw){if(e.adler=0,sn(n,31),sn(n,139),sn(n,8),n.gzhead)sn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),sn(n,n.gzhead.time&255),sn(n,n.gzhead.time>>8&255),sn(n,n.gzhead.time>>16&255),sn(n,n.gzhead.time>>24&255),sn(n,n.level===9?2:n.strategy>=rm||n.level<2?4:0),sn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(sn(n,n.gzhead.extra.length&255),sn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Nr(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=P2;else if(sn(n,0),sn(n,0),sn(n,0),sn(n,0),sn(n,0),sn(n,n.level===9?2:n.strategy>=rm||n.level<2?4:0),sn(n,Kz),n.status=Jl,Ms(e),n.pending!==0)return n.last_flush=-1,Ir}if(n.status===P2){if(n.gzhead.extra){let s=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let l=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+l),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>s&&(e.adler=Nr(e.adler,n.pending_buf,n.pending-s,s)),n.gzindex+=l,Ms(e),n.pending!==0)return n.last_flush=-1,Ir;s=0,i-=l}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>s&&(e.adler=Nr(e.adler,n.pending_buf,n.pending-s,s)),n.gzindex=0}n.status=L2}if(n.status===L2){if(n.gzhead.name){let s=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>s&&(e.adler=Nr(e.adler,n.pending_buf,n.pending-s,s)),Ms(e),n.pending!==0)return n.last_flush=-1,Ir;s=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,sn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>s&&(e.adler=Nr(e.adler,n.pending_buf,n.pending-s,s)),n.gzindex=0}n.status=T2}if(n.status===T2){if(n.gzhead.comment){let s=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>s&&(e.adler=Nr(e.adler,n.pending_buf,n.pending-s,s)),Ms(e),n.pending!==0)return n.last_flush=-1,Ir;s=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,sn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>s&&(e.adler=Nr(e.adler,n.pending_buf,n.pending-s,s))}n.status=I2}if(n.status===I2){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Ms(e),n.pending!==0))return n.last_flush=-1,Ir;sn(n,e.adler&255),sn(n,e.adler>>8&255),e.adler=0}if(n.status=Jl,Ms(e),n.pending!==0)return n.last_flush=-1,Ir}if(e.avail_in!==0||n.lookahead!==0||t!==tl&&n.status!==_h){let s=n.level===0?YA(n,t):n.strategy===rm?Qz(n,t):n.strategy===Rz?Jz(n,t):Sh[n.level].func(n,t);if((s===bc||s===bd)&&(n.status=_h),s===is||s===bc)return e.avail_out===0&&(n.last_flush=-1),Ir;if(s===wd&&(t===Az?kz(n):t!==hS&&(k2(n,0,0,!1),t===Pz&&(Io(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Ms(e),e.avail_out===0))return n.last_flush=-1,Ir}return t!==oi?Ir:n.wrap<=0?fS:(n.wrap===2?(sn(n,e.adler&255),sn(n,e.adler>>8&255),sn(n,e.adler>>16&255),sn(n,e.adler>>24&255),sn(n,e.total_in&255),sn(n,e.total_in>>8&255),sn(n,e.total_in>>16&255),sn(n,e.total_in>>24&255)):(dh(n,e.adler>>>16),dh(n,e.adler&65535)),Ms(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Ir:fS)},sq=e=>{if(Uf(e))return ca;const t=e.state.status;return e.state=null,t===Jl?Ql(e,Lz):Ir},iq=(e,t)=>{let n=t.length;if(Uf(e))return ca;const r=e.state,s=r.wrap;if(s===2||s===1&&r.status!==sd||r.lookahead)return ca;if(s===1&&(e.adler=yf(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){s===0&&(Io(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}const i=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,id(r);r.lookahead>=Xt;){let c=r.strstart,u=r.lookahead-(Xt-1);do r.ins_h=nl(r,r.ins_h,r.window[c+Xt-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=Xt-1,id(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Xt-1,r.match_available=0,e.next_in=o,e.input=l,e.avail_in=i,r.wrap=s,Ir};var aq=nq,oq=QA,lq=JA,cq=XA,uq=tq,dq=rq,hq=sq,fq=iq,pq="pako deflate (from Nodeca project)",Bh={deflateInit:aq,deflateInit2:oq,deflateReset:lq,deflateResetKeep:cq,deflateSetHeader:uq,deflate:dq,deflateEnd:hq,deflateSetDictionary:fq,deflateInfo:pq};const mq=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var gq=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)mq(n,r)&&(e[r]=n[r])}}return e},vq=e=>{let t=0;for(let r=0,s=e.length;r<s;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,s=0,i=e.length;r<i;r++){let o=e[r];n.set(o,s),s+=o.length}return n},A0={assign:gq,flattenChunks:vq};let ZA=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ZA=!1}const xf=new Uint8Array(256);for(let e=0;e<256;e++)xf[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;xf[254]=xf[254]=1;var yq=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,s,i,o=e.length,l=0;for(s=0;s<o;s++)n=e.charCodeAt(s),(n&64512)===55296&&s+1<o&&(r=e.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(l),i=0,s=0;i<l;s++)n=e.charCodeAt(s),(n&64512)===55296&&s+1<o&&(r=e.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const xq=(e,t)=>{if(t<65534&&e.subarray&&ZA)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var wq=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,s;const i=new Array(n*2);for(s=0,r=0;r<n;){let o=e[r++];if(o<128){i[s++]=o;continue}let l=xf[o];if(l>4){i[s++]=65533,r+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&r<n;)o=o<<6|e[r++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return xq(i,s)},bq=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+xf[e[n]]>t?n:t},wf={string2buf:yq,buf2string:wq,utf8border:bq};function _q(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var eP=_q;const tP=Object.prototype.toString,{Z_NO_FLUSH:Sq,Z_SYNC_FLUSH:Nq,Z_FULL_FLUSH:jq,Z_FINISH:Eq,Z_OK:jg,Z_STREAM_END:Cq,Z_DEFAULT_COMPRESSION:kq,Z_DEFAULT_STRATEGY:Aq,Z_DEFLATED:Pq}=$f;function kw(e){this.options=A0.assign({level:kq,method:Pq,chunkSize:16384,windowBits:15,memLevel:8,strategy:Aq},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new eP,this.strm.avail_out=0;let n=Bh.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==jg)throw new Error(rd[n]);if(t.header&&Bh.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=wf.string2buf(t.dictionary):tP.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Bh.deflateSetDictionary(this.strm,r),n!==jg)throw new Error(rd[n]);this._dict_set=!0}}kw.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let s,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?Eq:Sq,typeof e=="string"?n.input=wf.string2buf(e):tP.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===Nq||i===jq)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(s=Bh.deflate(n,i),s===Cq)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),s=Bh.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===jg;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};kw.prototype.onData=function(e){this.chunks.push(e)};kw.prototype.onEnd=function(e){e===jg&&(this.result=A0.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const sm=16209,Lq=16191;var Tq=function(t,n){let r,s,i,o,l,c,u,d,p,m,h,b,v,w,y,x,S,k,D,A,R,L,C,M;const E=t.state;r=t.next_in,C=t.input,s=r+(t.avail_in-5),i=t.next_out,M=t.output,o=i-(n-t.avail_out),l=i+(t.avail_out-257),c=E.dmax,u=E.wsize,d=E.whave,p=E.wnext,m=E.window,h=E.hold,b=E.bits,v=E.lencode,w=E.distcode,y=(1<<E.lenbits)-1,x=(1<<E.distbits)-1;e:do{b<15&&(h+=C[r++]<<b,b+=8,h+=C[r++]<<b,b+=8),S=v[h&y];t:for(;;){if(k=S>>>24,h>>>=k,b-=k,k=S>>>16&255,k===0)M[i++]=S&65535;else if(k&16){D=S&65535,k&=15,k&&(b<k&&(h+=C[r++]<<b,b+=8),D+=h&(1<<k)-1,h>>>=k,b-=k),b<15&&(h+=C[r++]<<b,b+=8,h+=C[r++]<<b,b+=8),S=w[h&x];n:for(;;){if(k=S>>>24,h>>>=k,b-=k,k=S>>>16&255,k&16){if(A=S&65535,k&=15,b<k&&(h+=C[r++]<<b,b+=8,b<k&&(h+=C[r++]<<b,b+=8)),A+=h&(1<<k)-1,A>c){t.msg="invalid distance too far back",E.mode=sm;break e}if(h>>>=k,b-=k,k=i-o,A>k){if(k=A-k,k>d&&E.sane){t.msg="invalid distance too far back",E.mode=sm;break e}if(R=0,L=m,p===0){if(R+=u-k,k<D){D-=k;do M[i++]=m[R++];while(--k);R=i-A,L=M}}else if(p<k){if(R+=u+p-k,k-=p,k<D){D-=k;do M[i++]=m[R++];while(--k);if(R=0,p<D){k=p,D-=k;do M[i++]=m[R++];while(--k);R=i-A,L=M}}}else if(R+=p-k,k<D){D-=k;do M[i++]=m[R++];while(--k);R=i-A,L=M}for(;D>2;)M[i++]=L[R++],M[i++]=L[R++],M[i++]=L[R++],D-=3;D&&(M[i++]=L[R++],D>1&&(M[i++]=L[R++]))}else{R=i-A;do M[i++]=M[R++],M[i++]=M[R++],M[i++]=M[R++],D-=3;while(D>2);D&&(M[i++]=M[R++],D>1&&(M[i++]=M[R++]))}}else if(k&64){t.msg="invalid distance code",E.mode=sm;break e}else{S=w[(S&65535)+(h&(1<<k)-1)];continue n}break}}else if(k&64)if(k&32){E.mode=Lq;break e}else{t.msg="invalid literal/length code",E.mode=sm;break e}else{S=v[(S&65535)+(h&(1<<k)-1)];continue t}break}}while(r<s&&i<l);D=b>>3,r-=D,b-=D<<3,h&=(1<<b)-1,t.next_in=r,t.next_out=i,t.avail_in=r<s?5+(s-r):5-(r-s),t.avail_out=i<l?257+(l-i):257-(i-l),E.hold=h,E.bits=b};const tu=15,mS=852,gS=592,vS=0,S1=1,yS=2,Iq=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Rq=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Oq=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Dq=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Mq=(e,t,n,r,s,i,o,l)=>{const c=l.bits;let u=0,d=0,p=0,m=0,h=0,b=0,v=0,w=0,y=0,x=0,S,k,D,A,R,L=null,C;const M=new Uint16Array(tu+1),E=new Uint16Array(tu+1);let P=null,z,$,Z;for(u=0;u<=tu;u++)M[u]=0;for(d=0;d<r;d++)M[t[n+d]]++;for(h=c,m=tu;m>=1&&M[m]===0;m--);if(h>m&&(h=m),m===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(p=1;p<m&&M[p]===0;p++);for(h<p&&(h=p),w=1,u=1;u<=tu;u++)if(w<<=1,w-=M[u],w<0)return-1;if(w>0&&(e===vS||m!==1))return-1;for(E[1]=0,u=1;u<tu;u++)E[u+1]=E[u]+M[u];for(d=0;d<r;d++)t[n+d]!==0&&(o[E[t[n+d]]++]=d);if(e===vS?(L=P=o,C=20):e===S1?(L=Iq,P=Rq,C=257):(L=Oq,P=Dq,C=0),x=0,d=0,u=p,R=i,b=h,v=0,D=-1,y=1<<h,A=y-1,e===S1&&y>mS||e===yS&&y>gS)return 1;for(;;){z=u-v,o[d]+1<C?($=0,Z=o[d]):o[d]>=C?($=P[o[d]-C],Z=L[o[d]-C]):($=96,Z=0),S=1<<u-v,k=1<<b,p=k;do k-=S,s[R+(x>>v)+k]=z<<24|$<<16|Z|0;while(k!==0);for(S=1<<u-1;x&S;)S>>=1;if(S!==0?(x&=S-1,x+=S):x=0,d++,--M[u]===0){if(u===m)break;u=t[n+o[d]]}if(u>h&&(x&A)!==D){for(v===0&&(v=h),R+=p,b=u-v,w=1<<b;b+v<m&&(w-=M[b+v],!(w<=0));)b++,w<<=1;if(y+=1<<b,e===S1&&y>mS||e===yS&&y>gS)return 1;D=x&A,s[D]=h<<24|b<<16|R-i|0}}return x!==0&&(s[R+x]=u-v<<24|64<<16|0),l.bits=h,0};var $h=Mq;const Fq=0,nP=1,rP=2,{Z_FINISH:xS,Z_BLOCK:Bq,Z_TREES:im,Z_OK:_c,Z_STREAM_END:$q,Z_NEED_DICT:Uq,Z_STREAM_ERROR:fi,Z_DATA_ERROR:sP,Z_MEM_ERROR:iP,Z_BUF_ERROR:zq,Z_DEFLATED:wS}=$f,P0=16180,bS=16181,_S=16182,SS=16183,NS=16184,jS=16185,ES=16186,CS=16187,kS=16188,AS=16189,Eg=16190,Aa=16191,N1=16192,PS=16193,j1=16194,LS=16195,TS=16196,IS=16197,RS=16198,am=16199,om=16200,OS=16201,DS=16202,MS=16203,FS=16204,BS=16205,E1=16206,$S=16207,US=16208,Mn=16209,aP=16210,oP=16211,qq=852,Wq=592,Hq=15,Vq=Hq,zS=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Gq(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Lc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<P0||t.mode>oP?1:0},lP=e=>{if(Lc(e))return fi;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=P0,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(qq),t.distcode=t.distdyn=new Int32Array(Wq),t.sane=1,t.back=-1,_c},cP=e=>{if(Lc(e))return fi;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,lP(e)},uP=(e,t)=>{let n;if(Lc(e))return fi;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?fi:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,cP(e))},dP=(e,t)=>{if(!e)return fi;const n=new Gq;e.state=n,n.strm=e,n.window=null,n.mode=P0;const r=uP(e,t);return r!==_c&&(e.state=null),r},Kq=e=>dP(e,Vq);let qS=!0,C1,k1;const Yq=e=>{if(qS){C1=new Int32Array(512),k1=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for($h(nP,e.lens,0,288,C1,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;$h(rP,e.lens,0,32,k1,0,e.work,{bits:5}),qS=!1}e.lencode=C1,e.lenbits=9,e.distcode=k1,e.distbits=5},hP=(e,t,n,r)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>r&&(s=r),i.window.set(t.subarray(n-r,n-r+s),i.wnext),r-=s,r?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},Xq=(e,t)=>{let n,r,s,i,o,l,c,u,d,p,m,h,b,v,w=0,y,x,S,k,D,A,R,L;const C=new Uint8Array(4);let M,E;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Lc(e)||!e.output||!e.input&&e.avail_in!==0)return fi;n=e.state,n.mode===Aa&&(n.mode=N1),o=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,r=e.input,l=e.avail_in,u=n.hold,d=n.bits,p=l,m=c,L=_c;e:for(;;)switch(n.mode){case P0:if(n.wrap===0){n.mode=N1;break}for(;d<16;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,C[0]=u&255,C[1]=u>>>8&255,n.check=Nr(n.check,C,2,0),u=0,d=0,n.mode=bS;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=Mn;break}if((u&15)!==wS){e.msg="unknown compression method",n.mode=Mn;break}if(u>>>=4,d-=4,R=(u&15)+8,n.wbits===0&&(n.wbits=R),R>15||R>n.wbits){e.msg="invalid window size",n.mode=Mn;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?AS:Aa,u=0,d=0;break;case bS:for(;d<16;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==wS){e.msg="unknown compression method",n.mode=Mn;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Mn;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(C[0]=u&255,C[1]=u>>>8&255,n.check=Nr(n.check,C,2,0)),u=0,d=0,n.mode=_S;case _S:for(;d<32;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(C[0]=u&255,C[1]=u>>>8&255,C[2]=u>>>16&255,C[3]=u>>>24&255,n.check=Nr(n.check,C,4,0)),u=0,d=0,n.mode=SS;case SS:for(;d<16;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(C[0]=u&255,C[1]=u>>>8&255,n.check=Nr(n.check,C,2,0)),u=0,d=0,n.mode=NS;case NS:if(n.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(C[0]=u&255,C[1]=u>>>8&255,n.check=Nr(n.check,C,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=jS;case jS:if(n.flags&1024&&(h=n.length,h>l&&(h=l),h&&(n.head&&(R=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+h),R)),n.flags&512&&n.wrap&4&&(n.check=Nr(n.check,r,h,i)),l-=h,i+=h,n.length-=h),n.length))break e;n.length=0,n.mode=ES;case ES:if(n.flags&2048){if(l===0)break e;h=0;do R=r[i+h++],n.head&&R&&n.length<65536&&(n.head.name+=String.fromCharCode(R));while(R&&h<l);if(n.flags&512&&n.wrap&4&&(n.check=Nr(n.check,r,h,i)),l-=h,i+=h,R)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=CS;case CS:if(n.flags&4096){if(l===0)break e;h=0;do R=r[i+h++],n.head&&R&&n.length<65536&&(n.head.comment+=String.fromCharCode(R));while(R&&h<l);if(n.flags&512&&n.wrap&4&&(n.check=Nr(n.check,r,h,i)),l-=h,i+=h,R)break e}else n.head&&(n.head.comment=null);n.mode=kS;case kS:if(n.flags&512){for(;d<16;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Mn;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Aa;break;case AS:for(;d<32;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}e.adler=n.check=zS(u),u=0,d=0,n.mode=Eg;case Eg:if(n.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,n.hold=u,n.bits=d,Uq;e.adler=n.check=1,n.mode=Aa;case Aa:if(t===Bq||t===im)break e;case N1:if(n.last){u>>>=d&7,d-=d&7,n.mode=E1;break}for(;d<3;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=PS;break;case 1:if(Yq(n),n.mode=am,t===im){u>>>=2,d-=2;break e}break;case 2:n.mode=TS;break;case 3:e.msg="invalid block type",n.mode=Mn}u>>>=2,d-=2;break;case PS:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Mn;break}if(n.length=u&65535,u=0,d=0,n.mode=j1,t===im)break e;case j1:n.mode=LS;case LS:if(h=n.length,h){if(h>l&&(h=l),h>c&&(h=c),h===0)break e;s.set(r.subarray(i,i+h),o),l-=h,i+=h,c-=h,o+=h,n.length-=h;break}n.mode=Aa;break;case TS:for(;d<14;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Mn;break}n.have=0,n.mode=IS;case IS:for(;n.have<n.ncode;){for(;d<3;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}n.lens[P[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[P[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},L=$h(Fq,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,L){e.msg="invalid code lengths set",n.mode=Mn;break}n.have=0,n.mode=RS;case RS:for(;n.have<n.nlen+n.ndist;){for(;w=n.lencode[u&(1<<n.lenbits)-1],y=w>>>24,x=w>>>16&255,S=w&65535,!(y<=d);){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if(S<16)u>>>=y,d-=y,n.lens[n.have++]=S;else{if(S===16){for(E=y+2;d<E;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if(u>>>=y,d-=y,n.have===0){e.msg="invalid bit length repeat",n.mode=Mn;break}R=n.lens[n.have-1],h=3+(u&3),u>>>=2,d-=2}else if(S===17){for(E=y+3;d<E;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}u>>>=y,d-=y,R=0,h=3+(u&7),u>>>=3,d-=3}else{for(E=y+7;d<E;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}u>>>=y,d-=y,R=0,h=11+(u&127),u>>>=7,d-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Mn;break}for(;h--;)n.lens[n.have++]=R}}if(n.mode===Mn)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Mn;break}if(n.lenbits=9,M={bits:n.lenbits},L=$h(nP,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,L){e.msg="invalid literal/lengths set",n.mode=Mn;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},L=$h(rP,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,L){e.msg="invalid distances set",n.mode=Mn;break}if(n.mode=am,t===im)break e;case am:n.mode=om;case om:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,n.hold=u,n.bits=d,Tq(e,m),o=e.next_out,s=e.output,c=e.avail_out,i=e.next_in,r=e.input,l=e.avail_in,u=n.hold,d=n.bits,n.mode===Aa&&(n.back=-1);break}for(n.back=0;w=n.lencode[u&(1<<n.lenbits)-1],y=w>>>24,x=w>>>16&255,S=w&65535,!(y<=d);){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if(x&&!(x&240)){for(k=y,D=x,A=S;w=n.lencode[A+((u&(1<<k+D)-1)>>k)],y=w>>>24,x=w>>>16&255,S=w&65535,!(k+y<=d);){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}u>>>=k,d-=k,n.back+=k}if(u>>>=y,d-=y,n.back+=y,n.length=S,x===0){n.mode=BS;break}if(x&32){n.back=-1,n.mode=Aa;break}if(x&64){e.msg="invalid literal/length code",n.mode=Mn;break}n.extra=x&15,n.mode=OS;case OS:if(n.extra){for(E=n.extra;d<E;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=DS;case DS:for(;w=n.distcode[u&(1<<n.distbits)-1],y=w>>>24,x=w>>>16&255,S=w&65535,!(y<=d);){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if(!(x&240)){for(k=y,D=x,A=S;w=n.distcode[A+((u&(1<<k+D)-1)>>k)],y=w>>>24,x=w>>>16&255,S=w&65535,!(k+y<=d);){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}u>>>=k,d-=k,n.back+=k}if(u>>>=y,d-=y,n.back+=y,x&64){e.msg="invalid distance code",n.mode=Mn;break}n.offset=S,n.extra=x&15,n.mode=MS;case MS:if(n.extra){for(E=n.extra;d<E;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Mn;break}n.mode=FS;case FS:if(c===0)break e;if(h=m-c,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Mn;break}h>n.wnext?(h-=n.wnext,b=n.wsize-h):b=n.wnext-h,h>n.length&&(h=n.length),v=n.window}else v=s,b=o-n.offset,h=n.length;h>c&&(h=c),c-=h,n.length-=h;do s[o++]=v[b++];while(--h);n.length===0&&(n.mode=om);break;case BS:if(c===0)break e;s[o++]=n.length,c--,n.mode=om;break;case E1:if(n.wrap){for(;d<32;){if(l===0)break e;l--,u|=r[i++]<<d,d+=8}if(m-=c,e.total_out+=m,n.total+=m,n.wrap&4&&m&&(e.adler=n.check=n.flags?Nr(n.check,s,m,o-m):yf(n.check,s,m,o-m)),m=c,n.wrap&4&&(n.flags?u:zS(u))!==n.check){e.msg="incorrect data check",n.mode=Mn;break}u=0,d=0}n.mode=$S;case $S:if(n.wrap&&n.flags){for(;d<32;){if(l===0)break e;l--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Mn;break}u=0,d=0}n.mode=US;case US:L=$q;break e;case Mn:L=sP;break e;case aP:return iP;case oP:default:return fi}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,n.hold=u,n.bits=d,(n.wsize||m!==e.avail_out&&n.mode<Mn&&(n.mode<E1||t!==xS))&&hP(e,e.output,e.next_out,m-e.avail_out),p-=e.avail_in,m-=e.avail_out,e.total_in+=p,e.total_out+=m,n.total+=m,n.wrap&4&&m&&(e.adler=n.check=n.flags?Nr(n.check,s,m,e.next_out-m):yf(n.check,s,m,e.next_out-m)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Aa?128:0)+(n.mode===am||n.mode===j1?256:0),(p===0&&m===0||t===xS)&&L===_c&&(L=zq),L},Jq=e=>{if(Lc(e))return fi;let t=e.state;return t.window&&(t.window=null),e.state=null,_c},Qq=(e,t)=>{if(Lc(e))return fi;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,_c):fi},Zq=(e,t)=>{const n=t.length;let r,s,i;return Lc(e)||(r=e.state,r.wrap!==0&&r.mode!==Eg)?fi:r.mode===Eg&&(s=1,s=yf(s,t,n,0),s!==r.check)?sP:(i=hP(e,t,n,n),i?(r.mode=aP,iP):(r.havedict=1,_c))};var eW=cP,tW=uP,nW=lP,rW=Kq,sW=dP,iW=Xq,aW=Jq,oW=Qq,lW=Zq,cW="pako inflate (from Nodeca project)",Oa={inflateReset:eW,inflateReset2:tW,inflateResetKeep:nW,inflateInit:rW,inflateInit2:sW,inflate:iW,inflateEnd:aW,inflateGetHeader:oW,inflateSetDictionary:lW,inflateInfo:cW};function uW(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var dW=uW;const fP=Object.prototype.toString,{Z_NO_FLUSH:hW,Z_FINISH:fW,Z_OK:bf,Z_STREAM_END:A1,Z_NEED_DICT:P1,Z_STREAM_ERROR:pW,Z_DATA_ERROR:WS,Z_MEM_ERROR:mW}=$f;function zf(e){this.options=A0.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new eP,this.strm.avail_out=0;let n=Oa.inflateInit2(this.strm,t.windowBits);if(n!==bf)throw new Error(rd[n]);if(this.header=new dW,Oa.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=wf.string2buf(t.dictionary):fP.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Oa.inflateSetDictionary(this.strm,t.dictionary),n!==bf)))throw new Error(rd[n])}zf.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?fW:hW,fP.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=Oa.inflate(n,o),i===P1&&s&&(i=Oa.inflateSetDictionary(n,s),i===bf?i=Oa.inflate(n,o):i===WS&&(i=P1));n.avail_in>0&&i===A1&&n.state.wrap>0&&e[n.next_in]!==0;)Oa.inflateReset(n),i=Oa.inflate(n,o);switch(i){case pW:case WS:case P1:case mW:return this.onEnd(i),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||i===A1))if(this.options.to==="string"){let c=wf.utf8border(n.output,n.next_out),u=n.next_out-c,d=wf.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===bf&&l===0)){if(i===A1)return i=Oa.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};zf.prototype.onData=function(e){this.chunks.push(e)};zf.prototype.onEnd=function(e){e===bf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=A0.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Aw(e,t){const n=new zf(t);if(n.push(e),n.err)throw n.msg||rd[n.err];return n.result}function gW(e,t){return t=t||{},t.raw=!0,Aw(e,t)}var vW=zf,yW=Aw,xW=gW,wW=Aw,bW=$f,_W={Inflate:vW,inflate:yW,inflateRaw:xW,ungzip:wW,constants:bW};const{Inflate:SW,inflate:NW,inflateRaw:mK,ungzip:gK}=_W;var HS=SW,jW=NW;const pP=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;pP[e]=t}const VS=4294967295;function EW(e,t,n){let r=e;for(let s=0;s<n;s++)r=pP[(r^t[s])&255]^r>>>8;return r}function CW(e,t){return(EW(VS,e,t)^VS)>>>0}function GS(e,t,n){const r=e.readUint32(),s=CW(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${s}`)}function mP(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function gP(e,t,n,r){let s=0;for(;s<r;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-r]&255}function vP(e,t,n,r){let s=0;if(n.length===0)for(;s<r;s++)t[s]=e[s];else for(;s<r;s++)t[s]=e[s]+n[s]&255}function yP(e,t,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(n[i]>>1)&255;for(;i<r;i++)t[i]=e[i]+(t[i-s]+n[i]>>1)&255}}function xP(e,t,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+n[i]&255;for(;i<r;i++)t[i]=e[i]+kW(t[i-s],n[i],n[i-s])&255}}function kW(e,t,n){const r=e+t-n,s=Math.abs(r-e),i=Math.abs(r-t),o=Math.abs(r-n);return s<=i&&s<=o?e:i<=o?t:n}function AW(e,t,n,r,s,i){switch(e){case 0:mP(t,n,s);break;case 1:gP(t,n,s,i);break;case 2:vP(t,n,r,s);break;case 3:yP(t,n,r,s,i);break;case 4:xP(t,n,r,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const PW=new Uint16Array([255]),LW=new Uint8Array(PW.buffer),TW=LW[0]===255;function IW(e){const{data:t,width:n,height:r,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,c=new Uint8Array(r*n*l);let u=0;for(let d=0;d<7;d++){const p=o[d],m=Math.ceil((n-p.x)/p.xStep),h=Math.ceil((r-p.y)/p.yStep);if(m<=0||h<=0)continue;const b=m*l,v=new Uint8Array(b);for(let w=0;w<h;w++){const y=t[u++],x=t.subarray(u,u+b);u+=b;const S=new Uint8Array(b);AW(y,x,S,v,b,l),v.set(S);for(let k=0;k<m;k++){const D=p.x+k*p.xStep,A=p.y+w*p.yStep;if(!(D>=n||A>=r))for(let R=0;R<l;R++)c[(A*n+D)*l+R]=S[k*l+R]}}}if(i===16){const d=new Uint16Array(c.buffer);if(TW)for(let p=0;p<d.length;p++)d[p]=RW(d[p]);return d}else return c}function RW(e){return(e&255)<<8|e>>8&255}const OW=new Uint16Array([255]),DW=new Uint8Array(OW.buffer),MW=DW[0]===255,FW=new Uint8Array(0);function KS(e){const{data:t,width:n,height:r,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*n),c=new Uint8Array(r*l);let u=FW,d=0,p,m;for(let h=0;h<r;h++){switch(p=t.subarray(d+1,d+1+l),m=c.subarray(h*l,(h+1)*l),t[d]){case 0:mP(p,m,l);break;case 1:gP(p,m,l,o);break;case 2:vP(p,m,u,l);break;case 3:yP(p,m,u,l,o);break;case 4:xP(p,m,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=m,d+=l+1}if(i===16){const h=new Uint16Array(c.buffer);if(MW)for(let b=0;b<h.length;b++)h[b]=BW(h[b]);return h}else return c}function BW(e){return(e&255)<<8|e>>8&255}const Tm=Uint8Array.of(137,80,78,71,13,10,26,10);function YS(e){if(!$W(e.readBytes(Tm.length)))throw new Error("wrong PNG signature")}function $W(e){if(e.length<Tm.length)return!1;for(let t=0;t<Tm.length;t++)if(e[t]!==Tm[t])return!1;return!0}const UW="tEXt",zW=0,wP=new TextDecoder("latin1");function qW(e){if(HW(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const WW=/^[\u0000-\u00FF]*$/;function HW(e){if(!WW.test(e))throw new Error("invalid latin1 text")}function VW(e,t,n){const r=bP(t);e[r]=GW(t,n-r.length-1)}function bP(e){for(e.mark();e.readByte()!==zW;);const t=e.offset;e.reset();const n=wP.decode(e.readBytes(t-e.offset-1));return e.skip(1),qW(n),n}function GW(e,t){return wP.decode(e.readBytes(t))}const Ds={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},L1={UNKNOWN:-1,DEFLATE:0},XS={UNKNOWN:-1,ADAPTIVE:0},T1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},lm={NONE:0,BACKGROUND:1,PREVIOUS:2},I1={SOURCE:0,OVER:1};class KW extends _w{constructor(n,r={}){super(n);dn(this,"_checkCrc");dn(this,"_inflator");dn(this,"_png");dn(this,"_apng");dn(this,"_end");dn(this,"_hasPalette");dn(this,"_palette");dn(this,"_hasTransparency");dn(this,"_transparency");dn(this,"_compressionMethod");dn(this,"_filterMethod");dn(this,"_interlaceMethod");dn(this,"_colorType");dn(this,"_isAnimated");dn(this,"_numberOfFrames");dn(this,"_numberOfPlays");dn(this,"_frames");dn(this,"_writingDataChunks");const{checkCrc:s=!1}=r;this._checkCrc=s,this._inflator=new HS,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=L1.UNKNOWN,this._filterMethod=XS.UNKNOWN,this._interlaceMethod=T1.UNKNOWN,this._colorType=Ds.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(YS(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(YS(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const s=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case UW:VW(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?GS(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const s=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=s+n;break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?GS(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=YW(this.readUint8());const r=this.readUint8();this._colorType=r;let s;switch(r){case Ds.GREYSCALE:s=1;break;case Ds.TRUECOLOUR:s=3;break;case Ds.INDEXED_COLOUR:s=1;break;case Ds.GREYSCALE_ALPHA:s=2;break;case Ds.TRUECOLOUR_ALPHA:s=4;break;case Ds.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==L1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<r;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,s=this.offset+this.byteOffset;if(s+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Ds.GREYSCALE:case Ds.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Ds.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const s=this.readByte();this._palette[r].push(s)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ds.UNKNOWN:case Ds.GREYSCALE_ALPHA:case Ds.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=bP(this),s=this.readUint8();if(s!==L1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:jW(i)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),s=this.readByte();this._png.resolution={x:n,y:r,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(n);if(s){if(s.data=KS({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)r.data=s.data;else{const i=this._apng.frames.at(n-1);this.disposeFrame(s,i,r),this.addFrameDataToCanvas(r,s)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,s){switch(n.disposeOp){case lm.NONE:break;case lm.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*n.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[l+c]=0}break;case lm.PREVIOUS:s.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const s=1<<this._png.depth,i=(o,l)=>{const c=((o+r.yOffset)*this._png.width+r.xOffset+l)*this._png.channels,u=(o*r.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(r.blendOp){case I1.SOURCE:for(let o=0;o<r.height;o++)for(let l=0;l<r.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let d=0;d<this._png.channels;d++)n.data[c+d]=r.data[u+d]}break;case I1.OVER:for(let o=0;o<r.height;o++)for(let l=0;l<r.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let d=0;d<this._png.channels;d++){const p=r.data[u+this._png.channels-1]/s,m=d%(this._png.channels-1)===0?1:r.data[u+d],h=Math.floor(p*m+(1-p)*n.data[c+d]);n.data[c+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==XS.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===T1.NO_INTERLACE)this._png.data=KS({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===T1.ADAM7)this._png.data=IW({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:lm.NONE,blendOp:I1.SOURCE,data:n}),this._inflator=new HS,this._writingDataChunks=!1}}function YW(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var JS;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(JS||(JS={}));function XW(e,t){return new KW(e,t).decode()}var jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function R1(){jt.console&&typeof jt.console.log=="function"&&jt.console.log.apply(jt.console,arguments)}var Sn={log:R1,warn:function(e){jt.console&&(typeof jt.console.warn=="function"?jt.console.warn.apply(jt.console,arguments):R1.call(null,arguments))},error:function(e){jt.console&&(typeof jt.console.error=="function"?jt.console.error.apply(jt.console,arguments):R1(e))}};function O1(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){ql(r.response,t,n)},r.onerror=function(){Sn.error("could not download file")},r.send()}function QS(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function cm(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var ql=jt.saveAs||((typeof window>"u"?"undefined":fn(window))!=="object"||window!==jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=jt.URL||jt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?QS(s.href)?O1(e,t,n):cm(s,s.target="_blank"):cm(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){cm(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(QS(e))O1(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){cm(r)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:fn(i)!=="object"&&(Sn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return O1(e,t,n);var s=e.type==="application/octet-stream",i=/constructor/i.test(jt.HTMLElement)||jt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":fn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},l.readAsDataURL(e)}else{var c=jt.URL||jt.webkitURL,u=c.createObjectURL(e);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function _P(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var Im=jt.atob.bind(jt),ZS=jt.btoa.bind(jt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function D1(e,t){var n=e[0],r=e[1],s=e[2],i=e[3];n=zr(n,r,s,i,t[0],7,-680876936),i=zr(i,n,r,s,t[1],12,-389564586),s=zr(s,i,n,r,t[2],17,606105819),r=zr(r,s,i,n,t[3],22,-1044525330),n=zr(n,r,s,i,t[4],7,-176418897),i=zr(i,n,r,s,t[5],12,1200080426),s=zr(s,i,n,r,t[6],17,-1473231341),r=zr(r,s,i,n,t[7],22,-45705983),n=zr(n,r,s,i,t[8],7,1770035416),i=zr(i,n,r,s,t[9],12,-1958414417),s=zr(s,i,n,r,t[10],17,-42063),r=zr(r,s,i,n,t[11],22,-1990404162),n=zr(n,r,s,i,t[12],7,1804603682),i=zr(i,n,r,s,t[13],12,-40341101),s=zr(s,i,n,r,t[14],17,-1502002290),n=qr(n,r=zr(r,s,i,n,t[15],22,1236535329),s,i,t[1],5,-165796510),i=qr(i,n,r,s,t[6],9,-1069501632),s=qr(s,i,n,r,t[11],14,643717713),r=qr(r,s,i,n,t[0],20,-373897302),n=qr(n,r,s,i,t[5],5,-701558691),i=qr(i,n,r,s,t[10],9,38016083),s=qr(s,i,n,r,t[15],14,-660478335),r=qr(r,s,i,n,t[4],20,-405537848),n=qr(n,r,s,i,t[9],5,568446438),i=qr(i,n,r,s,t[14],9,-1019803690),s=qr(s,i,n,r,t[3],14,-187363961),r=qr(r,s,i,n,t[8],20,1163531501),n=qr(n,r,s,i,t[13],5,-1444681467),i=qr(i,n,r,s,t[2],9,-51403784),s=qr(s,i,n,r,t[7],14,1735328473),n=Wr(n,r=qr(r,s,i,n,t[12],20,-1926607734),s,i,t[5],4,-378558),i=Wr(i,n,r,s,t[8],11,-2022574463),s=Wr(s,i,n,r,t[11],16,1839030562),r=Wr(r,s,i,n,t[14],23,-35309556),n=Wr(n,r,s,i,t[1],4,-1530992060),i=Wr(i,n,r,s,t[4],11,1272893353),s=Wr(s,i,n,r,t[7],16,-155497632),r=Wr(r,s,i,n,t[10],23,-1094730640),n=Wr(n,r,s,i,t[13],4,681279174),i=Wr(i,n,r,s,t[0],11,-358537222),s=Wr(s,i,n,r,t[3],16,-722521979),r=Wr(r,s,i,n,t[6],23,76029189),n=Wr(n,r,s,i,t[9],4,-640364487),i=Wr(i,n,r,s,t[12],11,-421815835),s=Wr(s,i,n,r,t[15],16,530742520),n=Hr(n,r=Wr(r,s,i,n,t[2],23,-995338651),s,i,t[0],6,-198630844),i=Hr(i,n,r,s,t[7],10,1126891415),s=Hr(s,i,n,r,t[14],15,-1416354905),r=Hr(r,s,i,n,t[5],21,-57434055),n=Hr(n,r,s,i,t[12],6,1700485571),i=Hr(i,n,r,s,t[3],10,-1894986606),s=Hr(s,i,n,r,t[10],15,-1051523),r=Hr(r,s,i,n,t[1],21,-2054922799),n=Hr(n,r,s,i,t[8],6,1873313359),i=Hr(i,n,r,s,t[15],10,-30611744),s=Hr(s,i,n,r,t[6],15,-1560198380),r=Hr(r,s,i,n,t[13],21,1309151649),n=Hr(n,r,s,i,t[4],6,-145523070),i=Hr(i,n,r,s,t[11],10,-1120210379),s=Hr(s,i,n,r,t[2],15,718787259),r=Hr(r,s,i,n,t[9],21,-343485551),e[0]=Ho(n,e[0]),e[1]=Ho(r,e[1]),e[2]=Ho(s,e[2]),e[3]=Ho(i,e[3])}function L0(e,t,n,r,s,i){return t=Ho(Ho(t,e),Ho(r,i)),Ho(t<<s|t>>>32-s,n)}function zr(e,t,n,r,s,i,o){return L0(t&n|~t&r,e,t,s,i,o)}function qr(e,t,n,r,s,i,o){return L0(t&r|n&~r,e,t,s,i,o)}function Wr(e,t,n,r,s,i,o){return L0(t^n^r,e,t,s,i,o)}function Hr(e,t,n,r,s,i,o){return L0(n^(t|~r),e,t,s,i,o)}function SP(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)D1(r,JW(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(D1(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,D1(r,s),r}function JW(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var eN="0123456789abcdef".split("");function QW(e){for(var t="",n=0;n<4;n++)t+=eN[e>>8*n+4&15]+eN[e>>8*n&15];return t}function ZW(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function O2(e){return SP(e).map(ZW).join("")}var eH=function(e){for(var t=0;t<e.length;t++)e[t]=QW(e[t]);return e.join("")}(SP("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ho(e,t){if(eH){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function D2(e,t){var n,r,s,i;if(e!==n){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}n=e,r=l}else l=r;var p=t.length,m=0,h=0,b="";for(c=0;c<p;c++)h=(h+(d=l[m=(m+1)%256]))%256,l[m]=l[h],l[h]=d,o=l[(l[m]+l[h])%256],b+=String.fromCharCode(t.charCodeAt(c)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var tN={print:4,modify:8,copy:16,"annot-forms":32};function ou(e,t,n,r){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(tN.perm!==void 0)throw new Error("Invalid permission: "+l);s+=tN[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=O2(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=D2(this.encryptionKey,this.padding)}function lu(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var s=e.charCodeAt(r);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[r]}return t}function nN(e){if(fn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var i=Math.random().toString(35);return t[n][i]=[r,!!s],i},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[n]){var o=t[n][i];try{o[0].apply(e,r)}catch(l){jt.console&&Sn.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Cg(e){if(!(this instanceof Cg))return new Cg(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function NP(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Vl(e,t,n,r,s){if(!(this instanceof Vl))return new Vl(e,t,n,r,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,NP.call(this,r,s)}function bu(e,t,n,r,s){if(!(this instanceof bu))return new bu(e,t,n,r,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,NP.call(this,r,s)}function dt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",d=null;fn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,s=e.format||s,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=nN;var b="1.3",v=h.__private__.getPdfVersion=function(){return b};h.__private__.setPdfVersion=function(N){b=N};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return w};var y=h.__private__.getPageFormat=function(N){return w[N]};s=s||"a4";var x="compat",S="advanced",k=x;function D(){this.saveGraphicsState(),J(new Je(He,0,0,-He,0,El()*He).toString()+" cm"),this.setFontSize(this.getFontSize()/He),u="n",k=S}function A(){this.restoreGraphicsState(),u="S",k=x}var R=h.__private__.combineFontStyleAndFontWeight=function(N,F){if(N=="bold"&&F=="normal"||N=="bold"&&F==400||N=="normal"&&F=="italic"||N=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(N=F==400||F==="normal"?N==="italic"?"italic":"normal":F!=700&&F!=="bold"||N!=="normal"?(F==700?"bold":F)+""+N:"bold"),N};h.advancedAPI=function(N){var F=k===x;return F&&D.call(this),typeof N!="function"||(N(this),F&&A.call(this)),this},h.compatAPI=function(N){var F=k===S;return F&&A.call(this),typeof N!="function"||(N(this),F&&D.call(this)),this},h.isAdvancedAPI=function(){return k===S};var L,C=function(N){if(k!==S)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=h.roundToPrecision=h.__private__.roundToPrecision=function(N,F){var se=t||F;if(isNaN(N)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(se).replace(/0+$/,"")};L=h.hpf=h.__private__.hpf=typeof c=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return M(N,c)}:c==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return M(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return M(N,16)};var E=h.f2=h.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return M(N,2)},P=h.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return M(N,3)},z=h.scale=h.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return k===x?N*He:k===S?N:void 0},$=function(N){return z(function(F){return k===x?El()-F:k===S?F:void 0}(N))};h.__private__.setPrecision=h.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(t=parseInt(N,10))};var Z,ie="00000000000000000000000000000000",te=h.__private__.getFileId=function(){return ie},V=h.__private__.setFileId=function(N){return ie=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(er=new ou(d.userPermissions,d.userPassword,d.ownerPassword,ie)),ie};h.setFileId=function(N){return V(N),this},h.getFileId=function(){return te()};var G=h.__private__.convertDateToPDFDate=function(N){var F=N.getTimezoneOffset(),se=F<0?"+":"-",ce=Math.floor(Math.abs(F/60)),me=Math.abs(F%60),Ae=[se,U(ce),"'",U(me),"'"].join("");return["D:",N.getFullYear(),U(N.getMonth()+1),U(N.getDate()),U(N.getHours()),U(N.getMinutes()),U(N.getSeconds()),Ae].join("")},oe=h.__private__.convertPDFDateToDate=function(N){var F=parseInt(N.substr(2,4),10),se=parseInt(N.substr(6,2),10)-1,ce=parseInt(N.substr(8,2),10),me=parseInt(N.substr(10,2),10),Ae=parseInt(N.substr(12,2),10),Me=parseInt(N.substr(14,2),10);return new Date(F,se,ce,me,Ae,Me,0)},ae=h.__private__.setCreationDate=function(N){var F;if(N===void 0&&(N=new Date),N instanceof Date)F=G(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=N}return Z=F},O=h.__private__.getCreationDate=function(N){var F=Z;return N==="jsDate"&&(F=oe(Z)),F};h.setCreationDate=function(N){return ae(N),this},h.getCreationDate=function(N){return O(N)};var T,U=h.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},W=h.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},Q=0,Y=[],le=[],ue=0,pe=[],de=[],ye=!1,Te=le;h.__private__.setCustomOutputDestination=function(N){ye=!0,Te=N};var _e=function(N){ye||(Te=N)};h.__private__.resetCustomOutputDestination=function(){ye=!1,Te=le};var J=h.__private__.out=function(N){return N=N.toString(),ue+=N.length+1,Te.push(N),Te},at=h.__private__.write=function(N){return J(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},ee=h.__private__.getArrayBuffer=function(N){for(var F=N.length,se=new ArrayBuffer(F),ce=new Uint8Array(se);F--;)ce[F]=N.charCodeAt(F);return se},Se=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Se};var ge=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(N){return ge=k===S?N/He:N,this};var je,ve=h.__private__.getFontSize=h.getFontSize=function(){return k===x?ge:ge*He},Ne=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(N){return Ne=N,this},h.__private__.getR2L=h.getR2L=function(){return Ne};var Ee,et=h.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))je=N;else if(isNaN(N)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');je=N}else je=parseInt(N,10)};h.__private__.getZoomMode=function(){return je};var Fe,Ye=h.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');Ee=N};h.__private__.getPageMode=function(){return Ee};var ht=h.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');Fe=N};h.__private__.getLayoutMode=function(){return Fe},h.__private__.setDisplayMode=h.setDisplayMode=function(N,F,se){return et(N),ht(F),Ye(se),this};var ft={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(N){if(Object.keys(ft).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ft[N]},h.__private__.getDocumentProperties=function(){return ft},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(N){for(var F in ft)ft.hasOwnProperty(F)&&N[F]&&(ft[F]=N[F]);return this},h.__private__.setDocumentProperty=function(N,F){if(Object.keys(ft).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ft[N]=F};var Qe,He,Ie,Ze,At,Xe={},ut={},St=[],Ke={},vt={},nt={},Ut={},Vt=null,Dt=0,ot=[],Ct=new nN(h),yt=e.hotfixes||[],Nt={},bt={},Ot=[],Je=function N(F,se,ce,me,Ae,Me){if(!(this instanceof N))return new N(F,se,ce,me,Ae,Me);isNaN(F)&&(F=1),isNaN(se)&&(se=0),isNaN(ce)&&(ce=0),isNaN(me)&&(me=1),isNaN(Ae)&&(Ae=0),isNaN(Me)&&(Me=0),this._matrix=[F,se,ce,me,Ae,Me]};Object.defineProperty(Je.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Je.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Je.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Je.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Je.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Je.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Je.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Je.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Je.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Je.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Je.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Je.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Je.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Je.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Je.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Je.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Je.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(N)},Je.prototype.multiply=function(N){var F=N.sx*this.sx+N.shy*this.shx,se=N.sx*this.shy+N.shy*this.sy,ce=N.shx*this.sx+N.sy*this.shx,me=N.shx*this.shy+N.sy*this.sy,Ae=N.tx*this.sx+N.ty*this.shx+this.tx,Me=N.tx*this.shy+N.ty*this.sy+this.ty;return new Je(F,se,ce,me,Ae,Me)},Je.prototype.decompose=function(){var N=this.sx,F=this.shy,se=this.shx,ce=this.sy,me=this.tx,Ae=this.ty,Me=Math.sqrt(N*N+F*F),it=(N/=Me)*se+(F/=Me)*ce;se-=N*it,ce-=F*it;var pt=Math.sqrt(se*se+ce*ce);return it/=pt,N*(ce/=pt)<F*(se/=pt)&&(N=-N,F=-F,it=-it,Me=-Me),{scale:new Je(Me,0,0,pt,0,0),translate:new Je(1,0,0,1,me,Ae),rotate:new Je(N,F,-F,N,0,0),skew:new Je(1,0,it,1,0,0)}},Je.prototype.toString=function(N){return this.join(" ")},Je.prototype.inversed=function(){var N=this.sx,F=this.shy,se=this.shx,ce=this.sy,me=this.tx,Ae=this.ty,Me=1/(N*ce-F*se),it=ce*Me,pt=-F*Me,Et=-se*Me,Pt=N*Me;return new Je(it,pt,Et,Pt,-it*me-Et*Ae,-pt*me-Pt*Ae)},Je.prototype.applyToPoint=function(N){var F=N.x*this.sx+N.y*this.shx+this.tx,se=N.x*this.shy+N.y*this.sy+this.ty;return new Nl(F,se)},Je.prototype.applyToRectangle=function(N){var F=this.applyToPoint(N),se=this.applyToPoint(new Nl(N.x+N.w,N.y+N.h));return new Id(F.x,F.y,se.x-F.x,se.y-F.y)},Je.prototype.clone=function(){var N=this.sx,F=this.shy,se=this.shx,ce=this.sy,me=this.tx,Ae=this.ty;return new Je(N,F,se,ce,me,Ae)},h.Matrix=Je;var nn=h.matrixMult=function(N,F){return F.multiply(N)},jn=new Je(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=jn;var an=function(N,F){if(!vt[N]){var se=(F instanceof Vl?"Sh":"P")+(Object.keys(Ke).length+1).toString(10);F.id=se,vt[N]=se,Ke[se]=F,Ct.publish("addPattern",F)}};h.ShadingPattern=Vl,h.TilingPattern=bu,h.addShadingPattern=function(N,F){return C("addShadingPattern()"),an(N,F),this},h.beginTilingPattern=function(N){C("beginTilingPattern()"),Rd(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},h.endTilingPattern=function(N,F){C("endTilingPattern()"),F.stream=de[T].join(`
`),an(N,F),Ct.publish("endTilingPattern",F),Ot.pop().restore()};var wn,ln=h.__private__.newObject=function(){var N=zn();return En(N,!0),N},zn=h.__private__.newObjectDeferred=function(){return Q++,Y[Q]=function(){return ue},Q},En=function(N,F){return F=typeof F=="boolean"&&F,Y[N]=ue,F&&J(N+" 0 obj"),N},Qr=h.__private__.newAdditionalObject=function(){var N={objId:zn(),content:""};return pe.push(N),N},us=zn(),Dn=zn(),ds=h.__private__.decodeColorString=function(N){var F=N.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length!==5||F[4]!=="k"&&F[4]!=="K"||(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var se=parseFloat(F[0]);F=[se,se,se,"r"]}for(var ce="#",me=0;me<3;me++)ce+=("0"+Math.floor(255*parseFloat(F[me])).toString(16)).slice(-2);return ce},hs=h.__private__.encodeColorString=function(N){var F;typeof N=="string"&&(N={ch1:N});var se=N.ch1,ce=N.ch2,me=N.ch3,Ae=N.ch4,Me=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var it=new _P(se);if(it.ok)se=it.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var pt=parseInt(se.substr(1),16);se=pt>>16&255,ce=pt>>8&255,me=255&pt}if(ce===void 0||Ae===void 0&&se===ce&&ce===me)F=typeof se=="string"?se+" "+Me[0]:N.precision===2?E(se/255)+" "+Me[0]:P(se/255)+" "+Me[0];else if(Ae===void 0||fn(Ae)==="object"){if(Ae&&!isNaN(Ae.a)&&Ae.a===0)return["1.","1.","1.",Me[1]].join(" ");F=typeof se=="string"?[se,ce,me,Me[1]].join(" "):N.precision===2?[E(se/255),E(ce/255),E(me/255),Me[1]].join(" "):[P(se/255),P(ce/255),P(me/255),Me[1]].join(" ")}else F=typeof se=="string"?[se,ce,me,Ae,Me[2]].join(" "):N.precision===2?[E(se),E(ce),E(me),E(Ae),Me[2]].join(" "):[P(se),P(ce),P(me),P(Ae),Me[2]].join(" ");return F},Cs=h.__private__.getFilters=function(){return o},fs=h.__private__.putStream=function(N){var F=(N=N||{}).data||"",se=N.filters||Cs(),ce=N.alreadyAppliedFilters||[],me=N.addLength1||!1,Ae=F.length,Me=N.objectId,it=function(gr){return gr};if(d!==null&&Me===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(it=er.encryptor(Me,0));var pt={};se===!0&&(se=["FlateEncode"]);var Et=N.additionalKeyValues||[],Pt=(pt=dt.API.processDataByFilters!==void 0?dt.API.processDataByFilters(F,se):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(pt.data.length!==0&&(Et.push({key:"Length",value:pt.data.length}),me===!0&&Et.push({key:"Length1",value:Ae})),Pt.length!=0)if(Pt.split("/").length-1==1)Et.push({key:"Filter",value:Pt});else{Et.push({key:"Filter",value:"["+Pt+"]"});for(var rn=0;rn<Et.length;rn+=1)if(Et[rn].key==="DecodeParms"){for(var qn=[],ur=0;ur<pt.reverseChain.split("/").length-1;ur+=1)qn.push("null");qn.push(Et[rn].value),Et[rn].value="["+qn.join(" ")+"]"}}J("<<");for(var Cn=0;Cn<Et.length;Cn++)J("/"+Et[Cn].key+" "+Et[Cn].value);J(">>"),pt.data.length!==0&&(J("stream"),J(it(pt.data)),J("endstream"))},$i=h.__private__.putPage=function(N){var F=N.number,se=N.data,ce=N.objId,me=N.contentsObjId;En(ce,!0),J("<</Type /Page"),J("/Parent "+N.rootDictionaryObjId+" 0 R"),J("/Resources "+N.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(L(N.mediaBox.bottomLeftX))+" "+parseFloat(L(N.mediaBox.bottomLeftY))+" "+L(N.mediaBox.topRightX)+" "+L(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&J("/CropBox ["+L(N.cropBox.bottomLeftX)+" "+L(N.cropBox.bottomLeftY)+" "+L(N.cropBox.topRightX)+" "+L(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&J("/BleedBox ["+L(N.bleedBox.bottomLeftX)+" "+L(N.bleedBox.bottomLeftY)+" "+L(N.bleedBox.topRightX)+" "+L(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&J("/TrimBox ["+L(N.trimBox.bottomLeftX)+" "+L(N.trimBox.bottomLeftY)+" "+L(N.trimBox.topRightX)+" "+L(N.trimBox.topRightY)+"]"),N.artBox!==null&&J("/ArtBox ["+L(N.artBox.bottomLeftX)+" "+L(N.artBox.bottomLeftY)+" "+L(N.artBox.topRightX)+" "+L(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&J("/UserUnit "+N.userUnit),Ct.publish("putPage",{objId:ce,pageContext:ot[F],pageNumber:F,page:se}),J("/Contents "+me+" 0 R"),J(">>"),J("endobj");var Ae=se.join(`
`);return k===S&&(Ae+=`
Q`),En(me,!0),fs({data:Ae,filters:Cs(),objectId:me}),J("endobj"),ce},Xs=h.__private__.putPages=function(){var N,F,se=[];for(N=1;N<=Dt;N++)ot[N].objId=zn(),ot[N].contentsObjId=zn();for(N=1;N<=Dt;N++)se.push($i({number:N,data:de[N],objId:ot[N].objId,contentsObjId:ot[N].contentsObjId,mediaBox:ot[N].mediaBox,cropBox:ot[N].cropBox,bleedBox:ot[N].bleedBox,trimBox:ot[N].trimBox,artBox:ot[N].artBox,userUnit:ot[N].userUnit,rootDictionaryObjId:us,resourceDictionaryObjId:Dn}));En(us,!0),J("<</Type /Pages");var ce="/Kids [";for(F=0;F<Dt;F++)ce+=se[F]+" 0 R ";J(ce+"]"),J("/Count "+Dt),J(">>"),J("endobj"),Ct.publish("postPutPages")},ma=function(N){Ct.publish("putFont",{font:N,out:J,newObject:ln,putStream:fs}),N.isAlreadyPutted!==!0&&(N.objectNumber=ln(),J("<<"),J("/Type /Font"),J("/BaseFont /"+lu(N.postScriptName)),J("/Subtype /Type1"),typeof N.encoding=="string"&&J("/Encoding /"+N.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Za=function(N){N.objectNumber=ln();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[L(N.x),L(N.y),L(N.x+N.width),L(N.y+N.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var se=N.pages[1].join(`
`);fs({data:se,additionalKeyValues:F,objectId:N.objectNumber}),J("endobj")},Ic=function(N,F){F||(F=21);var se=ln(),ce=function(Me,it){var pt,Et=[],Pt=1/(it-1);for(pt=0;pt<1;pt+=Pt)Et.push(pt);if(Et.push(1),Me[0].offset!=0){var rn={offset:0,color:Me[0].color};Me.unshift(rn)}if(Me[Me.length-1].offset!=1){var qn={offset:1,color:Me[Me.length-1].color};Me.push(qn)}for(var ur="",Cn=0,gr=0;gr<Et.length;gr++){for(pt=Et[gr];pt>Me[Cn+1].offset;)Cn++;var dr=Me[Cn].offset,kr=(pt-dr)/(Me[Cn+1].offset-dr),Qs=Me[Cn].color,ps=Me[Cn+1].color;ur+=W(Math.round((1-kr)*Qs[0]+kr*ps[0]).toString(16))+W(Math.round((1-kr)*Qs[1]+kr*ps[1]).toString(16))+W(Math.round((1-kr)*Qs[2]+kr*ps[2]).toString(16))}return ur.trim()}(N.colors,F),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+F+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fs({data:ce,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),J("endobj"),N.objectNumber=ln(),J("<< /ShadingType "+N.type),J("/ColorSpace /DeviceRGB");var Ae="/Coords ["+L(parseFloat(N.coords[0]))+" "+L(parseFloat(N.coords[1]))+" ";N.type===2?Ae+=L(parseFloat(N.coords[2]))+" "+L(parseFloat(N.coords[3])):Ae+=L(parseFloat(N.coords[2]))+" "+L(parseFloat(N.coords[3]))+" "+L(parseFloat(N.coords[4]))+" "+L(parseFloat(N.coords[5])),J(Ae+="]"),N.matrix&&J("/Matrix ["+N.matrix.toString()+"]"),J("/Function "+se+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Rc=function(N,F){var se=zn(),ce=ln();F.push({resourcesOid:se,objectOid:ce}),N.objectNumber=ce;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+N.boundingBox.map(L).join(" ")+"]"}),me.push({key:"XStep",value:L(N.xStep)}),me.push({key:"YStep",value:L(N.yStep)}),me.push({key:"Resources",value:se+" 0 R"}),N.matrix&&me.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),fs({data:N.stream,additionalKeyValues:me,objectId:N.objectNumber}),J("endobj")},D0=function(N){for(var F in N.objectNumber=ln(),J("<<"),N)switch(F){case"opacity":J("/ca "+E(N[F]));break;case"stroke-opacity":J("/CA "+E(N[F]))}J(">>"),J("endobj")},Sd=function(N){En(N.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var F in J("/Font <<"),Xe)Xe.hasOwnProperty(F)&&(p===!1||p===!0&&m.hasOwnProperty(F))&&J("/"+F+" "+Xe[F].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(Ke).length>0){for(var F in J("/Shading <<"),Ke)Ke.hasOwnProperty(F)&&Ke[F]instanceof Vl&&Ke[F].objectNumber>=0&&J("/"+F+" "+Ke[F].objectNumber+" 0 R");Ct.publish("putShadingPatternDict"),J(">>")}}(),function(F){if(Object.keys(Ke).length>0){for(var se in J("/Pattern <<"),Ke)Ke.hasOwnProperty(se)&&Ke[se]instanceof h.TilingPattern&&Ke[se].objectNumber>=0&&Ke[se].objectNumber<F&&J("/"+se+" "+Ke[se].objectNumber+" 0 R");Ct.publish("putTilingPatternDict"),J(">>")}}(N.objectOid),function(){if(Object.keys(nt).length>0){var F;for(F in J("/ExtGState <<"),nt)nt.hasOwnProperty(F)&&nt[F].objectNumber>=0&&J("/"+F+" "+nt[F].objectNumber+" 0 R");Ct.publish("putGStateDict"),J(">>")}}(),function(){for(var F in J("/XObject <<"),Nt)Nt.hasOwnProperty(F)&&Nt[F].objectNumber>=0&&J("/"+F+" "+Nt[F].objectNumber+" 0 R");Ct.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},Vf=function(N){ut[N.fontName]=ut[N.fontName]||{},ut[N.fontName][N.fontStyle]=N.id},Gf=function(N,F,se,ce,me){var Ae={id:"F"+(Object.keys(Xe).length+1).toString(10),postScriptName:N,fontName:F,fontStyle:se,encoding:ce,isStandardFont:me||!1,metadata:{}};return Ct.publish("addFont",{font:Ae,instance:this}),Xe[Ae.id]=Ae,Vf(Ae),Ae.id},Js=h.__private__.pdfEscape=h.pdfEscape=function(N,F){return function(se,ce){var me,Ae,Me,it,pt,Et,Pt,rn,qn;if(Me=(ce=ce||{}).sourceEncoding||"Unicode",pt=ce.outputEncoding,(ce.autoencode||pt)&&Xe[Qe].metadata&&Xe[Qe].metadata[Me]&&Xe[Qe].metadata[Me].encoding&&(it=Xe[Qe].metadata[Me].encoding,!pt&&Xe[Qe].encoding&&(pt=Xe[Qe].encoding),!pt&&it.codePages&&(pt=it.codePages[0]),typeof pt=="string"&&(pt=it[pt]),pt)){for(Pt=!1,Et=[],me=0,Ae=se.length;me<Ae;me++)(rn=pt[se.charCodeAt(me)])?Et.push(String.fromCharCode(rn)):Et.push(se[me]),Et[me].charCodeAt(0)>>8&&(Pt=!0);se=Et.join("")}for(me=se.length;Pt===void 0&&me!==0;)se.charCodeAt(me-1)>>8&&(Pt=!0),me--;if(!Pt)return se;for(Et=ce.noBOM?[]:[254,255],me=0,Ae=se.length;me<Ae;me++){if((qn=(rn=se.charCodeAt(me))>>8)>>8)throw new Error("Character at position "+me+" of string '"+se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Et.push(qn),Et.push(rn-(qn<<8))}return String.fromCharCode.apply(void 0,Et)}(N,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nd=h.__private__.beginPage=function(N){de[++Dt]=[],ot[Dt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},Yf(Dt),_e(de[T])},Kf=function(N,F){var se,ce,me;switch(n=F||n,typeof N=="string"&&(se=y(N.toLowerCase()),Array.isArray(se)&&(ce=se[0],me=se[1])),Array.isArray(N)&&(ce=N[0]*He,me=N[1]*He),isNaN(ce)&&(ce=s[0],me=s[1]),(ce>14400||me>14400)&&(Sn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),me=Math.min(14400,me)),s=[ce,me],n.substr(0,1)){case"l":me>ce&&(s=[me,ce]);break;case"p":ce>me&&(s=[me,ce])}Nd(s),H0(Ad),J(Dc),Ld!==0&&J(Ld+" J"),Td!==0&&J(Td+" j"),Ct.publish("addPage",{pageNumber:Dt})},jd=function(N){N>0&&N<=Dt&&(de.splice(N,1),ot.splice(N,1),Dt--,T>Dt&&(T=Dt),this.setPage(T))},Yf=function(N){N>0&&N<=Dt&&(T=N)},Xf=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return de.length-1},Jf=function(N,F,se){var ce,me=void 0;return se=se||{},N=N!==void 0?N:Xe[Qe].fontName,F=F!==void 0?F:Xe[Qe].fontStyle,ce=N.toLowerCase(),ut[ce]!==void 0&&ut[ce][F]!==void 0?me=ut[ce][F]:ut[N]!==void 0&&ut[N][F]!==void 0?me=ut[N][F]:se.disableWarning===!1&&Sn.warn("Unable to look up font label for font '"+N+"', '"+F+"'. Refer to getFontList() for available fonts."),me||se.noFallback||(me=ut.times[F])==null&&(me=ut.times.normal),me},Oc=h.__private__.putInfo=function(){var N=ln(),F=function(ce){return ce};for(var se in d!==null&&(F=er.encryptor(N,0)),J("<<"),J("/Producer ("+Js(F("jsPDF "+dt.version))+")"),ft)ft.hasOwnProperty(se)&&ft[se]&&J("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+Js(F(ft[se]))+")");J("/CreationDate ("+Js(F(Z))+")"),J(">>"),J("endobj")},M0=h.__private__.putCatalog=function(N){var F=(N=N||{}).rootDictionaryObjId||us;switch(ln(),J("<<"),J("/Type /Catalog"),J("/Pages "+F+" 0 R"),je||(je="fullwidth"),je){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+je;se.substr(se.length-1)==="%"&&(je=parseInt(je)/100),typeof je=="number"&&J("/OpenAction [3 0 R /XYZ null null "+E(je)+"]")}switch(Fe||(Fe="continuous"),Fe){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}Ee&&J("/PageMode /"+Ee),Ct.publish("putCatalog"),J(">>"),J("endobj")},cr=h.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(Q+1)),J("/Root "+Q+" 0 R"),J("/Info "+(Q-1)+" 0 R"),d!==null&&J("/Encrypt "+er.oid+" 0 R"),J("/ID [ <"+ie+"> <"+ie+"> ]"),J(">>")},Qf=h.__private__.putHeader=function(){J("%PDF-"+b),J("%")},Zf=h.__private__.putXRef=function(){var N="0000000000";J("xref"),J("0 "+(Q+1)),J("0000000000 65535 f ");for(var F=1;F<=Q;F++)typeof Y[F]=="function"?J((N+Y[F]()).slice(-10)+" 00000 n "):Y[F]!==void 0?J((N+Y[F]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},ga=h.__private__.buildDocument=function(){var N;Q=0,ue=0,le=[],Y=[],pe=[],us=zn(),Dn=zn(),_e(le),Ct.publish("buildDocument"),Qf(),Xs(),function(){Ct.publish("putAdditionalObjects");for(var se=0;se<pe.length;se++){var ce=pe[se];En(ce.objId,!0),J(ce.content),J("endobj")}Ct.publish("postPutAdditionalObjects")}(),N=[],function(){for(var se in Xe)Xe.hasOwnProperty(se)&&(p===!1||p===!0&&m.hasOwnProperty(se))&&ma(Xe[se])}(),function(){var se;for(se in nt)nt.hasOwnProperty(se)&&D0(nt[se])}(),function(){for(var se in Nt)Nt.hasOwnProperty(se)&&Za(Nt[se])}(),function(se){var ce;for(ce in Ke)Ke.hasOwnProperty(ce)&&(Ke[ce]instanceof Vl?Ic(Ke[ce]):Ke[ce]instanceof bu&&Rc(Ke[ce],se))}(N),Ct.publish("putResources"),N.forEach(Sd),Sd({resourcesOid:Dn,objectOid:Number.MAX_SAFE_INTEGER}),Ct.publish("postPutResources"),d!==null&&(er.oid=ln(),J("<<"),J("/Filter /Standard"),J("/V "+er.v),J("/R "+er.r),J("/U <"+er.toHexString(er.U)+">"),J("/O <"+er.toHexString(er.O)+">"),J("/P "+er.P),J(">>"),J("endobj")),Oc(),M0();var F=ue;return Zf(),cr(),J("startxref"),J(""+F),J("%%EOF"),_e(de[T]),le.join(`
`)},yl=h.__private__.getBlob=function(N){return new Blob([ee(N)],{type:"application/pdf"})},pi=h.output=h.__private__.output=(wn=function(N,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",N){case void 0:return ga();case"save":h.save(F.filename);break;case"arraybuffer":return ee(ga());case"blob":return yl(ga());case"bloburi":case"bloburl":if(jt.URL!==void 0&&typeof jt.URL.createObjectURL=="function")return jt.URL&&jt.URL.createObjectURL(yl(ga()))||void 0;Sn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",ce=ga();try{se=ZS(ce)}catch{se=ZS(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+F.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(me=F.pdfObjectUrl,Ae="");var Me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+me+'"'+Ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",it=jt.open();return it!==null&&it.document.write(Me),it}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',Et=jt.open();if(Et!==null){Et.document.write(pt);var Pt=this;Et.document.documentElement.querySelector("#pdfViewer").onload=function(){Et.document.title=F.filename,Et.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pt.output("bloburl"))}}return Et}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',qn=jt.open();if(qn!==null&&(qn.document.write(rn),qn.document.title=F.filename),qn||typeof safari>"u")return qn;break;case"datauri":case"dataurl":return jt.document.location.href=this.output("datauristring",F);default:return null}},wn.foo=function(){try{return wn.apply(this,arguments)}catch(se){var N=se.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var F="Error in function "+N.split(`
`)[0].split("<")[0]+": "+se.message;if(!jt.console)throw new Error(F);jt.console.error(F,se),jt.alert&&alert(F)}},wn.foo.bar=wn,wn.foo),xl=function(N){return Array.isArray(yt)===!0&&yt.indexOf(N)>-1};switch(r){case"pt":He=1;break;case"mm":He=72/25.4;break;case"cm":He=72/2.54;break;case"in":He=72;break;case"px":He=xl("px_scaling")==1?.75:96/72;break;case"pc":case"em":He=12;break;case"ex":He=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);He=r}var er=null;ae(),V();var Ed=h.__private__.getPageInfo=h.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ot[N].objId,pageNumber:N,pageContext:ot[N]}},F0=h.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in ot)if(ot[F].objId===N)break;return Ed(F)},B0=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:ot[T].objId,pageNumber:T,pageContext:ot[T]}};h.addPage=function(){return Kf.apply(this,arguments),this},h.setPage=function(){return Yf.apply(this,arguments),_e.call(this,de[T]),this},h.insertPage=function(N){return this.addPage(),this.movePage(T,N),this},h.movePage=function(N,F){var se,ce;if(N>F){se=de[N],ce=ot[N];for(var me=N;me>F;me--)de[me]=de[me-1],ot[me]=ot[me-1];de[F]=se,ot[F]=ce,this.setPage(F)}else if(N<F){se=de[N],ce=ot[N];for(var Ae=N;Ae<F;Ae++)de[Ae]=de[Ae+1],ot[Ae]=ot[Ae+1];de[F]=se,ot[F]=ce,this.setPage(F)}return this},h.deletePage=function(){return jd.apply(this,arguments),this},h.__private__.text=h.text=function(N,F,se,ce,me){var Ae,Me,it,pt,Et,Pt,rn,qn,ur,Cn=(ce=ce||{}).scope||this;if(typeof N=="number"&&typeof F=="number"&&(typeof se=="string"||Array.isArray(se))){var gr=se;se=F,F=N,N=gr}if(arguments[3]instanceof Je==0?(it=arguments[4],pt=arguments[5],fn(rn=arguments[3])==="object"&&rn!==null||(typeof it=="string"&&(pt=it,it=null),typeof rn=="string"&&(pt=rn,rn=null),typeof rn=="number"&&(it=rn,rn=null),ce={flags:rn,angle:it,align:pt})):(C("The transform parameter of text() with a Matrix value"),ur=me),isNaN(F)||isNaN(se)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Cn;var dr,kr="",Qs=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:bl,ps=Cn.internal.scaleFactor;function op(on){return on=on.split("	").join(Array(ce.TabLen||9).join(" ")),Js(on,rn)}function $c(on){for(var bn,nr=on.concat(),vr=[],Sa=nr.length;Sa--;)typeof(bn=nr.shift())=="string"?vr.push(bn):Array.isArray(on)&&(bn.length===1||bn[1]===void 0&&bn[2]===void 0)?vr.push(bn[0]):vr.push([bn[0],bn[1],bn[2]]);return vr}function Cl(on,bn){var nr;if(typeof on=="string")nr=bn(on)[0];else if(Array.isArray(on)){for(var vr,Sa,Wd=on.concat(),qc=[],up=Wd.length;up--;)typeof(vr=Wd.shift())=="string"?qc.push(bn(vr)[0]):Array.isArray(vr)&&typeof vr[0]=="string"&&(Sa=bn(vr[0],vr[1],vr[2]),qc.push([Sa[0],Sa[1],Sa[2]]));nr=qc}return nr}var no=!1,kl=!0;if(typeof N=="string")no=!0;else if(Array.isArray(N)){var Al=N.concat();Me=[];for(var Pl,Mr=Al.length;Mr--;)(typeof(Pl=Al.shift())!="string"||Array.isArray(Pl)&&typeof Pl[0]!="string")&&(kl=!1);no=kl}if(no===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var Ll=ge/Cn.internal.scaleFactor,Tl=Ll*(Qs-1);switch(ce.baseline){case"bottom":se-=Tl;break;case"top":se+=Ll-Tl;break;case"hanging":se+=Ll-2*Tl;break;case"middle":se+=Ll/2-Tl}if((Pt=ce.maxWidth||0)>0&&(typeof N=="string"?N=Cn.splitTextToSize(N,Pt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(on,bn){return on.concat(Cn.splitTextToSize(bn,Pt))},[]))),Ae={text:N,x:F,y:se,options:ce,mutex:{pdfEscape:Js,activeFontKey:Qe,fonts:Xe,activeFontSize:ge}},Ct.publish("preProcessText",Ae),N=Ae.text,it=(ce=Ae.options).angle,ur instanceof Je==0&&it&&typeof it=="number"){it*=Math.PI/180,ce.rotationDirection===0&&(it=-it),k===S&&(it=-it);var Od=Math.cos(it),Dd=Math.sin(it);ur=new Je(Od,Dd,-Dd,Od,0,0)}else it&&it instanceof Je&&(ur=it);k!==S||ur||(ur=jn),(Et=ce.charSpace||Fc)!==void 0&&(kr+=L(z(Et))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(qn=ce.horizontalScale)!==void 0&&(kr+=L(100*qn)+` Tz
`),ce.lang;var Kn=-1,ba=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,Uc=Cn.internal.getCurrentPageInfo().pageContext;switch(ba){case 0:case!1:case"fill":Kn=0;break;case 1:case!0:case"stroke":Kn=1;break;case 2:case"fillThenStroke":Kn=2;break;case 3:case"invisible":Kn=3;break;case 4:case"fillAndAddForClipping":Kn=4;break;case 5:case"strokeAndAddPathForClipping":Kn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Kn=6;break;case 7:case"addToPathForClipping":Kn=7}var lp=Uc.usedRenderingMode!==void 0?Uc.usedRenderingMode:-1;Kn!==-1?kr+=Kn+` Tr
`:lp!==-1&&(kr+=`0 Tr
`),Kn!==-1&&(Uc.usedRenderingMode=Kn),pt=ce.align||"left";var Zs,Il=ge*Qs,Md=Cn.internal.pageSize.getWidth(),Fd=Xe[Qe];Et=ce.charSpace||Fc,Pt=ce.maxWidth||0,rn=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var ro=[],Rl=function(on){return Cn.getStringUnitWidth(on,{font:Fd,charSpace:Et,fontSize:ge,doKerning:!1})*ge/ps};if(Object.prototype.toString.call(N)==="[object Array]"){var ks;Me=$c(N),pt!=="left"&&(Zs=Me.map(Rl));var As,so=0;if(pt==="right"){F-=Zs[0],N=[],Mr=Me.length;for(var _a=0;_a<Mr;_a++)_a===0?(As=va(F),ks=ya(se)):(As=z(so-Zs[_a]),ks=-Il),N.push([Me[_a],As,ks]),so=Zs[_a]}else if(pt==="center"){F-=Zs[0]/2,N=[],Mr=Me.length;for(var io=0;io<Mr;io++)io===0?(As=va(F),ks=ya(se)):(As=z((so-Zs[io])/2),ks=-Il),N.push([Me[io],As,ks]),so=Zs[io]}else if(pt==="left"){N=[],Mr=Me.length;for(var Bd=0;Bd<Mr;Bd++)N.push(Me[Bd])}else if(pt==="justify"&&Fd.encoding==="Identity-H"){N=[],Mr=Me.length,Pt=Pt!==0?Pt:Md;for(var zc=0,tr=0;tr<Mr;tr++)if(ks=tr===0?ya(se):-Il,As=tr===0?va(F):zc,tr<Mr-1){var cp=z((Pt-Zs[tr])/(Me[tr].split(" ").length-1)),zi=Me[tr].split(" ");N.push([zi[0]+" ",As,ks]),zc=0;for(var qi=1;qi<zi.length;qi++){var $d=(Rl(zi[qi-1]+" "+zi[qi])-Rl(zi[qi]))*ps+cp;qi==zi.length-1?N.push([zi[qi],$d,0]):N.push([zi[qi]+" ",$d,0]),zc-=$d}}else N.push([Me[tr],As,ks]);N.push(["",zc,0])}else{if(pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],Mr=Me.length,Pt=Pt!==0?Pt:Md,tr=0;tr<Mr;tr++){ks=tr===0?ya(se):-Il,As=tr===0?va(F):0;var Ud=Me[tr].split(" ").length-1,zd=Ud>0?(Pt-Zs[tr])/Ud:0;tr<Mr-1?ro.push(L(z(zd))):ro.push(0),N.push([Me[tr],As,ks])}}}(typeof ce.R2L=="boolean"?ce.R2L:Ne)===!0&&(N=Cl(N,function(on,bn,nr){return[on.split("").reverse().join(""),bn,nr]})),Ae={text:N,x:F,y:se,options:ce,mutex:{pdfEscape:Js,activeFontKey:Qe,fonts:Xe,activeFontSize:ge}},Ct.publish("postProcessText",Ae),N=Ae.text,dr=Ae.mutex.isHex||!1;var qd=Xe[Qe].encoding;qd!=="WinAnsiEncoding"&&qd!=="StandardEncoding"||(N=Cl(N,function(on,bn,nr){return[op(on),bn,nr]})),Me=$c(N),N=[];for(var ao,oo,lo,Ol=Array.isArray(Me[0])?1:0,co="",Dl=function(on,bn,nr){var vr="";return nr instanceof Je?(nr=typeof ce.angle=="number"?nn(nr,new Je(1,0,0,1,on,bn)):nn(new Je(1,0,0,1,on,bn),nr),k===S&&(nr=nn(new Je(1,0,0,-1,0,0),nr)),vr=nr.join(" ")+` Tm
`):vr=L(on)+" "+L(bn)+` Td
`,vr},ei=0;ei<Me.length;ei++){switch(co="",Ol){case 1:lo=(dr?"<":"(")+Me[ei][0]+(dr?">":")"),ao=parseFloat(Me[ei][1]),oo=parseFloat(Me[ei][2]);break;case 0:lo=(dr?"<":"(")+Me[ei]+(dr?">":")"),ao=va(F),oo=ya(se)}ro!==void 0&&ro[ei]!==void 0&&(co=ro[ei]+` Tw
`),ei===0?N.push(co+Dl(ao,oo,ur)+lo):Ol===0?N.push(co+lo):Ol===1&&N.push(co+Dl(ao,oo,ur)+lo)}N=Ol===0?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Wi=`BT
/`;return Wi+=Qe+" "+ge+` Tf
`,Wi+=L(ge*Qs)+` TL
`,Wi+=_l+`
`,Wi+=kr,Wi+=N,J(Wi+="ET"),m[Qe]=!0,Cn};var $0=h.__private__.clip=h.clip=function(N){return J(N==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return $0("evenodd")},h.__private__.discardPath=h.discardPath=function(){return J("n"),this};var Ui=h.__private__.isValidStyle=function(N){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(F=!0),F};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(N){return Ui(N)&&(u=N),this};var ep=h.__private__.getStyle=h.getStyle=function(N){var F=u;switch(N){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=N}return F},tp=h.close=function(){return J("h"),this};h.stroke=function(){return J("S"),this},h.fill=function(N){return eo("f",N),this},h.fillEvenOdd=function(N){return eo("f*",N),this},h.fillStroke=function(N){return eo("B",N),this},h.fillStrokeEvenOdd=function(N){return eo("B*",N),this};var eo=function(N,F){fn(F)==="object"?z0(F,N):J(N)},Cd=function(N){N===null||k===S&&N===void 0||(N=ep(N),J(N))};function U0(N,F,se,ce,me){var Ae=new bu(F||this.boundingBox,se||this.xStep,ce||this.yStep,this.gState,me||this.matrix);Ae.stream=this.stream;var Me=N+"$$"+this.cloneIndex+++"$$";return an(Me,Ae),Ae}var z0=function(N,F){var se=vt[N.key],ce=Ke[se];if(ce instanceof Vl)J("q"),J(q0(F)),ce.gState&&h.setGState(ce.gState),J(N.matrix.toString()+" cm"),J("/"+se+" sh"),J("Q");else if(ce instanceof bu){var me=new Je(1,0,0,-1,0,El());N.matrix&&(me=me.multiply(N.matrix||jn),se=U0.call(ce,N.key,N.boundingBox,N.xStep,N.yStep,me).id),J("q"),J("/Pattern cs"),J("/"+se+" scn"),ce.gState&&h.setGState(ce.gState),J(F),J("Q")}},q0=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},kd=h.moveTo=function(N,F){return J(L(z(N))+" "+L($(F))+" m"),this},wl=h.lineTo=function(N,F){return J(L(z(N))+" "+L($(F))+" l"),this},to=h.curveTo=function(N,F,se,ce,me,Ae){return J([L(z(N)),L($(F)),L(z(se)),L($(ce)),L(z(me)),L($(Ae)),"c"].join(" ")),this};h.__private__.line=h.line=function(N,F,se,ce,me){if(isNaN(N)||isNaN(F)||isNaN(se)||isNaN(ce)||!Ui(me))throw new Error("Invalid arguments passed to jsPDF.line");return k===x?this.lines([[se-N,ce-F]],N,F,[1,1],me||"S"):this.lines([[se-N,ce-F]],N,F,[1,1]).stroke()},h.__private__.lines=h.lines=function(N,F,se,ce,me,Ae){var Me,it,pt,Et,Pt,rn,qn,ur,Cn,gr,dr,kr;if(typeof N=="number"&&(kr=se,se=F,F=N,N=kr),ce=ce||[1,1],Ae=Ae||!1,isNaN(F)||isNaN(se)||!Array.isArray(N)||!Array.isArray(ce)||!Ui(me)||typeof Ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(kd(F,se),Me=ce[0],it=ce[1],Et=N.length,gr=F,dr=se,pt=0;pt<Et;pt++)(Pt=N[pt]).length===2?(gr=Pt[0]*Me+gr,dr=Pt[1]*it+dr,wl(gr,dr)):(rn=Pt[0]*Me+gr,qn=Pt[1]*it+dr,ur=Pt[2]*Me+gr,Cn=Pt[3]*it+dr,gr=Pt[4]*Me+gr,dr=Pt[5]*it+dr,to(rn,qn,ur,Cn,gr,dr));return Ae&&tp(),Cd(me),this},h.path=function(N){for(var F=0;F<N.length;F++){var se=N[F],ce=se.c;switch(se.op){case"m":kd(ce[0],ce[1]);break;case"l":wl(ce[0],ce[1]);break;case"c":to.apply(this,ce);break;case"h":tp()}}return this},h.__private__.rect=h.rect=function(N,F,se,ce,me){if(isNaN(N)||isNaN(F)||isNaN(se)||isNaN(ce)||!Ui(me))throw new Error("Invalid arguments passed to jsPDF.rect");return k===x&&(ce=-ce),J([L(z(N)),L($(F)),L(z(se)),L(z(ce)),"re"].join(" ")),Cd(me),this},h.__private__.triangle=h.triangle=function(N,F,se,ce,me,Ae,Me){if(isNaN(N)||isNaN(F)||isNaN(se)||isNaN(ce)||isNaN(me)||isNaN(Ae)||!Ui(Me))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-N,ce-F],[me-se,Ae-ce],[N-me,F-Ae]],N,F,[1,1],Me,!0),this},h.__private__.roundedRect=h.roundedRect=function(N,F,se,ce,me,Ae,Me){if(isNaN(N)||isNaN(F)||isNaN(se)||isNaN(ce)||isNaN(me)||isNaN(Ae)||!Ui(Me))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var it=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*se),Ae=Math.min(Ae,.5*ce),this.lines([[se-2*me,0],[me*it,0,me,Ae-Ae*it,me,Ae],[0,ce-2*Ae],[0,Ae*it,-me*it,Ae,-me,Ae],[2*me-se,0],[-me*it,0,-me,-Ae*it,-me,-Ae],[0,2*Ae-ce],[0,-Ae*it,me*it,-Ae,me,-Ae]],N+me,F,[1,1],Me,!0),this},h.__private__.ellipse=h.ellipse=function(N,F,se,ce,me){if(isNaN(N)||isNaN(F)||isNaN(se)||isNaN(ce)||!Ui(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ae=4/3*(Math.SQRT2-1)*se,Me=4/3*(Math.SQRT2-1)*ce;return kd(N+se,F),to(N+se,F-Me,N+Ae,F-ce,N,F-ce),to(N-Ae,F-ce,N-se,F-Me,N-se,F),to(N-se,F+Me,N-Ae,F+ce,N,F+ce),to(N+Ae,F+ce,N+se,F+Me,N+se,F),Cd(me),this},h.__private__.circle=h.circle=function(N,F,se,ce){if(isNaN(N)||isNaN(F)||isNaN(se)||!Ui(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,F,se,se,ce)},h.setFont=function(N,F,se){return se&&(F=R(F,se)),Qe=Jf(N,F,{disableWarning:!1}),this};var W0=h.__private__.getFont=h.getFont=function(){return Xe[Jf.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var N,F,se={};for(N in ut)if(ut.hasOwnProperty(N))for(F in se[N]=[],ut[N])ut[N].hasOwnProperty(F)&&se[N].push(F);return se},h.addFont=function(N,F,se,ce,me){var Ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ae.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&Ae.indexOf(arguments[3])==-1&&(se=R(se,ce)),Gf.call(this,N,F,se,me=me||"Identity-H")};var bl,Ad=e.lineWidth||.200025,kt=h.__private__.getLineWidth=h.getLineWidth=function(){return Ad},H0=h.__private__.setLineWidth=h.setLineWidth=function(N){return Ad=N,J(L(z(N))+" w"),this};h.__private__.setLineDash=dt.API.setLineDash=dt.API.setLineDashPattern=function(N,F){if(N=N||[],F=F||0,isNaN(F)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(se){return L(z(se))}).join(" "),F=L(z(F)),J("["+N+"] "+F+" d"),this};var V0=h.__private__.getLineHeight=h.getLineHeight=function(){return ge*bl};h.__private__.getLineHeight=h.getLineHeight=function(){return ge*bl};var G0=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(bl=N),this},K0=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return bl};G0(e.lineHeight);var va=h.__private__.getHorizontalCoordinate=function(N){return z(N)},ya=h.__private__.getVerticalCoordinate=function(N){return k===S?N:ot[T].mediaBox.topRightY-ot[T].mediaBox.bottomLeftY-z(N)},Y0=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(N){return L(va(N))},X0=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(N){return L(ya(N))},Dc=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return ds(Dc)},h.__private__.setStrokeColor=h.setDrawColor=function(N,F,se,ce){return Dc=hs({ch1:N,ch2:F,ch3:se,ch4:ce,pdfColorType:"draw",precision:2}),J(Dc),this};var Pd=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return ds(Pd)},h.__private__.setFillColor=h.setFillColor=function(N,F,se,ce){return Pd=hs({ch1:N,ch2:F,ch3:se,ch4:ce,pdfColorType:"fill",precision:2}),J(Pd),this};var _l=e.textColor||"0 g",Mc=h.__private__.getTextColor=h.getTextColor=function(){return ds(_l)};h.__private__.setTextColor=h.setTextColor=function(N,F,se,ce){return _l=hs({ch1:N,ch2:F,ch3:se,ch4:ce,pdfColorType:"text",precision:3}),this};var Fc=e.charSpace,J0=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Fc||0)};h.__private__.setCharSpace=h.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Fc=N,this};var Ld=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(N){var F=h.CapJoinStyles[N];if(F===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ld=F,J(F+" J"),this};var Td=0;h.__private__.setLineJoin=h.setLineJoin=function(N){var F=h.CapJoinStyles[N];if(F===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Td=F,J(F+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(L(z(N))+" M"),this},h.GState=Cg,h.setGState=function(N){(N=typeof N=="string"?nt[Ut[N]]:Sl(null,N)).equals(Vt)||(J("/"+N.id+" gs"),Vt=N)};var Sl=function(N,F){if(!N||!Ut[N]){var se=!1;for(var ce in nt)if(nt.hasOwnProperty(ce)&&nt[ce].equals(F)){se=!0;break}if(se)F=nt[ce];else{var me="GS"+(Object.keys(nt).length+1).toString(10);nt[me]=F,F.id=me}return N&&(Ut[N]=F.id),Ct.publish("addGState",F),F}};h.addGState=function(N,F){return Sl(N,F),this},h.saveGraphicsState=function(){return J("q"),St.push({key:Qe,size:ge,color:_l}),this},h.restoreGraphicsState=function(){J("Q");var N=St.pop();return Qe=N.key,ge=N.size,_l=N.color,Vt=null,this},h.setCurrentTransformationMatrix=function(N){return J(N.toString()+" cm"),this},h.comment=function(N){return J("#"+N),this};var Nl=function(N,F){var se=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Ae){isNaN(Ae)||(se=parseFloat(Ae))}});var ce=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Ae){isNaN(Ae)||(ce=parseFloat(Ae))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(Ae){me=Ae.toString()}}),this},Id=function(N,F,se,ce){Nl.call(this,N,F),this.type="rect";var me=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(Me){isNaN(Me)||(me=parseFloat(Me))}});var Ae=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ae},set:function(Me){isNaN(Me)||(Ae=parseFloat(Me))}}),this},Bc=function(){this.page=Dt,this.currentPage=T,this.pages=de.slice(0),this.pagesContext=ot.slice(0),this.x=Ie,this.y=Ze,this.matrix=At,this.width=np(T),this.height=xa(T),this.outputDestination=Te,this.id="",this.objectNumber=-1};Bc.prototype.restore=function(){Dt=this.page,T=this.currentPage,ot=this.pagesContext,de=this.pages,Ie=this.x,Ze=this.y,At=this.matrix,rp(T,this.width),wa(T,this.height),Te=this.outputDestination};var Rd=function(N,F,se,ce,me){Ot.push(new Bc),Dt=T=0,de=[],Ie=N,Ze=F,At=me,Nd([se,ce])};for(var jl in h.beginFormObject=function(N,F,se,ce,me){return Rd(N,F,se,ce,me),this},h.endFormObject=function(N){return function(F){if(bt[F])Ot.pop().restore();else{var se=new Bc,ce="Xo"+(Object.keys(Nt).length+1).toString(10);se.id=ce,bt[F]=ce,Nt[ce]=se,Ct.publish("addFormObject",se),Ot.pop().restore()}}(N),this},h.doFormObject=function(N,F){var se=Nt[bt[N]];return J("q"),J(F.toString()+" cm"),J("/"+se.id+" Do"),J("Q"),this},h.getFormObject=function(N){var F=Nt[bt[N]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},h.save=function(N,F){return N=N||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(ql(yl(ga()),N),typeof ql.unload=="function"&&jt.setTimeout&&setTimeout(ql.unload,911),this):new Promise(function(se,ce){try{var me=ql(yl(ga()),N);typeof ql.unload=="function"&&jt.setTimeout&&setTimeout(ql.unload,911),se(me)}catch(Ae){ce(Ae.message)}})},dt.API)dt.API.hasOwnProperty(jl)&&(jl==="events"&&dt.API.events.length?function(N,F){var se,ce,me;for(me=F.length-1;me!==-1;me--)se=F[me][0],ce=F[me][1],N.subscribe.apply(N,[se].concat(typeof ce=="function"?[ce]:ce))}(Ct,dt.API.events):h[jl]=dt.API[jl]);function np(N){return ot[N].mediaBox.topRightX-ot[N].mediaBox.bottomLeftX}function rp(N,F){ot[N].mediaBox.topRightX=F+ot[N].mediaBox.bottomLeftX}function xa(N){return ot[N].mediaBox.topRightY-ot[N].mediaBox.bottomLeftY}function wa(N,F){ot[N].mediaBox.topRightY=F+ot[N].mediaBox.bottomLeftY}var sp=h.getPageWidth=function(N){return np(N=N||T)/He},ip=h.setPageWidth=function(N,F){rp(N,F*He)},El=h.getPageHeight=function(N){return xa(N=N||T)/He},ap=h.setPageHeight=function(N,F){wa(N,F*He)};return h.internal={pdfEscape:Js,getStyle:ep,getFont:W0,getFontSize:ve,getCharSpace:J0,getTextColor:Mc,getLineHeight:V0,getLineHeightFactor:K0,getLineWidth:kt,write:at,getHorizontalCoordinate:va,getVerticalCoordinate:ya,getCoordinateString:Y0,getVerticalCoordinateString:X0,collections:{},newObject:ln,newAdditionalObject:Qr,newObjectDeferred:zn,newObjectDeferredBegin:En,getFilters:Cs,putStream:fs,events:Ct,scaleFactor:He,pageSize:{getWidth:function(){return sp(T)},setWidth:function(N){ip(T,N)},getHeight:function(){return El(T)},setHeight:function(N){ap(T,N)}},encryptionOptions:d,encryption:er,getEncryptor:function(N){return d!==null?er.encryptor(N,0):function(F){return F}},output:pi,getNumberOfPages:Xf,pages:de,out:J,f2:E,f3:P,getPageInfo:Ed,getPageInfoByObjId:F0,getCurrentPageInfo:B0,getPDFVersion:v,Point:Nl,Rectangle:Id,Matrix:Je,hasHotfix:xl},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return sp(T)},set:function(N){ip(T,N)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return El(T)},set:function(N){ap(T,N)},enumerable:!0,configurable:!0}),(function(N){for(var F=0,se=Se.length;F<se;F++){var ce=Gf.call(this,N[F][0],N[F][1],N[F][2],Se[F][3],!0);p===!1&&(m[ce]=!0);var me=N[F][0].split("-");Vf({id:ce,fontName:me[0],fontStyle:me[1]||""})}Ct.publish("addFonts",{fonts:Xe,dictionary:ut})}).call(h,Se),Qe="F1",Kf(s,n),Ct.publish("initialized"),h}ou.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},ou.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ou.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},ou.prototype.processOwnerPassword=function(e,t){return D2(O2(t).substr(0,5),e)},ou.prototype.encryptor=function(e,t){var n=O2(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return D2(n,r)}},Cg.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||fn(e)!==fn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},dt.API={events:[]},dt.version="3.0.3";var Qn=dt.API,Pw=1,Tc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Lt=function(e){return e.toFixed(2)},_o=function(e){return e.toFixed(5)};Qn.__acroform__={};var Es=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},rN=function(e){return e*Pw},Ki=function(e){var t=new EP,n=st.internal.getHeight(e)||0,r=st.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Lt(r)),Number(Lt(n))],t},tH=Qn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},nH=Qn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},rH=Qn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ar=Qn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return rH(e,t-1)},or=Qn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return tH(e,t-1)},lr=Qn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return nH(e,t-1)},sH=Qn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=n(s)||0,c.lowerLeft_Y=r(i+l)||0,c.upperRight_X=n(s+o)||0,c.upperRight_Y=r(i)||0,[Number(Lt(c.lowerLeft_X)),Number(Lt(c.lowerLeft_Y)),Number(Lt(c.upperRight_X)),Number(Lt(c.upperRight_Y))]},iH=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=M2(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Lt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Ki(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},M2=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(E){return E.split(`
`)}):s.map(function(E){return[E]});var i=n,o=st.internal.getHeight(e)||0;o=o<0?-o:o;var l=st.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(E,P,z){if(E+1<s.length){var $=P+" "+s[E+1][0];return um($,e,z).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,p=um("3",e,i).height,m=e.multiline?o-i:(o-p)/2,h=m+=2,b=0,v=0,w=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+um(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var y="",x=0,S=0;S<s.length;S++)if(s.hasOwnProperty(S)){var k=!1;if(s[S].length!==1&&w!==s[S].length-1){if((p+2)*(x+2)+2>o)continue e;y+=s[S][w],k=!0,v=S,S--}else{y=(y+=s[S][w]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var D=parseInt(S),A=c(D,y,i),R=S>=s.length-1;if(A&&!R){y+=" ",w=0;continue}if(A||R){if(R)v=D;else if(e.multiline&&(p+2)*(x+2)+2>o)continue e}else{if(!e.multiline||(p+2)*(x+2)+2>o)continue e;v=D}}for(var L="",C=b;C<=v;C++){var M=s[C];if(e.multiline){if(C===v){L+=M[w]+" ",w=(w+1)%M.length;continue}if(C===b){L+=M[M.length-1]+" ";continue}}L+=M[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,d=um(L,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=Lt(u)+" "+Lt(h)+` Td
`,t+="("+Tc(L)+`) Tj
`,t+=-Lt(u)+` 0 Td
`,h=-(i+2),d=0,b=k?v:v+1,x++,y=""}break}return r.text=t,r.fontSize=i,r},um=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},aH={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},oH=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},lH=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Mi.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(aH)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Pw=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new CP,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&oH(i,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,s){var i=!r;for(var o in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var l=r[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=sH(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=st.createDefaultAppearanceStream(l),fn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=iH(l);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var p="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var h=l.appearanceStreamContent[m];if(p+="/"+m+" ",p+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var b=h[o];typeof b=="function"&&(b=b.call(s,l)),p+="/"+o+" "+b+" ",s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b)}}else typeof(b=h)=="function"&&(b=b.call(s,l)),p+="/"+o+" "+b,s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&function(v,w){for(var y in v)if(v.hasOwnProperty(y)){var x=y,S=v[y];w.internal.newObjectDeferredBegin(S.objId,!0),fn(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete v[x]}}(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},jP=Qn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),fn(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),s+="("+Tc(r(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},M1=function(e,t,n){var r=function(s){return s};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Tc(r(e))+")"},sa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};sa.prototype.toString=function(){return this.objId+" 0 R"},sa.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},sa.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:jP(s,this.objId,this.scope)}):s instanceof sa?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:r,value:s}))}return e};var EP=function(){sa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Es(EP,sa);var CP=function(){sa.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Tc(n(e))+")"}},set:function(n){e=n}})};Es(CP,sa);var Mi=function e(){sa.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ar(t,3)},set:function(y){y?this.F=or(t,3):this.F=lr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof kg)return;i="FieldObject"+e.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Tc(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Pw:u},set:function(y){u=y}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof kg||this instanceof cc))return M1(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=y}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Er==0?M1(m,this.objId,this.scope):m},set:function(y){y=y.toString(),m=this instanceof Er==0?y.substr(0,1)==="("?nu(y.substr(1,y.length-2)):nu(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Er==1?nu(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof Er==1?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Er==0?M1(h,this.objId,this.scope):h},set:function(y){y=y.toString(),h=this instanceof Er==0?y.substr(0,1)==="("?nu(y.substr(1,y.length-2)):nu(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Er==1?nu(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Er==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(y){y=!!y,v=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(y){b=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,1)},set:function(y){y?this.Ff=or(this.Ff,1):this.Ff=lr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,2)},set:function(y){y?this.Ff=or(this.Ff,2):this.Ff=lr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,3)},set:function(y){y?this.Ff=or(this.Ff,3):this.Ff=lr(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');w=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(w){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};Es(Mi,sa);var Tu=function(){Mi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jP(t,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u}(r,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,18)},set:function(n){n?this.Ff=or(this.Ff,18):this.Ff=lr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=or(this.Ff,19):this.Ff=lr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,20)},set:function(n){n?(this.Ff=or(this.Ff,20),t.sort()):this.Ff=lr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,22)},set:function(n){n?this.Ff=or(this.Ff,22):this.Ff=lr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,23)},set:function(n){n?this.Ff=or(this.Ff,23):this.Ff=lr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,27)},set:function(n){n?this.Ff=or(this.Ff,27):this.Ff=lr(this.Ff,27)}}),this.hasAppearanceStream=!1};Es(Tu,Mi);var Iu=function(){Tu.call(this),this.fontName="helvetica",this.combo=!1};Es(Iu,Tu);var Ru=function(){Iu.call(this),this.combo=!0};Es(Ru,Iu);var Rm=function(){Ru.call(this),this.edit=!0};Es(Rm,Ru);var Er=function(){Mi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,15)},set:function(n){n?this.Ff=or(this.Ff,15):this.Ff=lr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,16)},set:function(n){n?this.Ff=or(this.Ff,16):this.Ff=lr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,17)},set:function(n){n?this.Ff=or(this.Ff,17):this.Ff=lr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,26)},set:function(n){n?this.Ff=or(this.Ff,26):this.Ff=lr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,s=[];for(r in s.push("<<"),t)s.push("/"+r+" ("+Tc(n(t[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){fn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Es(Er,Mi);var Om=function(){Er.call(this),this.pushButton=!0};Es(Om,Er);var Ou=function(){Er.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Es(Ou,Er);var kg=function(){var e,t;Mi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),r)o.push("/"+i+" ("+Tc(s(r[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){fn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=st.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Es(kg,Mi),Ou.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Ou.prototype.createOption=function(e){var t=new kg;return t.Parent=this,t.optionName=e,this.Kids.push(t),cH.call(this.scope,t),t};var Dm=function(){Er.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=st.CheckBox.createAppearanceStream()};Es(Dm,Er);var cc=function(){Mi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,13)},set:function(t){t?this.Ff=or(this.Ff,13):this.Ff=lr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,21)},set:function(t){t?this.Ff=or(this.Ff,21):this.Ff=lr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,23)},set:function(t){t?this.Ff=or(this.Ff,23):this.Ff=lr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,24)},set:function(t){t?this.Ff=or(this.Ff,24):this.Ff=lr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,25)},set:function(t){t?this.Ff=or(this.Ff,25):this.Ff=lr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,26)},set:function(t){t?this.Ff=or(this.Ff,26):this.Ff=lr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Es(cc,Mi);var Mm=function(){cc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ar(this.Ff,14)},set:function(e){e?this.Ff=or(this.Ff,14):this.Ff=lr(this.Ff,14)}}),this.password=!0};Es(Mm,cc);var st={CheckBox:{createAppearanceStream:function(){return{N:{On:st.CheckBox.YesNormal},D:{On:st.CheckBox.YesPushDown,Off:st.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ki(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=M2(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Lt(st.internal.getWidth(e))+" "+Lt(st.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Lt(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Ki(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],i=st.internal.getHeight(e),o=st.internal.getWidth(e),l=M2(e,e.caption);return s.push("1 g"),s.push("0 0 "+Lt(o)+" "+Lt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Lt(o-1)+" "+Lt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+Lt(l.fontSize)+" Tf "+r),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Ki(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Lt(st.internal.getWidth(e))+" "+Lt(st.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:st.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=st.RadioButton.Circle.YesNormal,t.D[e]=st.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ki(e);t.scope=e.scope;var n=[],r=st.internal.getWidth(e)<=st.internal.getHeight(e)?st.internal.getWidth(e)/4:st.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=st.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+_o(st.internal.getWidth(e)/2)+" "+_o(st.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Ki(e);t.scope=e.scope;var n=[],r=st.internal.getWidth(e)<=st.internal.getHeight(e)?st.internal.getWidth(e)/4:st.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*st.internal.Bezier_C).toFixed(5)),o=Number((r*st.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+_o(st.internal.getWidth(e)/2)+" "+_o(st.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+_o(st.internal.getWidth(e)/2)+" "+_o(st.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ki(e);t.scope=e.scope;var n=[],r=st.internal.getWidth(e)<=st.internal.getHeight(e)?st.internal.getWidth(e)/4:st.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*st.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+_o(st.internal.getWidth(e)/2)+" "+_o(st.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:st.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=st.RadioButton.Cross.YesNormal,t.D[e]=st.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ki(e);t.scope=e.scope;var n=[],r=st.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Lt(st.internal.getWidth(e)-2)+" "+Lt(st.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Lt(r.x1.x)+" "+Lt(r.x1.y)+" m"),n.push(Lt(r.x2.x)+" "+Lt(r.x2.y)+" l"),n.push(Lt(r.x4.x)+" "+Lt(r.x4.y)+" m"),n.push(Lt(r.x3.x)+" "+Lt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Ki(e);t.scope=e.scope;var n=st.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Lt(st.internal.getWidth(e))+" "+Lt(st.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Lt(st.internal.getWidth(e)-2)+" "+Lt(st.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Lt(n.x1.x)+" "+Lt(n.x1.y)+" m"),r.push(Lt(n.x2.x)+" "+Lt(n.x2.y)+" l"),r.push(Lt(n.x4.x)+" "+Lt(n.x4.y)+" m"),r.push(Lt(n.x3.x)+" "+Lt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ki(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Lt(st.internal.getWidth(e))+" "+Lt(st.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};st.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=st.internal.getWidth(e),n=st.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},st.internal.getWidth=function(e){var t=0;return fn(e)==="object"&&(t=rN(e.Rect[2])),t},st.internal.getHeight=function(e){var t=0;return fn(e)==="object"&&(t=rN(e.Rect[3])),t};var cH=Qn.addField=function(e){if(lH(this,e),!(e instanceof Mi))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Qn.AcroFormChoiceField=Tu,Qn.AcroFormListBox=Iu,Qn.AcroFormComboBox=Ru,Qn.AcroFormEditBox=Rm,Qn.AcroFormButton=Er,Qn.AcroFormPushButton=Om,Qn.AcroFormRadioButton=Ou,Qn.AcroFormCheckBox=Dm,Qn.AcroFormTextField=cc,Qn.AcroFormPasswordField=Mm,Qn.AcroFormAppearance=st,Qn.AcroForm={ChoiceField:Tu,ListBox:Iu,ComboBox:Ru,EditBox:Rm,Button:Er,PushButton:Om,RadioButton:Ou,CheckBox:Dm,TextField:cc,PasswordField:Mm,Appearance:st},dt.AcroForm={ChoiceField:Tu,ListBox:Iu,ComboBox:Ru,EditBox:Rm,Button:Er,PushButton:Om,RadioButton:Ou,CheckBox:Dm,TextField:cc,PasswordField:Mm,Appearance:st};function kP(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(E,P){var z,$,Z,ie,te,V=n;if((P=P||n)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(A(E))for(te in r)for(Z=r[te],z=0;z<Z.length;z+=1){for(ie=!0,$=0;$<Z[z].length;$+=1)if(Z[z][$]!==void 0&&Z[z][$]!==E[$]){ie=!1;break}if(ie===!0){V=te;break}}else for(te in r)for(Z=r[te],z=0;z<Z.length;z+=1){for(ie=!0,$=0;$<Z[z].length;$+=1)if(Z[z][$]!==void 0&&Z[z][$]!==E.charCodeAt($)){ie=!1;break}if(ie===!0){V=te;break}}return V===n&&P!==n&&(V=P),V},i=function E(P){for(var z=this.internal.write,$=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:P.width}),ie.push({key:"Height",value:P.height}),P.colorSpace===y.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===y.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var te="",V=0,G=P.transparency.length;V<G;V++)te+=P.transparency[V]+" "+P.transparency[V]+" ";ie.push({key:"Mask",value:"["+te+"]"})}P.sMask!==void 0&&ie.push({key:"SMask",value:P.objectId+1+" 0 R"});var oe=P.filter!==void 0?["/"+P.filter]:void 0;if($({data:P.data,additionalKeyValues:ie,alreadyAppliedFilters:oe,objectId:P.objectId}),z("endobj"),"sMask"in P&&P.sMask!==void 0){var ae,O=(ae=P.sMaskBitsPerComponent)!==null&&ae!==void 0?ae:P.bitsPerComponent,T={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:P.sMask};"filter"in P&&(T.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(P.width),T.filter=P.filter),E.call(this,T)}if(P.colorSpace===y.INDEXED){var U=this.internal.newObject();$({data:L(new Uint8Array(P.palette)),objectId:U}),z("endobj")}},o=function(){var E=this.internal.collections[t+"images"];for(var P in E)i.call(this,E[P])},l=function(){var E,P=this.internal.collections[t+"images"],z=this.internal.write;for(var $ in P)z("/I"+(E=P[$]).index,E.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var E=this.internal.collections[t+"images"];return c.call(this),E},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},p=function(E){return typeof e["process"+E.toUpperCase()]=="function"},m=function(E){return fn(E)==="object"&&E.nodeType===1},h=function(E,P){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var z=""+E.getAttribute("src");if(z.indexOf("data:image/")===0)return Im(unescape(z).split("base64,").pop());var $=e.loadFile(z,!0);if($!==void 0)return $}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var Z;switch(P){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;default:Z="image/jpeg"}return Im(E.toDataURL(Z,1).split("base64,").pop())}},b=function(E){var P=this.internal.collections[t+"images"];if(P){for(var z in P)if(E===P[z].alias)return P[z]}},v=function(E,P,z){return E||P||(E=-96,P=-96),E<0&&(E=-1*z.width*72/E/this.internal.scaleFactor),P<0&&(P=-1*z.height*72/P/this.internal.scaleFactor),E===0&&(E=P*z.width/z.height),P===0&&(P=E*z.height/z.width),[E,P]},w=function(E,P,z,$,Z,ie){var te=v.call(this,z,$,Z),V=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,oe=u.call(this);if(z=te[0],$=te[1],oe[Z.index]=Z,ie){ie*=Math.PI/180;var ae=Math.cos(ie),O=Math.sin(ie),T=function(W){return W.toFixed(4)},U=[T(ae),T(O),T(-1*O),T(ae),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,V(E),G(P+$),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([V(z),"0","0",V($),"0","0","cm"].join(" "))):this.internal.write([V(z),"0","0",V($),V(E),G(P+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=e.__addimage__.sHashCode=function(E){var P,z,$=0;if(typeof E=="string")for(z=E.length,P=0;P<z;P++)$=($<<5)-$+E.charCodeAt(P),$|=0;else if(A(E))for(z=E.byteLength/2,P=0;P<z;P++)$=($<<5)-$+E[P],$|=0;return $},k=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var P=!0;return E.length===0&&(P=!1),E.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(P=!1),P},D=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var P=E.indexOf(",");return P<0?null:E.substring(0,P).trim().endsWith("base64")?E.substring(P+1):null};e.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var A=e.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},R=e.__addimage__.binaryStringToUint8Array=function(E){for(var P=E.length,z=new Uint8Array(P),$=0;$<P;$++)z[$]=E.charCodeAt($);return z},L=e.__addimage__.arrayBufferToBinaryString=function(E){for(var P="",z=A(E)?E:new Uint8Array(E),$=0;$<z.length;$+=8192)P+=String.fromCharCode.apply(null,z.subarray($,$+8192));return P};e.addImage=function(){var E,P,z,$,Z,ie,te,V,G;if(typeof arguments[1]=="number"?(P=n,z=arguments[1],$=arguments[2],Z=arguments[3],ie=arguments[4],te=arguments[5],V=arguments[6],G=arguments[7]):(P=arguments[1],z=arguments[2],$=arguments[3],Z=arguments[4],ie=arguments[5],te=arguments[6],V=arguments[7],G=arguments[8]),fn(E=arguments[0])==="object"&&!m(E)&&"imageData"in E){var oe=E;E=oe.imageData,P=oe.format||P||n,z=oe.x||z||0,$=oe.y||$||0,Z=oe.w||oe.width||Z,ie=oe.h||oe.height||ie,te=oe.alias||te,V=oe.compression||V,G=oe.rotation||oe.angle||G}var ae=this.internal.getFilters();if(V===void 0&&ae.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(z)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var O=C.call(this,E,P,te,V);return w.call(this,z,$,Z,ie,O,G),this};var C=function(E,P,z,$){var Z,ie,te;if(typeof E=="string"&&s(E)===n){E=unescape(E);var V=M(E,!1);(V!==""||(V=e.loadFile(E,!0))!==void 0)&&(E=V)}if(m(E)&&(E=h(E,P)),P=s(E,P),!p(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((te=z)==null||te.length===0)&&(z=function(G){return typeof G=="string"||A(G)?S(G):A(G.data)?S(G.data):null}(E)),(Z=b.call(this,z))||(E instanceof Uint8Array||P==="RGBA"||(ie=E,E=R(E)),Z=this["process"+P.toUpperCase()](E,d.call(this),z,function(G){return G&&typeof G=="string"&&(G=G.toUpperCase()),G in e.image_compression?G:x.NONE}($),ie)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},M=e.__addimage__.convertBase64ToBinaryString=function(E,P){P=typeof P!="boolean"||P;var z,$="";if(typeof E=="string"){var Z;z=(Z=D(E))!==null&&Z!==void 0?Z:E;try{$=Im(z)}catch(ie){if(P)throw k(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};e.getImageProperties=function(E){var P,z,$="";if(m(E)&&(E=h(E)),typeof E=="string"&&s(E)===n&&(($=M(E,!1))===""&&($=e.loadFile(E)||""),E=$),z=s(E),!p(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(E instanceof Uint8Array||(E=R(E)),!(P=this["process"+z.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=z,P}})(dt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};dt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,p=0;p<u.length&&!d;p++)switch((r=u[p]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){r=u[m];var h=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(v.objId),x=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+h(y(r.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(y(x))+") >>",v.content=i;var S=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(v.objId,"0 R",w.objId,"0 R");break;case"freetext":s="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+h(b(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var D=this.annotations._nameMap[r.options.name];r.options.pageNumber=D.page,r.options.top=D.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+h(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var A=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+A+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,s,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+s),h:u(r+i)},options:o,type:"link"})},e.textWithLink=function(n,r,s,i){var o,l,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(n,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(n,r,s,i),s+=.2*u,i.align==="center"&&(r-=c/2),i.align==="right"&&(r-=c),this.link(r,s-u,l,o,i),c},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(dt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},l=e.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&s.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&i(v)&&t[v.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(v){var w=0,y=n,x="",S=0;for(w=0;w<v.length;w+=1)y[v.charCodeAt(w)]!==void 0?(S++,typeof(y=y[v.charCodeAt(w)])=="number"&&(x+=String.fromCharCode(y),y=n,S=0),w===v.length-1&&(y=n,x+=v.charAt(w-(S-1)),w-=S-1,S=0)):(y=n,x+=v.charAt(w-S),w-=S,S=0);return x};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(v,w,y){return o(v)?i(v)===!1?-1:!u(v)||!o(w)&&!o(y)||!o(y)&&l(w)||l(v)&&!o(w)||l(v)&&c(w)||l(v)&&l(w)?0:d(v)&&o(w)&&!l(w)&&o(y)&&u(y)?3:l(v)||!o(y)?1:2:-1},h=function(v){var w=0,y=0,x=0,S="",k="",D="",A=(v=v||"").split("\\s+"),R=[];for(w=0;w<A.length;w+=1){for(R.push(""),y=0;y<A[w].length;y+=1)S=A[w][y],k=A[w][y-1],D=A[w][y+1],o(S)?(x=m(S,k,D),R[w]+=x!==-1?String.fromCharCode(t[S.charCodeAt(0)][x]):S):R[w]+=S;R[w]=p(R[w])}return R.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var v,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(w)){var x=0;for(y=[],x=0;x<w.length;x+=1)Array.isArray(w[x])?y.push([h(w[x][0]),w[x][1],w[x][2]]):y.push([h(w[x])]);v=y}else v=h(w);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",b])}(dt.API),dt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(dt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(v){b=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,h=0,b=0,v=0,w=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=u.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,k){return S.concat(w.splitTextToSize(k,y))},[])):c=Array.isArray(c)?c:[c];for(var x=0;x<c.length;x++)h<(v=this.getStringUnitWidth(c[x],{font:p})*d)&&(h=v);return h!==0&&(b=c.length),{w:h/=m,h:Math.max((b*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,h&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,p,m){if(r.call(this),!d)throw new Error("No data for PDF table.");var h,b,v,w,y=[],x=[],S=[],k={},D={},A=[],R=[],L=(m=m||{}).autoSize||!1,C=m.printHeaders!==!1,M=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,E=m.margins||Object.assign({width:this.getPageWidth()},t),P=typeof m.padding=="number"?m.padding:3,z=m.headerBackgroundColor||"#c8c8c8",$=m.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=$,this.setFontSize(M),p==null)x=y=Object.keys(d[0]),S=y.map(function(){return"left"});else if(Array.isArray(p)&&fn(p[0])==="object")for(y=p.map(function(oe){return oe.name}),x=p.map(function(oe){return oe.prompt||oe.name||""}),S=p.map(function(oe){return oe.align||"left"}),h=0;h<p.length;h+=1)D[p[h].name]=.7499990551181103*p[h].width;else Array.isArray(p)&&typeof p[0]=="string"&&(x=y=p,S=y.map(function(){return"left"}));if(L||Array.isArray(p)&&typeof p[0]=="string")for(h=0;h<y.length;h+=1){for(k[w=y[h]]=d.map(function(oe){return oe[w]}),this.setFont(void 0,"bold"),A.push(this.getTextDimensions(x[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=k[w],this.setFont(void 0,"normal"),v=0;v<b.length;v+=1)A.push(this.getTextDimensions(b[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[w]=Math.max.apply(null,A)+P+P,A=[]}if(C){var Z={};for(h=0;h<y.length;h+=1)Z[y[h]]={},Z[y[h]].text=x[h],Z[y[h]].align=S[h];var ie=l.call(this,Z,D);R=y.map(function(oe){return new i(c,u,D[oe],ie,Z[oe].text,void 0,Z[oe].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var te=p.reduce(function(oe,ae){return oe[ae.name]=ae.align,oe},{});for(h=0;h<d.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:d[h]},this);var V=l.call(this,d[h],D);for(v=0;v<y.length;v+=1){var G=d[h][y[v]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:v,data:G},this),o.call(this,new i(c,u,D[y[v]],V,G,h+2,te[y[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(h){var b=c[h];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*p/m+d+d},this).reduce(function(h,b){return Math.max(h,b)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(b)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}}(dt.API);var AP={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},PP=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],F2=kP(PP),LP=[100,200,300,400,500,600,700,800,900],uH=kP(LP);function F1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return AP[i=i||"normal"]?i:"normal"}(e.style),r=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),s=function(i){return typeof F2[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,r].join(" ")}}}function sN(e,t,n,r){var s;for(s=n;s>=0&&s<t.length;s+=r)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=r)if(e[t[s]])return e[t[s]]}var dH={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},iN={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function aN(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function oN(e){return e.trimLeft()}function hH(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function fH(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var dm,lN,cN,ru,hm,uN,dN,hN,B1=["times"];function fN(e,t,n,r,s){var i=4,o=mN;switch(s){case dt.API.image_compression.FAST:i=1,o=pN;break;case dt.API.image_compression.MEDIUM:i=6,o=gN;break;case dt.API.image_compression.SLOW:i=9,o=vN}e=function(c,u,d,p){for(var m,h=c.length/u,b=new Uint8Array(c.length+h),v=[pH,pN,mN,gN,vN],w=0;w<h;w+=1){var y=w*u,x=c.subarray(y,y+u);if(p)b.set(p(x,d,m),y+w);else{for(var S=v.length,k=[],D=0;D<S;D+=1)k[D]=v[D](x,d,m);var A=gH(k.concat());b.set(k[A],y+w)}m=x}return b}(e,t,Math.ceil(n*r/8),o);var l=j2(e,{level:i});return dt.API.__addimage__.arrayBufferToBinaryString(l)}function pH(e){var t=Array.apply([],e);return t.unshift(0),t}function pN(e,t){var n=e.length,r=[];r[0]=1;for(var s=0;s<n;s+=1){var i=e[s-t]||0;r[s+1]=e[s]-i+256&255}return r}function mN(e,t,n){var r=e.length,s=[];s[0]=2;for(var i=0;i<r;i+=1){var o=n&&n[i]||0;s[i+1]=e[i]-o+256&255}return s}function gN(e,t,n){var r=e.length,s=[];s[0]=3;for(var i=0;i<r;i+=1){var o=e[i-t]||0,l=n&&n[i]||0;s[i+1]=e[i]+256-(o+l>>>1)&255}return s}function vN(e,t,n){var r=e.length,s=[];s[0]=4;for(var i=0;i<r;i+=1){var o=mH(e[i-t]||0,n&&n[i]||0,n&&n[i-t]||0);s[i+1]=e[i]-o+256&255}return s}function mH(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),s=Math.abs(e-n),i=Math.abs(e+t-n-n);return r<=s&&r<=i?e:s<=i?t:n}function gH(e){var t=e.map(function(n){return n.reduce(function(r,s){return r+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function $1(e,t,n){var r=t*n,s=Math.floor(r/8),i=16-(r-8*s+n),o=(1<<n)-1;return TP(e,s)>>i&o}function yN(e,t,n,r){var s=n*r,i=Math.floor(s/8),o=16-(s-8*i+r),l=(1<<r)-1,c=(t&l)<<o;(function(u,d,p){if(d+1<u.byteLength)u.setUint16(d,p,!1);else{var m=p>>8&255;u.setUint8(d,m)}})(e,i,TP(e,i)&~(l<<o)&65535|c)}function TP(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function vH(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<1+(7&s);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,d=[],p=0,m=null,h=0,b=null;for(this.width=n,this.height=r;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];p=e[t++]|e[t++]<<8,m=e[t++],1&v||(m=null),h=v>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var w=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,k=e[t++],D=k>>6&1,A=1<<1+(7&k),R=l,L=c,C=!1;k>>7&&(C=!0,R=t,L=A,t+=3*A);var M=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}d.push({x:w,y,width:x,height:S,has_local_palette:C,palette_offset:R,palette_size:L,data_offset:M,data_length:t-M,transparent_index:m,interlaced:!!D,delay:p,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return b},this.frameInfo=function(P){if(P<0||P>=d.length)throw new Error("Frame index out of range.");return d[P]},this.decodeAndBlitFrameBGRA=function(P,z){var $=this.frameInfo(P),Z=$.width*$.height,ie=new Uint8Array(Z);xN(e,$.data_offset,ie,Z);var te=$.palette_offset,V=$.transparent_index;V===null&&(V=256);var G=$.width,oe=n-G,ae=G,O=4*($.y*n+$.x),T=4*(($.y+$.height)*n+$.x),U=O,W=4*oe;$.interlaced===!0&&(W+=4*n*7);for(var Q=8,Y=0,le=ie.length;Y<le;++Y){var ue=ie[Y];if(ae===0&&(ae=G,(U+=W)>=T&&(W=4*oe+4*n*(Q-1),U=O+(G+oe)*(Q<<1),Q>>=1)),ue===V)U+=4;else{var pe=e[te+3*ue],de=e[te+3*ue+1],ye=e[te+3*ue+2];z[U++]=ye,z[U++]=de,z[U++]=pe,z[U++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(P,z){var $=this.frameInfo(P),Z=$.width*$.height,ie=new Uint8Array(Z);xN(e,$.data_offset,ie,Z);var te=$.palette_offset,V=$.transparent_index;V===null&&(V=256);var G=$.width,oe=n-G,ae=G,O=4*($.y*n+$.x),T=4*(($.y+$.height)*n+$.x),U=O,W=4*oe;$.interlaced===!0&&(W+=4*n*7);for(var Q=8,Y=0,le=ie.length;Y<le;++Y){var ue=ie[Y];if(ae===0&&(ae=G,(U+=W)>=T&&(W=4*oe+4*n*(Q-1),U=O+(G+oe)*(Q<<1),Q>>=1)),ue===V)U+=4;else{var pe=e[te+3*ue],de=e[te+3*ue+1],ye=e[te+3*ue+2];z[U++]=pe,z[U++]=de,z[U++]=ye,z[U++]=255}--ae}}}function xN(e,t,n,r){for(var s=e[t++],i=1<<s,o=i+1,l=o+1,c=s+1,u=(1<<c)-1,d=0,p=0,m=0,h=e[t++],b=new Int32Array(4096),v=null;;){for(;d<16&&h!==0;)p|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<c)break;var w=p&u;if(p>>=c,d-=c,w!==i){if(w===o)break;for(var y=w<l?w:v,x=0,S=y;S>i;)S=b[S]>>8,++x;var k=S;if(m+x+(y!==w?1:0)>r)return void Sn.log("Warning, gif stream longer than expected.");n[m++]=k;var D=m+=x;for(y!==w&&(n[m++]=k),S=y;x--;)S=b[S],n[--D]=255&S,S>>=8;v!==null&&l<4096&&(b[l++]=v<<8|k,l>=u+1&&c<12&&(++c,u=u<<1|1)),v=w}else l=o+1,u=(1<<(c=s+1))-1,v=null}return m!==r&&Sn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function U1(e){var t,n,r,s,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),p=new Array(65535),m=new Array(65535),h=new Array(64),b=new Array(64),v=[],w=0,y=7,x=new Array(64),S=new Array(64),k=new Array(64),D=new Array(256),A=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(O,T){for(var U=0,W=0,Q=new Array,Y=1;Y<=16;Y++){for(var le=1;le<=O[Y];le++)Q[T[W]]=[],Q[T[W]][0]=U,Q[T[W]][1]=Y,W++,U++;U*=2}return Q}function te(O){for(var T=O[0],U=O[1]-1;U>=0;)T&1<<U&&(w|=1<<y),U--,--y<0&&(w==255?(V(255),V(0)):V(w),y=7,w=0)}function V(O){v.push(O)}function G(O){V(O>>8&255),V(255&O)}function oe(O,T,U,W,Q){for(var Y,le=Q[0],ue=Q[240],pe=function(ge,je){var ve,Ne,Ee,et,Fe,Ye,ht,ft,Qe,He,Ie=0;for(Qe=0;Qe<8;++Qe){ve=ge[Ie],Ne=ge[Ie+1],Ee=ge[Ie+2],et=ge[Ie+3],Fe=ge[Ie+4],Ye=ge[Ie+5],ht=ge[Ie+6];var Ze=ve+(ft=ge[Ie+7]),At=ve-ft,Xe=Ne+ht,ut=Ne-ht,St=Ee+Ye,Ke=Ee-Ye,vt=et+Fe,nt=et-Fe,Ut=Ze+vt,Vt=Ze-vt,Dt=Xe+St,ot=Xe-St;ge[Ie]=Ut+Dt,ge[Ie+4]=Ut-Dt;var Ct=.707106781*(ot+Vt);ge[Ie+2]=Vt+Ct,ge[Ie+6]=Vt-Ct;var yt=.382683433*((Ut=nt+Ke)-(ot=ut+At)),Nt=.5411961*Ut+yt,bt=1.306562965*ot+yt,Ot=.707106781*(Dt=Ke+ut),Je=At+Ot,nn=At-Ot;ge[Ie+5]=nn+Nt,ge[Ie+3]=nn-Nt,ge[Ie+1]=Je+bt,ge[Ie+7]=Je-bt,Ie+=8}for(Ie=0,Qe=0;Qe<8;++Qe){ve=ge[Ie],Ne=ge[Ie+8],Ee=ge[Ie+16],et=ge[Ie+24],Fe=ge[Ie+32],Ye=ge[Ie+40],ht=ge[Ie+48];var jn=ve+(ft=ge[Ie+56]),an=ve-ft,wn=Ne+ht,ln=Ne-ht,zn=Ee+Ye,En=Ee-Ye,Qr=et+Fe,us=et-Fe,Dn=jn+Qr,ds=jn-Qr,hs=wn+zn,Cs=wn-zn;ge[Ie]=Dn+hs,ge[Ie+32]=Dn-hs;var fs=.707106781*(Cs+ds);ge[Ie+16]=ds+fs,ge[Ie+48]=ds-fs;var $i=.382683433*((Dn=us+En)-(Cs=ln+an)),Xs=.5411961*Dn+$i,ma=1.306562965*Cs+$i,Za=.707106781*(hs=En+ln),Ic=an+Za,Rc=an-Za;ge[Ie+40]=Rc+Xs,ge[Ie+24]=Rc-Xs,ge[Ie+8]=Ic+ma,ge[Ie+56]=Ic-ma,Ie++}for(Qe=0;Qe<64;++Qe)He=ge[Qe]*je[Qe],h[Qe]=He>0?He+.5|0:He-.5|0;return h}(O,T),de=0;de<64;++de)b[R[de]]=pe[de];var ye=b[0]-U;U=b[0],ye==0?te(W[0]):(te(W[m[Y=32767+ye]]),te(p[Y]));for(var Te=63;Te>0&&b[Te]==0;)Te--;if(Te==0)return te(le),U;for(var _e,J=1;J<=Te;){for(var at=J;b[J]==0&&J<=Te;)++J;var ee=J-at;if(ee>=16){_e=ee>>4;for(var Se=1;Se<=_e;++Se)te(ue);ee&=15}Y=32767+b[J],te(Q[(ee<<4)+m[Y]]),te(p[Y]),J++}return Te!=63&&te(le),U}function ae(O){O=Math.min(Math.max(O,1),100),i!=O&&(function(T){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var Q=o((U[W]*T+50)/100);Q=Math.min(Math.max(Q,1),255),l[R[W]]=Q}for(var Y=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],le=0;le<64;le++){var ue=o((Y[le]*T+50)/100);ue=Math.min(Math.max(ue,1),255),c[R[le]]=ue}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],de=0,ye=0;ye<8;ye++)for(var Te=0;Te<8;Te++)u[de]=1/(l[R[de]]*pe[ye]*pe[Te]*8),d[de]=1/(c[R[de]]*pe[ye]*pe[Te]*8),de++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),i=O)}this.encode=function(O,T){T&&ae(T),v=new Array,w=0,y=7,G(65496),G(65504),G(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),G(1),G(1),V(0),V(0),function(){G(65499),G(132),V(0);for(var Ne=0;Ne<64;Ne++)V(l[Ne]);V(1);for(var Ee=0;Ee<64;Ee++)V(c[Ee])}(),function(Ne,Ee){G(65472),G(17),V(8),G(Ee),G(Ne),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(O.width,O.height),function(){G(65476),G(418),V(0);for(var Ne=0;Ne<16;Ne++)V(L[Ne+1]);for(var Ee=0;Ee<=11;Ee++)V(C[Ee]);V(16);for(var et=0;et<16;et++)V(M[et+1]);for(var Fe=0;Fe<=161;Fe++)V(E[Fe]);V(1);for(var Ye=0;Ye<16;Ye++)V(P[Ye+1]);for(var ht=0;ht<=11;ht++)V(z[ht]);V(17);for(var ft=0;ft<16;ft++)V($[ft+1]);for(var Qe=0;Qe<=161;Qe++)V(Z[Qe])}(),G(65498),G(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var U=0,W=0,Q=0;w=0,y=7,this.encode.displayName="_encode_";for(var Y,le,ue,pe,de,ye,Te,_e,J,at=O.data,ee=O.width,Se=O.height,ge=4*ee,je=0;je<Se;){for(Y=0;Y<ge;){for(de=ge*je+Y,Te=-1,_e=0,J=0;J<64;J++)ye=de+(_e=J>>3)*ge+(Te=4*(7&J)),je+_e>=Se&&(ye-=ge*(je+1+_e-Se)),Y+Te>=ge&&(ye-=Y+Te-ge+4),le=at[ye++],ue=at[ye++],pe=at[ye++],x[J]=(A[le]+A[ue+256|0]+A[pe+512|0]>>16)-128,S[J]=(A[le+768|0]+A[ue+1024|0]+A[pe+1280|0]>>16)-128,k[J]=(A[le+1280|0]+A[ue+1536|0]+A[pe+1792|0]>>16)-128;U=oe(x,u,U,t,r),W=oe(S,d,W,n,s),Q=oe(k,d,Q,n,s),Y+=32}je+=8}if(y>=0){var ve=[];ve[1]=y+1,ve[0]=(1<<y+1)-1,te(ve)}return G(65497),new Uint8Array(v)},e=e||50,function(){for(var O=String.fromCharCode,T=0;T<256;T++)D[T]=O(T)}(),t=ie(L,C),n=ie(P,z),r=ie(M,E),s=ie($,Z),function(){for(var O=1,T=2,U=1;U<=15;U++){for(var W=O;W<T;W++)m[32767+W]=U,p[32767+W]=[],p[32767+W][1]=U,p[32767+W][0]=W;for(var Q=-(T-1);Q<=-O;Q++)m[32767+Q]=U,p[32767+Q]=[],p[32767+Q][1]=U,p[32767+Q][0]=T-1+Q;O<<=1,T<<=1}}(),function(){for(var O=0;O<256;O++)A[O]=19595*O,A[O+256|0]=38470*O,A[O+512|0]=7471*O+32768,A[O+768|0]=-11059*O,A[O+1024|0]=-21709*O,A[O+1280|0]=32768*O+8421375,A[O+1536|0]=-27439*O,A[O+1792|0]=-5329*O}(),ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function wi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function wN(e){function t(C){if(!C)throw Error("assert :P")}function n(C,M,E){for(var P=0;4>P;P++)if(C[M+P]!=E.charCodeAt(P))return!0;return!1}function r(C,M,E,P,z){for(var $=0;$<z;$++)C[M+$]=E[P+$]}function s(C,M,E,P){for(var z=0;z<P;z++)C[M+z]=E}function i(C){return new Int32Array(C)}function o(C,M){for(var E=[],P=0;P<C;P++)E.push(new M);return E}function l(C,M){var E=[];return function P(z,$,Z){for(var ie=Z[$],te=0;te<ie&&(z.push(Z.length>$+1?[]:new M),!(Z.length<$+1));te++)P(z[te],$+1,Z)}(E,0,C),E}var c=function(){var C=this;function M(f,g){for(var j=1<<g-1>>>0;f&j;)j>>>=1;return j?(f&j-1)+j:f}function E(f,g,j,I,B){t(!(I%j));do f[g+(I-=j)]=B;while(0<I)}function P(f,g,j,I,B){if(t(2328>=B),512>=B)var q=i(512);else if((q=i(B))==null)return 0;return function(H,K,X,ne,he,be){var re,fe,xe=K,Ce=1<<X,we=i(16),ke=i(16);for(t(he!=0),t(ne!=null),t(H!=null),t(0<X),fe=0;fe<he;++fe){if(15<ne[fe])return 0;++we[ne[fe]]}if(we[0]==he)return 0;for(ke[1]=0,re=1;15>re;++re){if(we[re]>1<<re)return 0;ke[re+1]=ke[re]+we[re]}for(fe=0;fe<he;++fe)re=ne[fe],0<ne[fe]&&(be[ke[re]++]=fe);if(ke[15]==1)return(ne=new z).g=0,ne.value=be[0],E(H,xe,1,Ce,ne),Ce;var Pe,Be=-1,De=Ce-1,xt=0,rt=1,Mt=1,lt=1<<X;for(fe=0,re=1,he=2;re<=X;++re,he<<=1){if(rt+=Mt<<=1,0>(Mt-=we[re]))return 0;for(;0<we[re];--we[re])(ne=new z).g=re,ne.value=be[fe++],E(H,xe+xt,he,lt,ne),xt=M(xt,re)}for(re=X+1,he=2;15>=re;++re,he<<=1){if(rt+=Mt<<=1,0>(Mt-=we[re]))return 0;for(;0<we[re];--we[re]){if(ne=new z,(xt&De)!=Be){for(xe+=lt,Pe=1<<(Be=re)-X;15>Be&&!(0>=(Pe-=we[Be]));)++Be,Pe<<=1;Ce+=lt=1<<(Pe=Be-X),H[K+(Be=xt&De)].g=Pe+X,H[K+Be].value=xe-K-Be}ne.g=re-X,ne.value=be[fe++],E(H,xe+(xt>>X),he,lt,ne),xt=M(xt,re)}}return rt!=2*ke[15]-1?0:Ce}(f,g,j,I,B,q)}function z(){this.value=this.g=0}function $(){this.value=this.g=0}function Z(){this.G=o(5,z),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Rl,$)}function ie(f,g,j,I){t(f!=null),t(g!=null),t(2147483648>I),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=g,f.pa=j,f.Jd=g,f.Yc=j+I,f.Zc=4<=I?j+I-4+1:j,le(f)}function te(f,g){for(var j=0;0<g--;)j|=pe(f,128)<<g;return j}function V(f,g){var j=te(f,g);return ue(f)?-j:j}function G(f,g,j,I){var B,q=0;for(t(f!=null),t(g!=null),t(4294967288>I),f.Sb=I,f.Ra=0,f.u=0,f.h=0,4<I&&(I=4),B=0;B<I;++B)q+=g[j+B]<<8*B;f.Ra=q,f.bb=I,f.oa=g,f.pa=j}function oe(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<so-8>>>0,++f.bb,f.u-=8;W(f)&&(f.h=1,f.u=0)}function ae(f,g){if(t(0<=g),!f.h&&g<=As){var j=U(f)&ks[g];return f.u+=g,oe(f),j}return f.h=1,f.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function T(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(f){return f.Ra>>>(f.u&so-1)>>>0}function W(f){return t(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>so}function Q(f,g){f.u=g,f.h=W(f)}function Y(f){f.u>=_a&&(t(f.u>=_a),oe(f))}function le(f){t(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(t(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function ue(f){return te(f,1)}function pe(f,g){var j=f.Ca;0>f.b&&le(f);var I=f.b,B=j*g>>>8,q=(f.I>>>I>B)+0;for(q?(j-=B,f.I-=B+1<<I>>>0):j=B+1,I=j,B=0;256<=I;)B+=8,I>>=8;return I=7^B+io[I],f.b-=I,f.Ca=(j<<I)-1,q}function de(f,g,j){f[g+0]=j>>24&255,f[g+1]=j>>16&255,f[g+2]=j>>8&255,f[g+3]=255&j}function ye(f,g){return f[g+0]|f[g+1]<<8}function Te(f,g){return ye(f,g)|f[g+2]<<16}function _e(f,g){return ye(f,g)|ye(f,g+2)<<16}function J(f,g){var j=1<<g;return t(f!=null),t(0<g),f.X=i(j),f.X==null?0:(f.Mb=32-g,f.Xa=g,1)}function at(f,g){t(f!=null),t(g!=null),t(f.Xa==g.Xa),r(g.X,0,f.X,0,1<<g.Xa)}function ee(){this.X=[],this.Xa=this.Mb=0}function Se(f,g,j,I){t(j!=null),t(I!=null);var B=j[0],q=I[0];return B==0&&(B=(f*q+g/2)/g),q==0&&(q=(g*B+f/2)/f),0>=B||0>=q?0:(j[0]=B,I[0]=q,1)}function ge(f,g){return f+(1<<g)-1>>>g}function je(f,g){return((4278255360&f)+(4278255360&g)>>>0&4278255360)+((16711935&f)+(16711935&g)>>>0&16711935)>>>0}function ve(f,g){C[g]=function(j,I,B,q,H,K,X){var ne;for(ne=0;ne<H;++ne){var he=C[f](K[X+ne-1],B,q+ne);K[X+ne]=je(j[I+ne],he)}}}function Ne(){this.ud=this.hd=this.jd=0}function Ee(f,g){return((4278124286&(f^g))>>>1)+(f&g)>>>0}function et(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Fe(f,g){return et(f+(f-g+.5>>1))}function Ye(f,g,j){return Math.abs(g-j)-Math.abs(f-j)}function ht(f,g,j,I,B,q,H){for(I=q[H-1],j=0;j<B;++j)q[H+j]=I=je(f[g+j],I)}function ft(f,g,j,I,B){var q;for(q=0;q<j;++q){var H=f[g+q],K=H>>8&255,X=16711935&(X=(X=16711935&H)+((K<<16)+K));I[B+q]=(4278255360&H)+X>>>0}}function Qe(f,g){g.jd=255&f,g.hd=f>>8&255,g.ud=f>>16&255}function He(f,g,j,I,B,q){var H;for(H=0;H<I;++H){var K=g[j+H],X=K>>>8,ne=K,he=255&(he=(he=K>>>16)+((f.jd<<24>>24)*(X<<24>>24)>>>5));ne=255&(ne=(ne+=(f.hd<<24>>24)*(X<<24>>24)>>>5)+((f.ud<<24>>24)*(he<<24>>24)>>>5)),B[q+H]=(4278255360&K)+(he<<16)+ne}}function Ie(f,g,j,I,B){C[g]=function(q,H,K,X,ne,he,be,re,fe){for(X=be;X<re;++X)for(be=0;be<fe;++be)ne[he++]=B(K[I(q[H++])])},C[f]=function(q,H,K,X,ne,he,be){var re=8>>q.b,fe=q.Ea,xe=q.K[0],Ce=q.w;if(8>re)for(q=(1<<q.b)-1,Ce=(1<<re)-1;H<K;++H){var we,ke=0;for(we=0;we<fe;++we)we&q||(ke=I(X[ne++])),he[be++]=B(xe[ke&Ce]),ke>>=re}else C["VP8LMapColor"+j](X,ne,xe,Ce,he,be,H,K,fe)}}function Ze(f,g,j,I,B){for(j=g+j;g<j;){var q=f[g++];I[B++]=q>>16&255,I[B++]=q>>8&255,I[B++]=255&q}}function At(f,g,j,I,B){for(j=g+j;g<j;){var q=f[g++];I[B++]=q>>16&255,I[B++]=q>>8&255,I[B++]=255&q,I[B++]=q>>24&255}}function Xe(f,g,j,I,B){for(j=g+j;g<j;){var q=(H=f[g++])>>16&240|H>>12&15,H=240&H|H>>28&15;I[B++]=q,I[B++]=H}}function ut(f,g,j,I,B){for(j=g+j;g<j;){var q=(H=f[g++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;I[B++]=q,I[B++]=H}}function St(f,g,j,I,B){for(j=g+j;g<j;){var q=f[g++];I[B++]=255&q,I[B++]=q>>8&255,I[B++]=q>>16&255}}function Ke(f,g,j,I,B,q){if(q==0)for(j=g+j;g<j;)de(I,((q=f[g++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),B+=32;else r(I,B,f,g,j)}function vt(f,g){C[g][0]=C[f+"0"],C[g][1]=C[f+"1"],C[g][2]=C[f+"2"],C[g][3]=C[f+"3"],C[g][4]=C[f+"4"],C[g][5]=C[f+"5"],C[g][6]=C[f+"6"],C[g][7]=C[f+"7"],C[g][8]=C[f+"8"],C[g][9]=C[f+"9"],C[g][10]=C[f+"10"],C[g][11]=C[f+"11"],C[g][12]=C[f+"12"],C[g][13]=C[f+"13"],C[g][14]=C[f+"0"],C[g][15]=C[f+"0"]}function nt(f){return f==ev||f==tv||f==gp||f==nv}function Ut(){this.eb=[],this.size=this.A=this.fb=0}function Vt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Dt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ut,this.f.kb=new Vt,this.sd=null}function ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ct(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function yt(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Nt(f,g){var j=f.T,I=g.ba.f.RGBA,B=I.eb,q=I.fb+f.ka*I.A,H=ni[g.ba.S],K=f.y,X=f.O,ne=f.f,he=f.N,be=f.ea,re=f.W,fe=g.cc,xe=g.dc,Ce=g.Mc,we=g.Nc,ke=f.ka,Pe=f.ka+f.T,Be=f.U,De=Be+1>>1;for(ke==0?H(K,X,null,null,ne,he,be,re,ne,he,be,re,B,q,null,null,Be):(H(g.ec,g.fc,K,X,fe,xe,Ce,we,ne,he,be,re,B,q-I.A,B,q,Be),++j);ke+2<Pe;ke+=2)fe=ne,xe=he,Ce=be,we=re,he+=f.Rc,re+=f.Rc,q+=2*I.A,H(K,(X+=2*f.fa)-f.fa,K,X,fe,xe,Ce,we,ne,he,be,re,B,q-I.A,B,q,Be);return X+=f.fa,f.j+Pe<f.o?(r(g.ec,g.fc,K,X,Be),r(g.cc,g.dc,ne,he,De),r(g.Mc,g.Nc,be,re,De),j--):1&Pe||H(K,X,null,null,ne,he,be,re,ne,he,be,re,B,q+I.A,null,null,Be),j}function bt(f,g,j){var I=f.F,B=[f.J];if(I!=null){var q=f.U,H=g.ba.S,K=H==mp||H==gp;g=g.ba.f.RGBA;var X=[0],ne=f.ka;X[0]=f.T,f.Kb&&(ne==0?--X[0]:(--ne,B[0]-=f.width),f.j+f.ka+f.T==f.o&&(X[0]=f.o-f.j-ne));var he=g.eb;ne=g.fb+ne*g.A,f=Ww(I,B[0],f.width,q,X,he,ne+(K?0:3),g.A),t(j==X),f&&nt(H)&&Hd(he,ne,K,q,X,g.A)}return 0}function Ot(f){var g=f.ma,j=g.ba.S,I=11>j,B=j==fp||j==pp||j==mp||j==Z0||j==12||nt(j);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Md(g.Oa,f,B?11:12))return 0;if(B&&nt(j)&&op(),f.da)alert("todo:use_scaling");else{if(I){if(g.Ib=yt,f.Kb){if(j=f.U+1>>1,g.memory=i(f.U+2*j),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+f.U,g.Mc=g.cc,g.Nc=g.dc+j,g.Ib=Nt,op()}}else alert("todo:EmitYUV");B&&(g.Jb=bt,I&&Qs())}if(I&&!ob){for(f=0;256>f;++f)$6[f]=89858*(f-128)+yp>>vp,q6[f]=-22014*(f-128)+yp,z6[f]=-45773*(f-128),U6[f]=113618*(f-128)+yp>>vp;for(f=Gd;f<iv;++f)g=76283*(f-16)+yp>>vp,W6[f-Gd]=Kn(g,255),H6[f-Gd]=Kn(g+8>>4,15);ob=1}return 1}function Je(f){var g=f.ma,j=f.U,I=f.T;return t(!(1&f.ka)),0>=j||0>=I?0:(j=g.Ib(f,g),g.Jb!=null&&g.Jb(f,g,j),g.Dc+=j,1)}function nn(f){f.ma.memory=null}function jn(f,g,j,I){return ae(f,8)!=47?0:(g[0]=ae(f,14)+1,j[0]=ae(f,14)+1,I[0]=ae(f,1),ae(f,3)!=0?0:!f.h)}function an(f,g){if(4>f)return f+1;var j=f-2>>1;return(2+(1&f)<<j)+ae(g,j)+1}function wn(f,g){return 120<g?g-120:1<=(j=((j=E6[g-1])>>4)*f+(8-(15&j)))?j:1;var j}function ln(f,g,j){var I=U(j),B=f[g+=255&I].g-8;return 0<B&&(Q(j,j.u+8),I=U(j),g+=f[g].value,g+=I&(1<<B)-1),Q(j,j.u+f[g].g),f[g].value}function zn(f,g,j){return j.g+=f.g,j.value+=f.value<<g>>>0,t(8>=j.g),f.g}function En(f,g,j){var I=f.xc;return t((g=I==0?0:f.vc[f.md*(j>>I)+(g>>I)])<f.Wb),f.Ya[g]}function Qr(f,g,j,I){var B=f.ab,q=f.c*g,H=f.C;g=H+g;var K=j,X=I;for(I=f.Ta,j=f.Ua;0<B--;){var ne=f.gc[B],he=H,be=g,re=K,fe=X,xe=(X=I,K=j,ne.Ea);switch(t(he<be),t(be<=ne.nc),ne.hc){case 2:tr(re,fe,(be-he)*xe,X,K);break;case 0:var Ce=he,we=be,ke=X,Pe=K,Be=(lt=ne).Ea;Ce==0&&(Bd(re,fe,null,null,1,ke,Pe),ht(re,fe+1,0,0,Be-1,ke,Pe+1),fe+=Be,Pe+=Be,++Ce);for(var De=1<<lt.b,xt=De-1,rt=ge(Be,lt.b),Mt=lt.K,lt=lt.w+(Ce>>lt.b)*rt;Ce<we;){var Yt=Mt,yr=lt,Ft=1;for(zc(re,fe,ke,Pe-Be,1,ke,Pe);Ft<Be;){var ct=(Ft&~xt)+De;ct>Be&&(ct=Be),(0,Ud[Yt[yr++]>>8&15])(re,fe+ +Ft,ke,Pe+Ft-Be,ct-Ft,ke,Pe+Ft),Ft=ct}fe+=Be,Pe+=Be,++Ce&xt||(lt+=rt)}be!=ne.nc&&r(X,K-xe,X,K+(be-he-1)*xe,xe);break;case 1:for(xe=re,we=fe,Be=(re=ne.Ea)-(Pe=re&~(ke=(fe=1<<ne.b)-1)),Ce=ge(re,ne.b),De=ne.K,ne=ne.w+(he>>ne.b)*Ce;he<be;){for(xt=De,rt=ne,Mt=new Ne,lt=we+Pe,Yt=we+re;we<lt;)Qe(xt[rt++],Mt),zd(Mt,xe,we,fe,X,K),we+=fe,K+=fe;we<Yt&&(Qe(xt[rt++],Mt),zd(Mt,xe,we,Be,X,K),we+=Be,K+=Be),++he&ke||(ne+=Ce)}break;case 3:if(re==X&&fe==K&&0<ne.b){for(we=X,re=xe=K+(be-he)*xe-(Pe=(be-he)*ge(ne.Ea,ne.b)),fe=X,ke=K,Ce=[],Pe=(Be=Pe)-1;0<=Pe;--Pe)Ce[Pe]=fe[ke+Pe];for(Pe=Be-1;0<=Pe;--Pe)we[re+Pe]=Ce[Pe];cp(ne,he,be,X,xe,X,K)}else cp(ne,he,be,re,fe,X,K)}K=I,X=j}X!=j&&r(I,j,K,X,q)}function us(f,g){var j=f.V,I=f.Ba+f.c*f.C,B=g-f.C;if(t(g<=f.l.o),t(16>=B),0<B){var q=f.l,H=f.Ta,K=f.Ua,X=q.width;if(Qr(f,B,j,I),B=K=[K],t((j=f.C)<(I=g)),t(q.v<q.va),I>q.o&&(I=q.o),j<q.j){var ne=q.j-j;j=q.j,B[0]+=ne*X}if(j>=I?j=0:(B[0]+=4*q.v,q.ka=j-q.j,q.U=q.va-q.v,q.T=I-j,j=1),j){if(K=K[0],11>(j=f.ca).S){var he=j.f.RGBA,be=(I=j.S,B=q.U,q=q.T,ne=he.eb,he.A),re=q;for(he=he.fb+f.Ma*he.A;0<re--;){var fe=H,xe=K,Ce=B,we=ne,ke=he;switch(I){case hp:qd(fe,xe,Ce,we,ke);break;case fp:ao(fe,xe,Ce,we,ke);break;case ev:ao(fe,xe,Ce,we,ke),Hd(we,ke,0,Ce,1,0);break;case Jw:Ol(fe,xe,Ce,we,ke);break;case pp:Ke(fe,xe,Ce,we,ke,1);break;case tv:Ke(fe,xe,Ce,we,ke,1),Hd(we,ke,0,Ce,1,0);break;case mp:Ke(fe,xe,Ce,we,ke,0);break;case gp:Ke(fe,xe,Ce,we,ke,0),Hd(we,ke,1,Ce,1,0);break;case Z0:oo(fe,xe,Ce,we,ke);break;case nv:oo(fe,xe,Ce,we,ke),qw(we,ke,Ce,1,0);break;case Qw:lo(fe,xe,Ce,we,ke);break;default:t(0)}K+=X,he+=be}f.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");t(f.Ma<=j.height)}}f.C=g,t(f.C<=f.i)}function Dn(f){var g;if(0<f.ua)return 0;for(g=0;g<f.Wb;++g){var j=f.Ya[g].G,I=f.Ya[g].H;if(0<j[1][I[1]+0].g||0<j[2][I[2]+0].g||0<j[3][I[3]+0].g)return 0}return 1}function ds(f,g,j,I,B,q){if(f.Z!=0){var H=f.qd,K=f.rd;for(t(ho[f.Z]!=null);g<j;++g)ho[f.Z](H,K,I,B,I,B,q),H=I,K=B,B+=q;f.qd=H,f.rd=K}}function hs(f,g){var j=f.l.ma,I=j.Z==0||j.Z==1?f.l.j:f.C;if(I=f.C<I?I:f.C,t(g<=f.l.o),g>I){var B=f.l.width,q=j.ca,H=j.tb+B*I,K=f.V,X=f.Ba+f.c*I,ne=f.gc;t(f.ab==1),t(ne[0].hc==3),qi(ne[0],I,g,K,X,q,H),ds(j,I,g,q,H,B)}f.C=f.Ma=g}function Cs(f,g,j,I,B,q,H){var K=f.$/I,X=f.$%I,ne=f.m,he=f.s,be=j+f.$,re=be;B=j+I*B;var fe=j+I*q,xe=280+he.ua,Ce=f.Pb?K:16777216,we=0<he.ua?he.Wa:null,ke=he.wc,Pe=be<fe?En(he,X,K):null;t(f.C<q),t(fe<=B);var Be=!1;e:for(;;){for(;Be||be<fe;){var De=0;if(K>=Ce){var xt=be-j;t((Ce=f).Pb),Ce.wd=Ce.m,Ce.xd=xt,0<Ce.s.ua&&at(Ce.s.Wa,Ce.s.vb),Ce=K+k6}if(X&ke||(Pe=En(he,X,K)),t(Pe!=null),Pe.Qb&&(g[be]=Pe.qb,Be=!0),!Be)if(Y(ne),Pe.jc){De=ne,xt=g;var rt=be,Mt=Pe.pd[U(De)&Rl-1];t(Pe.jc),256>Mt.g?(Q(De,De.u+Mt.g),xt[rt]=Mt.value,De=0):(Q(De,De.u+Mt.g-256),t(256<=Mt.value),De=Mt.value),De==0&&(Be=!0)}else De=ln(Pe.G[0],Pe.H[0],ne);if(ne.h)break;if(Be||256>De){if(!Be)if(Pe.nd)g[be]=(Pe.qb|De<<8)>>>0;else{if(Y(ne),Be=ln(Pe.G[1],Pe.H[1],ne),Y(ne),xt=ln(Pe.G[2],Pe.H[2],ne),rt=ln(Pe.G[3],Pe.H[3],ne),ne.h)break;g[be]=(rt<<24|Be<<16|De<<8|xt)>>>0}if(Be=!1,++be,++X>=I&&(X=0,++K,H!=null&&K<=q&&!(K%16)&&H(f,K),we!=null))for(;re<be;)De=g[re++],we.X[(506832829*De&4294967295)>>>we.Mb]=De}else if(280>De){if(De=an(De-256,ne),xt=ln(Pe.G[4],Pe.H[4],ne),Y(ne),xt=wn(I,xt=an(xt,ne)),ne.h)break;if(be-j<xt||B-be<De)break e;for(rt=0;rt<De;++rt)g[be+rt]=g[be+rt-xt];for(be+=De,X+=De;X>=I;)X-=I,++K,H!=null&&K<=q&&!(K%16)&&H(f,K);if(t(be<=B),X&ke&&(Pe=En(he,X,K)),we!=null)for(;re<be;)De=g[re++],we.X[(506832829*De&4294967295)>>>we.Mb]=De}else{if(!(De<xe))break e;for(Be=De-280,t(we!=null);re<be;)De=g[re++],we.X[(506832829*De&4294967295)>>>we.Mb]=De;De=be,t(!(Be>>>(xt=we).Xa)),g[De]=xt.X[Be],Be=!0}Be||t(ne.h==W(ne))}if(f.Pb&&ne.h&&be<B)t(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&at(f.s.vb,f.s.Wa);else{if(ne.h)break e;H!=null&&H(f,K>q?q:K),f.a=0,f.$=be-j}return 1}return f.a=3,0}function fs(f){t(f!=null),f.vc=null,f.yc=null,f.Ya=null;var g=f.Wa;g!=null&&(g.X=null),f.vb=null,t(f!=null)}function $i(){var f=new pt;return f==null?null:(f.a=0,f.xb=tb,vt("Predictor","VP8LPredictors"),vt("Predictor","VP8LPredictors_C"),vt("PredictorAdd","VP8LPredictorsAdd"),vt("PredictorAdd","VP8LPredictorsAdd_C"),tr=ft,zd=He,qd=Ze,ao=At,oo=Xe,lo=ut,Ol=St,C.VP8LMapColor32b=zi,C.VP8LMapColor8b=$d,f)}function Xs(f,g,j,I,B){var q=1,H=[f],K=[g],X=I.m,ne=I.s,he=null,be=0;e:for(;;){if(j)for(;q&&ae(X,1);){var re=H,fe=K,xe=I,Ce=1,we=xe.m,ke=xe.gc[xe.ab],Pe=ae(we,2);if(xe.Oc&1<<Pe)q=0;else{switch(xe.Oc|=1<<Pe,ke.hc=Pe,ke.Ea=re[0],ke.nc=fe[0],ke.K=[null],++xe.ab,t(4>=xe.ab),Pe){case 0:case 1:ke.b=ae(we,3)+2,Ce=Xs(ge(ke.Ea,ke.b),ge(ke.nc,ke.b),0,xe,ke.K),ke.K=ke.K[0];break;case 3:var Be,De=ae(we,8)+1,xt=16<De?0:4<De?1:2<De?2:3;if(re[0]=ge(ke.Ea,xt),ke.b=xt,Be=Ce=Xs(De,1,0,xe,ke.K)){var rt,Mt=De,lt=ke,Yt=1<<(8>>lt.b),yr=i(Yt);if(yr==null)Be=0;else{var Ft=lt.K[0],ct=lt.w;for(yr[0]=lt.K[0][0],rt=1;rt<1*Mt;++rt)yr[rt]=je(Ft[ct+rt],yr[rt-1]);for(;rt<4*Yt;++rt)yr[rt]=0;lt.K[0]=null,lt.K[0]=yr,Be=1}}Ce=Be;break;case 2:break;default:t(0)}q=Ce}}if(H=H[0],K=K[0],q&&ae(X,1)&&!(q=1<=(be=ae(X,4))&&11>=be)){I.a=3;break e}var Ve;if(Ve=q)t:{var rr,Tt,Jt,Ln=I,Ar=H,Zr=K,Yn=be,Fr=j,es=Ln.m,xr=Ln.s,Qt=[null],cn=1,Xn=0,un=C6[Yn];n:for(;;){if(Fr&&ae(es,1)){var Pr=ae(es,3)+2,gi=ge(Ar,Pr),sr=ge(Zr,Pr),ms=gi*sr;if(!Xs(gi,sr,0,Ln,Qt))break n;for(Qt=Qt[0],xr.xc=Pr,rr=0;rr<ms;++rr){var _n=Qt[rr]>>8&65535;Qt[rr]=_n,_n>=cn&&(cn=_n+1)}}if(es.h)break n;for(Tt=0;5>Tt;++Tt){var wr=Zw[Tt];!Tt&&0<Yn&&(wr+=1<<Yn),Xn<wr&&(Xn=wr)}var Ls=o(cn*un,z),ts=cn,Ts=o(ts,Z);if(Ts==null)var Is=null;else t(65536>=ts),Is=Ts;var gs=i(Xn);if(Is==null||gs==null||Ls==null){Ln.a=1;break n}var Rs=Ls;for(rr=Jt=0;rr<cn;++rr){var kn=Is[rr],Os=kn.G,vi=kn.H,Ml=0,ja=1,Lr=0;for(Tt=0;5>Tt;++Tt){wr=Zw[Tt],Os[Tt]=Rs,vi[Tt]=Jt,!Tt&&0<Yn&&(wr+=1<<Yn);s:{var wp,av=wr,bp=Ln,Kd=gs,K6=Rs,Y6=Jt,ov=0,fo=bp.m,X6=ae(fo,1);if(s(Kd,0,0,av),X6){var J6=ae(fo,1)+1,Q6=ae(fo,1),ub=ae(fo,Q6==0?1:8);Kd[ub]=1,J6==2&&(Kd[ub=ae(fo,8)]=1);var _p=1}else{var db=i(19),hb=ae(fo,4)+4;if(19<hb){bp.a=3;var Sp=0;break s}for(wp=0;wp<hb;++wp)db[j6[wp]]=ae(fo,3);var lv=void 0,Yd=void 0,fb=bp,Z6=db,Np=av,pb=Kd,cv=0,po=fb.m,mb=8,gb=o(128,z);r:for(;P(gb,0,7,Z6,19);){if(ae(po,1)){var eL=2+2*ae(po,3);if((lv=2+ae(po,eL))>Np)break r}else lv=Np;for(Yd=0;Yd<Np&&lv--;){Y(po);var vb=gb[0+(127&U(po))];Q(po,po.u+vb.g);var Wc=vb.value;if(16>Wc)pb[Yd++]=Wc,Wc!=0&&(mb=Wc);else{var tL=Wc==16,yb=Wc-16,nL=S6[yb],xb=ae(po,_6[yb])+nL;if(Yd+xb>Np)break r;for(var rL=tL?mb:0;0<xb--;)pb[Yd++]=rL}}cv=1;break r}cv||(fb.a=3),_p=cv}(_p=_p&&!fo.h)&&(ov=P(K6,Y6,8,Kd,av)),_p&&ov!=0?Sp=ov:(bp.a=3,Sp=0)}if(Sp==0)break n;if(ja&&N6[Tt]==1&&(ja=Rs[Jt].g==0),Ml+=Rs[Jt].g,Jt+=Sp,3>=Tt){var Xd,uv=gs[0];for(Xd=1;Xd<wr;++Xd)gs[Xd]>uv&&(uv=gs[Xd]);Lr+=uv}}if(kn.nd=ja,kn.Qb=0,ja&&(kn.qb=(Os[3][vi[3]+0].value<<24|Os[1][vi[1]+0].value<<16|Os[2][vi[2]+0].value)>>>0,Ml==0&&256>Os[0][vi[0]+0].value&&(kn.Qb=1,kn.qb+=Os[0][vi[0]+0].value<<8)),kn.jc=!kn.Qb&&6>Lr,kn.jc){var jp,Ea=kn;for(jp=0;jp<Rl;++jp){var mo=jp,go=Ea.pd[mo],Ep=Ea.G[0][Ea.H[0]+mo];256<=Ep.value?(go.g=Ep.g+256,go.value=Ep.value):(go.g=0,go.value=0,mo>>=zn(Ep,8,go),mo>>=zn(Ea.G[1][Ea.H[1]+mo],16,go),mo>>=zn(Ea.G[2][Ea.H[2]+mo],0,go),zn(Ea.G[3][Ea.H[3]+mo],24,go))}}}xr.vc=Qt,xr.Wb=cn,xr.Ya=Is,xr.yc=Ls,Ve=1;break t}Ve=0}if(!(q=Ve)){I.a=3;break e}if(0<be){if(ne.ua=1<<be,!J(ne.Wa,be)){I.a=1,q=0;break e}}else ne.ua=0;var dv=I,wb=H,sL=K,hv=dv.s,fv=hv.xc;if(dv.c=wb,dv.i=sL,hv.md=ge(wb,fv),hv.wc=fv==0?-1:(1<<fv)-1,j){I.xb=O6;break e}if((he=i(H*K))==null){I.a=1,q=0;break e}q=(q=Cs(I,he,0,H,K,K,null))&&!X.h;break e}return q?(B!=null?B[0]=he:(t(he==null),t(j)),I.$=0,j||fs(ne)):fs(ne),q}function ma(f,g){var j=f.c*f.i,I=j+g+16*g;return t(f.c<=g),f.V=i(I),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+j+g,1)}function Za(f,g){var j=f.C,I=g-j,B=f.V,q=f.Ba+f.c*j;for(t(g<=f.l.o);0<I;){var H=16<I?16:I,K=f.l.ma,X=f.l.width,ne=X*H,he=K.ca,be=K.tb+X*j,re=f.Ta,fe=f.Ua;Qr(f,H,B,q),Hw(re,fe,he,be,ne),ds(K,j,j+H,he,be,X),I-=H,B+=H*f.c,j+=H}t(j==g),f.C=f.Ma=g}function Ic(){this.ub=this.yd=this.td=this.Rb=0}function Rc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function D0(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Sd(){this.Yb=function(){var f=[];return function g(j,I,B){for(var q=B[I],H=0;H<q&&(j.push(B.length>I+1?[]:0),!(B.length<I+1));H++)g(j[H],I+1,B)}(f,0,[3,11]),f}()}function Vf(){this.jb=i(3),this.Wc=l([4,8],Sd),this.Xc=l([4,17],Sd)}function Gf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Js(){this.ld=this.La=this.dd=this.tc=0}function Nd(){this.Na=this.la=0}function Kf(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function jd(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Yf(){this.uc=this.M=this.Nb=0,this.wa=Array(new Js),this.Y=0,this.ya=Array(new jd),this.aa=0,this.l=new Oc}function Xf(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Jf(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new Ic,this.Kc=new Rc,this.ed=new Gf,this.Qa=new D0,this.Ic=this.$c=this.Aa=0,this.D=new Yf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,O),this.ia=0,this.pb=o(4,Kf),this.Pa=new Vf,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Xf),this.Hd=0,this.rb=Array(new Nd),this.sb=0,this.wa=Array(new Js),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new jd),this.L=this.aa=0,this.gd=l([4,2],Js),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Oc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function M0(){var f=new Jf;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Vd||(Vd=ga)),f}function cr(f,g,j){return f.a==0&&(f.a=g,f.sc=j,f.cb=0),0}function Qf(f,g,j){return 3<=j&&f[g+0]==157&&f[g+1]==1&&f[g+2]==42}function Zf(f,g){if(f==null)return 0;if(f.a=0,f.sc="OK",g==null)return cr(f,2,"null VP8Io passed to VP8GetHeaders()");var j=g.data,I=g.w,B=g.ha;if(4>B)return cr(f,7,"Truncated header.");var q=j[I+0]|j[I+1]<<8|j[I+2]<<16,H=f.Od;if(H.Rb=!(1&q),H.td=q>>1&7,H.yd=q>>4&1,H.ub=q>>5,3<H.td)return cr(f,3,"Incorrect keyframe parameters.");if(!H.yd)return cr(f,4,"Frame not displayable.");I+=3,B-=3;var K=f.Kc;if(H.Rb){if(7>B)return cr(f,7,"cannot parse picture header");if(!Qf(j,I,B))return cr(f,3,"Bad code word");K.c=16383&(j[I+4]<<8|j[I+3]),K.Td=j[I+4]>>6,K.i=16383&(j[I+6]<<8|j[I+5]),K.Ud=j[I+6]>>6,I+=7,B-=7,f.za=K.c+15>>4,f.Ub=K.i+15>>4,g.width=K.c,g.height=K.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,s((q=f.Pa).jb,0,255,q.jb.length),t((q=f.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,s(q.Zb,0,0,q.Zb.length),s(q.Lb,0,0,q.Lb)}if(H.ub>B)return cr(f,7,"bad partition length");ie(q=f.m,j,I,H.ub),I+=H.ub,B-=H.ub,H.Rb&&(K.Ld=ue(q),K.Kd=ue(q)),K=f.Qa;var X,ne=f.Pa;if(t(q!=null),t(K!=null),K.Cb=ue(q),K.Cb){if(K.Bb=ue(q),ue(q)){for(K.Fb=ue(q),X=0;4>X;++X)K.Zb[X]=ue(q)?V(q,7):0;for(X=0;4>X;++X)K.Lb[X]=ue(q)?V(q,6):0}if(K.Bb)for(X=0;3>X;++X)ne.jb[X]=ue(q)?te(q,8):255}else K.Bb=0;if(q.Ka)return cr(f,3,"cannot parse segment header");if((K=f.ed).zd=ue(q),K.Tb=te(q,6),K.wb=te(q,3),K.Pc=ue(q),K.Pc&&ue(q)){for(ne=0;4>ne;++ne)ue(q)&&(K.vd[ne]=V(q,6));for(ne=0;4>ne;++ne)ue(q)&&(K.od[ne]=V(q,6))}if(f.L=K.Tb==0?0:K.zd?1:2,q.Ka)return cr(f,3,"cannot parse filter header");var he=B;if(B=X=I,I=X+he,K=he,f.Xb=(1<<te(f.m,2))-1,he<3*(ne=f.Xb))j=7;else{for(X+=3*ne,K-=3*ne,he=0;he<ne;++he){var be=j[B+0]|j[B+1]<<8|j[B+2]<<16;be>K&&(be=K),ie(f.Jc[+he],j,X,be),X+=be,K-=be,B+=3}ie(f.Jc[+ne],j,X,K),j=X<I?0:5}if(j!=0)return cr(f,j,"cannot parse partitions");for(j=te(X=f.m,7),B=ue(X)?V(X,4):0,I=ue(X)?V(X,4):0,K=ue(X)?V(X,4):0,ne=ue(X)?V(X,4):0,X=ue(X)?V(X,4):0,he=f.Qa,be=0;4>be;++be){if(he.Cb){var re=he.Zb[be];he.Fb||(re+=j)}else{if(0<be){f.pb[be]=f.pb[0];continue}re=j}var fe=f.pb[be];fe.Sc[0]=rv[Kn(re+B,127)],fe.Sc[1]=sv[Kn(re+0,127)],fe.Eb[0]=2*rv[Kn(re+I,127)],fe.Eb[1]=101581*sv[Kn(re+K,127)]>>16,8>fe.Eb[1]&&(fe.Eb[1]=8),fe.Qc[0]=rv[Kn(re+ne,117)],fe.Qc[1]=sv[Kn(re+X,127)],fe.lc=re+X}if(!H.Rb)return cr(f,4,"Not a key frame.");for(ue(q),H=f.Pa,j=0;4>j;++j){for(B=0;8>B;++B)for(I=0;3>I;++I)for(K=0;11>K;++K)ne=pe(q,I6[j][B][I][K])?te(q,8):L6[j][B][I][K],H.Wc[j][B].Yb[I][K]=ne;for(B=0;17>B;++B)H.Xc[j][B]=H.Wc[j][R6[B]]}return f.kc=ue(q),f.kc&&(f.Bd=te(q,8)),f.cb=1}function ga(f,g,j,I,B,q,H){var K=g[B].Yb[j];for(j=0;16>B;++B){if(!pe(f,K[j+0]))return B;for(;!pe(f,K[j+1]);)if(K=g[++B].Yb[0],j=0,B==16)return 16;var X=g[B+1].Yb;if(pe(f,K[j+2])){var ne=f,he=0;if(pe(ne,(re=K)[(be=j)+3]))if(pe(ne,re[be+6])){for(K=0,be=2*(he=pe(ne,re[be+8]))+(re=pe(ne,re[be+9+he])),he=0,re=A6[be];re[K];++K)he+=he+pe(ne,re[K]);he+=3+(8<<be)}else pe(ne,re[be+7])?(he=7+2*pe(ne,165),he+=pe(ne,145)):he=5+pe(ne,159);else he=pe(ne,re[be+4])?3+pe(ne,re[be+5]):2;K=X[2]}else he=1,K=X[1];X=H+P6[B],0>(ne=f).b&&le(ne);var be,re=ne.b,fe=(be=ne.Ca>>1)-(ne.I>>re)>>31;--ne.b,ne.Ca+=fe,ne.Ca|=1,ne.I-=(be+1&fe)<<re,q[X]=((he^fe)-fe)*I[(0<B)+0]}return 16}function yl(f){var g=f.rb[f.sb-1];g.la=0,g.Na=0,s(f.zc,0,0,f.zc.length),f.ja=0}function pi(f,g,j,I,B){B=f[g+j+32*I]+(B>>3),f[g+j+32*I]=-256&B?0>B?0:255:B}function xl(f,g,j,I,B,q){pi(f,g,0,j,I+B),pi(f,g,1,j,I+q),pi(f,g,2,j,I-q),pi(f,g,3,j,I-B)}function er(f){return(20091*f>>16)+f}function Ed(f,g,j,I){var B,q=0,H=i(16);for(B=0;4>B;++B){var K=f[g+0]+f[g+8],X=f[g+0]-f[g+8],ne=(35468*f[g+4]>>16)-er(f[g+12]),he=er(f[g+4])+(35468*f[g+12]>>16);H[q+0]=K+he,H[q+1]=X+ne,H[q+2]=X-ne,H[q+3]=K-he,q+=4,g++}for(B=q=0;4>B;++B)K=(f=H[q+0]+4)+H[q+8],X=f-H[q+8],ne=(35468*H[q+4]>>16)-er(H[q+12]),pi(j,I,0,0,K+(he=er(H[q+4])+(35468*H[q+12]>>16))),pi(j,I,1,0,X+ne),pi(j,I,2,0,X-ne),pi(j,I,3,0,K-he),q++,I+=32}function F0(f,g,j,I){var B=f[g+0]+4,q=35468*f[g+4]>>16,H=er(f[g+4]),K=35468*f[g+1]>>16;xl(j,I,0,B+H,f=er(f[g+1]),K),xl(j,I,1,B+q,f,K),xl(j,I,2,B-q,f,K),xl(j,I,3,B-H,f,K)}function B0(f,g,j,I,B){Ed(f,g,j,I),B&&Ed(f,g+16,j,I+4)}function $0(f,g,j,I){Dl(f,g+0,j,I,1),Dl(f,g+32,j,I+128,1)}function Ui(f,g,j,I){var B;for(f=f[g+0]+4,B=0;4>B;++B)for(g=0;4>g;++g)pi(j,I,g,B,f)}function ep(f,g,j,I){f[g+0]&&on(f,g+0,j,I),f[g+16]&&on(f,g+16,j,I+4),f[g+32]&&on(f,g+32,j,I+128),f[g+48]&&on(f,g+48,j,I+128+4)}function tp(f,g,j,I){var B,q=i(16);for(B=0;4>B;++B){var H=f[g+0+B]+f[g+12+B],K=f[g+4+B]+f[g+8+B],X=f[g+4+B]-f[g+8+B],ne=f[g+0+B]-f[g+12+B];q[0+B]=H+K,q[8+B]=H-K,q[4+B]=ne+X,q[12+B]=ne-X}for(B=0;4>B;++B)H=(f=q[0+4*B]+3)+q[3+4*B],K=q[1+4*B]+q[2+4*B],X=q[1+4*B]-q[2+4*B],ne=f-q[3+4*B],j[I+0]=H+K>>3,j[I+16]=ne+X>>3,j[I+32]=H-K>>3,j[I+48]=ne-X>>3,I+=64}function eo(f,g,j){var I,B=g-32,q=Ps,H=255-f[B-1];for(I=0;I<j;++I){var K,X=q,ne=H+f[g-1];for(K=0;K<j;++K)f[g+K]=X[ne+f[B+K]];g+=32}}function Cd(f,g){eo(f,g,4)}function U0(f,g){eo(f,g,8)}function z0(f,g){eo(f,g,16)}function q0(f,g){var j;for(j=0;16>j;++j)r(f,g+32*j,f,g-32,16)}function kd(f,g){var j;for(j=16;0<j;--j)s(f,g,f[g-1],16),g+=32}function wl(f,g,j){var I;for(I=0;16>I;++I)s(g,j+32*I,f,16)}function to(f,g){var j,I=16;for(j=0;16>j;++j)I+=f[g-1+32*j]+f[g+j-32];wl(I>>5,f,g)}function W0(f,g){var j,I=8;for(j=0;16>j;++j)I+=f[g-1+32*j];wl(I>>4,f,g)}function bl(f,g){var j,I=8;for(j=0;16>j;++j)I+=f[g+j-32];wl(I>>4,f,g)}function Ad(f,g){wl(128,f,g)}function kt(f,g,j){return f+2*g+j+2>>2}function H0(f,g){var j,I=g-32;for(I=new Uint8Array([kt(f[I-1],f[I+0],f[I+1]),kt(f[I+0],f[I+1],f[I+2]),kt(f[I+1],f[I+2],f[I+3]),kt(f[I+2],f[I+3],f[I+4])]),j=0;4>j;++j)r(f,g+32*j,I,0,I.length)}function V0(f,g){var j=f[g-1],I=f[g-1+32],B=f[g-1+64],q=f[g-1+96];de(f,g+0,16843009*kt(f[g-1-32],j,I)),de(f,g+32,16843009*kt(j,I,B)),de(f,g+64,16843009*kt(I,B,q)),de(f,g+96,16843009*kt(B,q,q))}function G0(f,g){var j,I=4;for(j=0;4>j;++j)I+=f[g+j-32]+f[g-1+32*j];for(I>>=3,j=0;4>j;++j)s(f,g+32*j,I,4)}function K0(f,g){var j=f[g-1+0],I=f[g-1+32],B=f[g-1+64],q=f[g-1-32],H=f[g+0-32],K=f[g+1-32],X=f[g+2-32],ne=f[g+3-32];f[g+0+96]=kt(I,B,f[g-1+96]),f[g+1+96]=f[g+0+64]=kt(j,I,B),f[g+2+96]=f[g+1+64]=f[g+0+32]=kt(q,j,I),f[g+3+96]=f[g+2+64]=f[g+1+32]=f[g+0+0]=kt(H,q,j),f[g+3+64]=f[g+2+32]=f[g+1+0]=kt(K,H,q),f[g+3+32]=f[g+2+0]=kt(X,K,H),f[g+3+0]=kt(ne,X,K)}function va(f,g){var j=f[g+1-32],I=f[g+2-32],B=f[g+3-32],q=f[g+4-32],H=f[g+5-32],K=f[g+6-32],X=f[g+7-32];f[g+0+0]=kt(f[g+0-32],j,I),f[g+1+0]=f[g+0+32]=kt(j,I,B),f[g+2+0]=f[g+1+32]=f[g+0+64]=kt(I,B,q),f[g+3+0]=f[g+2+32]=f[g+1+64]=f[g+0+96]=kt(B,q,H),f[g+3+32]=f[g+2+64]=f[g+1+96]=kt(q,H,K),f[g+3+64]=f[g+2+96]=kt(H,K,X),f[g+3+96]=kt(K,X,X)}function ya(f,g){var j=f[g-1+0],I=f[g-1+32],B=f[g-1+64],q=f[g-1-32],H=f[g+0-32],K=f[g+1-32],X=f[g+2-32],ne=f[g+3-32];f[g+0+0]=f[g+1+64]=q+H+1>>1,f[g+1+0]=f[g+2+64]=H+K+1>>1,f[g+2+0]=f[g+3+64]=K+X+1>>1,f[g+3+0]=X+ne+1>>1,f[g+0+96]=kt(B,I,j),f[g+0+64]=kt(I,j,q),f[g+0+32]=f[g+1+96]=kt(j,q,H),f[g+1+32]=f[g+2+96]=kt(q,H,K),f[g+2+32]=f[g+3+96]=kt(H,K,X),f[g+3+32]=kt(K,X,ne)}function Y0(f,g){var j=f[g+0-32],I=f[g+1-32],B=f[g+2-32],q=f[g+3-32],H=f[g+4-32],K=f[g+5-32],X=f[g+6-32],ne=f[g+7-32];f[g+0+0]=j+I+1>>1,f[g+1+0]=f[g+0+64]=I+B+1>>1,f[g+2+0]=f[g+1+64]=B+q+1>>1,f[g+3+0]=f[g+2+64]=q+H+1>>1,f[g+0+32]=kt(j,I,B),f[g+1+32]=f[g+0+96]=kt(I,B,q),f[g+2+32]=f[g+1+96]=kt(B,q,H),f[g+3+32]=f[g+2+96]=kt(q,H,K),f[g+3+64]=kt(H,K,X),f[g+3+96]=kt(K,X,ne)}function X0(f,g){var j=f[g-1+0],I=f[g-1+32],B=f[g-1+64],q=f[g-1+96];f[g+0+0]=j+I+1>>1,f[g+2+0]=f[g+0+32]=I+B+1>>1,f[g+2+32]=f[g+0+64]=B+q+1>>1,f[g+1+0]=kt(j,I,B),f[g+3+0]=f[g+1+32]=kt(I,B,q),f[g+3+32]=f[g+1+64]=kt(B,q,q),f[g+3+64]=f[g+2+64]=f[g+0+96]=f[g+1+96]=f[g+2+96]=f[g+3+96]=q}function Dc(f,g){var j=f[g-1+0],I=f[g-1+32],B=f[g-1+64],q=f[g-1+96],H=f[g-1-32],K=f[g+0-32],X=f[g+1-32],ne=f[g+2-32];f[g+0+0]=f[g+2+32]=j+H+1>>1,f[g+0+32]=f[g+2+64]=I+j+1>>1,f[g+0+64]=f[g+2+96]=B+I+1>>1,f[g+0+96]=q+B+1>>1,f[g+3+0]=kt(K,X,ne),f[g+2+0]=kt(H,K,X),f[g+1+0]=f[g+3+32]=kt(j,H,K),f[g+1+32]=f[g+3+64]=kt(I,j,H),f[g+1+64]=f[g+3+96]=kt(B,I,j),f[g+1+96]=kt(q,B,I)}function Pd(f,g){var j;for(j=0;8>j;++j)r(f,g+32*j,f,g-32,8)}function _l(f,g){var j;for(j=0;8>j;++j)s(f,g,f[g-1],8),g+=32}function Mc(f,g,j){var I;for(I=0;8>I;++I)s(g,j+32*I,f,8)}function Fc(f,g){var j,I=8;for(j=0;8>j;++j)I+=f[g+j-32]+f[g-1+32*j];Mc(I>>4,f,g)}function J0(f,g){var j,I=4;for(j=0;8>j;++j)I+=f[g+j-32];Mc(I>>3,f,g)}function Ld(f,g){var j,I=4;for(j=0;8>j;++j)I+=f[g-1+32*j];Mc(I>>3,f,g)}function Td(f,g){Mc(128,f,g)}function Sl(f,g,j){var I=f[g-j],B=f[g+0],q=3*(B-I)+Q0[1020+f[g-2*j]-f[g+j]],H=dp[112+(q+4>>3)];f[g-j]=Ps[255+I+dp[112+(q+3>>3)]],f[g+0]=Ps[255+B-H]}function Nl(f,g,j,I){var B=f[g+0],q=f[g+j];return ti[255+f[g-2*j]-f[g-j]]>I||ti[255+q-B]>I}function Id(f,g,j,I){return 4*ti[255+f[g-j]-f[g+0]]+ti[255+f[g-2*j]-f[g+j]]<=I}function Bc(f,g,j,I,B){var q=f[g-3*j],H=f[g-2*j],K=f[g-j],X=f[g+0],ne=f[g+j],he=f[g+2*j],be=f[g+3*j];return 4*ti[255+K-X]+ti[255+H-ne]>I?0:ti[255+f[g-4*j]-q]<=B&&ti[255+q-H]<=B&&ti[255+H-K]<=B&&ti[255+be-he]<=B&&ti[255+he-ne]<=B&&ti[255+ne-X]<=B}function Rd(f,g,j,I){var B=2*I+1;for(I=0;16>I;++I)Id(f,g+I,j,B)&&Sl(f,g+I,j)}function jl(f,g,j,I){var B=2*I+1;for(I=0;16>I;++I)Id(f,g+I*j,1,B)&&Sl(f,g+I*j,1)}function np(f,g,j,I){var B;for(B=3;0<B;--B)Rd(f,g+=4*j,j,I)}function rp(f,g,j,I){var B;for(B=3;0<B;--B)jl(f,g+=4,j,I)}function xa(f,g,j,I,B,q,H,K){for(q=2*q+1;0<B--;){if(Bc(f,g,j,q,H))if(Nl(f,g,j,K))Sl(f,g,j);else{var X=f,ne=g,he=j,be=X[ne-2*he],re=X[ne-he],fe=X[ne+0],xe=X[ne+he],Ce=X[ne+2*he],we=27*(Pe=Q0[1020+3*(fe-re)+Q0[1020+be-xe]])+63>>7,ke=18*Pe+63>>7,Pe=9*Pe+63>>7;X[ne-3*he]=Ps[255+X[ne-3*he]+Pe],X[ne-2*he]=Ps[255+be+ke],X[ne-he]=Ps[255+re+we],X[ne+0]=Ps[255+fe-we],X[ne+he]=Ps[255+xe-ke],X[ne+2*he]=Ps[255+Ce-Pe]}g+=I}}function wa(f,g,j,I,B,q,H,K){for(q=2*q+1;0<B--;){if(Bc(f,g,j,q,H))if(Nl(f,g,j,K))Sl(f,g,j);else{var X=f,ne=g,he=j,be=X[ne-he],re=X[ne+0],fe=X[ne+he],xe=dp[112+(4+(Ce=3*(re-be))>>3)],Ce=dp[112+(Ce+3>>3)],we=xe+1>>1;X[ne-2*he]=Ps[255+X[ne-2*he]+we],X[ne-he]=Ps[255+be+Ce],X[ne+0]=Ps[255+re-xe],X[ne+he]=Ps[255+fe-we]}g+=I}}function sp(f,g,j,I,B,q){xa(f,g,j,1,16,I,B,q)}function ip(f,g,j,I,B,q){xa(f,g,1,j,16,I,B,q)}function El(f,g,j,I,B,q){var H;for(H=3;0<H;--H)wa(f,g+=4*j,j,1,16,I,B,q)}function ap(f,g,j,I,B,q){var H;for(H=3;0<H;--H)wa(f,g+=4,1,j,16,I,B,q)}function N(f,g,j,I,B,q,H,K){xa(f,g,B,1,8,q,H,K),xa(j,I,B,1,8,q,H,K)}function F(f,g,j,I,B,q,H,K){xa(f,g,1,B,8,q,H,K),xa(j,I,1,B,8,q,H,K)}function se(f,g,j,I,B,q,H,K){wa(f,g+4*B,B,1,8,q,H,K),wa(j,I+4*B,B,1,8,q,H,K)}function ce(f,g,j,I,B,q,H,K){wa(f,g+4,1,B,8,q,H,K),wa(j,I+4,1,B,8,q,H,K)}function me(){this.ba=new Dt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ct,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ae(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Me(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function it(){this.ua=0,this.Wa=new ee,this.vb=new ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new z}function pt(){this.xb=this.a=0,this.l=new Oc,this.ca=new Dt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new T,this.Pb=0,this.wd=new T,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new it,this.ab=0,this.gc=o(4,Me),this.Oc=0}function Et(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Oc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Pt(f,g,j,I,B,q,H){for(f=f==null?0:f[g+0],g=0;g<H;++g)B[q+g]=f+j[I+g]&255,f=B[q+g]}function rn(f,g,j,I,B,q,H){var K;if(f==null)Pt(null,null,j,I,B,q,H);else for(K=0;K<H;++K)B[q+K]=f[g+K]+j[I+K]&255}function qn(f,g,j,I,B,q,H){if(f==null)Pt(null,null,j,I,B,q,H);else{var K,X=f[g+0],ne=X,he=X;for(K=0;K<H;++K)ne=he+(X=f[g+K])-ne,he=j[I+K]+(-256&ne?0>ne?0:255:ne)&255,ne=X,B[q+K]=he}}function ur(f,g,j,I){var B=g.width,q=g.o;if(t(f!=null&&g!=null),0>j||0>=I||j+I>q)return null;if(!f.Cc){if(f.ga==null){var H;if(f.ga=new Et,(H=f.ga==null)||(H=g.width*g.o,t(f.Gb.length==0),f.Gb=i(H),f.Uc=0,f.Gb==null?H=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,H=1),H=!H),!H){H=f.ga;var K=f.Fa,X=f.P,ne=f.qc,he=f.mb,be=f.nb,re=X+1,fe=ne-1,xe=H.l;if(t(K!=null&&he!=null&&g!=null),ho[0]=null,ho[1]=Pt,ho[2]=rn,ho[3]=qn,H.ca=he,H.tb=be,H.c=g.width,H.i=g.height,t(0<H.c&&0<H.i),1>=ne)g=0;else if(H.$a=3&K[X+0],H.Z=K[X+0]>>2&3,H.Lc=K[X+0]>>4&3,X=K[X+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||X)g=0;else if(xe.put=Je,xe.ac=Ot,xe.bc=nn,xe.ma=H,xe.width=g.width,xe.height=g.height,xe.Da=g.Da,xe.v=g.v,xe.va=g.va,xe.j=g.j,xe.o=g.o,H.$a)e:{t(H.$a==1),g=$i();t:for(;;){if(g==null){g=0;break e}if(t(H!=null),H.mc=g,g.c=H.c,g.i=H.i,g.l=H.l,g.l.ma=H,g.l.width=H.c,g.l.height=H.i,g.a=0,G(g.m,K,re,fe),!Xs(H.c,H.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&Dn(g.s)?(H.ic=1,K=g.c*g.i,g.Ta=null,g.Ua=0,g.V=i(K),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(H.ic=0,g=ma(g,H.c)),!g))break t;g=1;break e}H.mc=null,g=0}else g=fe>=H.c*H.i;H=!g}if(H)return null;f.ga.Lc!=1?f.Ga=0:I=q-j}t(f.ga!=null),t(j+I<=q);e:{if(g=(K=f.ga).c,q=K.l.o,K.$a==0){if(re=f.rc,fe=f.Vc,xe=f.Fa,X=f.P+1+j*g,ne=f.mb,he=f.nb+j*g,t(X<=f.P+f.qc),K.Z!=0)for(t(ho[K.Z]!=null),H=0;H<I;++H)ho[K.Z](re,fe,xe,X,ne,he,g),re=ne,fe=he,he+=g,X+=g;else for(H=0;H<I;++H)r(ne,he,xe,X,g),re=ne,fe=he,he+=g,X+=g;f.rc=re,f.Vc=fe}else{if(t(K.mc!=null),g=j+I,t((H=K.mc)!=null),t(g<=H.i),H.C>=g)g=1;else if(K.ic||Qs(),K.ic){K=H.V,re=H.Ba,fe=H.c;var Ce=H.i,we=(xe=1,X=H.$/fe,ne=H.$%fe,he=H.m,be=H.s,H.$),ke=fe*Ce,Pe=fe*g,Be=be.wc,De=we<Pe?En(be,ne,X):null;t(we<=ke),t(g<=Ce),t(Dn(be));t:for(;;){for(;!he.h&&we<Pe;){if(ne&Be||(De=En(be,ne,X)),t(De!=null),Y(he),256>(Ce=ln(De.G[0],De.H[0],he)))K[re+we]=Ce,++we,++ne>=fe&&(ne=0,++X<=g&&!(X%16)&&hs(H,X));else{if(!(280>Ce)){xe=0;break t}Ce=an(Ce-256,he);var xt,rt=ln(De.G[4],De.H[4],he);if(Y(he),!(we>=(rt=wn(fe,rt=an(rt,he)))&&ke-we>=Ce)){xe=0;break t}for(xt=0;xt<Ce;++xt)K[re+we+xt]=K[re+we+xt-rt];for(we+=Ce,ne+=Ce;ne>=fe;)ne-=fe,++X<=g&&!(X%16)&&hs(H,X);we<Pe&&ne&Be&&(De=En(be,ne,X))}t(he.h==W(he))}hs(H,X>g?g:X);break t}!xe||he.h&&we<ke?(xe=0,H.a=he.h?5:3):H.$=we,g=xe}else g=Cs(H,H.V,H.Ba,H.c,H.i,g,Za);if(!g){I=0;break e}}j+I>=q&&(f.Cc=1),I=1}if(!I)return null;if(f.Cc&&((I=f.ga)!=null&&(I.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+j*B}function Cn(f,g,j,I,B,q){for(;0<B--;){var H,K=f,X=g+(j?1:0),ne=f,he=g+(j?0:3);for(H=0;H<I;++H){var be=ne[he+4*H];be!=255&&(be*=32897,K[X+4*H+0]=K[X+4*H+0]*be>>23,K[X+4*H+1]=K[X+4*H+1]*be>>23,K[X+4*H+2]=K[X+4*H+2]*be>>23)}g+=q}}function gr(f,g,j,I,B){for(;0<I--;){var q;for(q=0;q<j;++q){var H=f[g+2*q+0],K=15&(ne=f[g+2*q+1]),X=4369*K,ne=(240&ne|ne>>4)*X>>16;f[g+2*q+0]=(240&H|H>>4)*X>>16&240|(15&H|H<<4)*X>>16>>4&15,f[g+2*q+1]=240&ne|K}g+=B}}function dr(f,g,j,I,B,q,H,K){var X,ne,he=255;for(ne=0;ne<B;++ne){for(X=0;X<I;++X){var be=f[g+X];q[H+4*X]=be,he&=be}g+=j,H+=K}return he!=255}function kr(f,g,j,I,B){var q;for(q=0;q<B;++q)j[I+q]=f[g+q]>>8}function Qs(){Hd=Cn,qw=gr,Ww=dr,Hw=kr}function ps(f,g,j){C[f]=function(I,B,q,H,K,X,ne,he,be,re,fe,xe,Ce,we,ke,Pe,Be){var De,xt=Be-1>>1,rt=K[X+0]|ne[he+0]<<16,Mt=be[re+0]|fe[xe+0]<<16;t(I!=null);var lt=3*rt+Mt+131074>>2;for(g(I[B+0],255&lt,lt>>16,Ce,we),q!=null&&(lt=3*Mt+rt+131074>>2,g(q[H+0],255&lt,lt>>16,ke,Pe)),De=1;De<=xt;++De){var Yt=K[X+De]|ne[he+De]<<16,yr=be[re+De]|fe[xe+De]<<16,Ft=rt+Yt+Mt+yr+524296,ct=Ft+2*(Yt+Mt)>>3;lt=ct+rt>>1,rt=(Ft=Ft+2*(rt+yr)>>3)+Yt>>1,g(I[B+2*De-1],255&lt,lt>>16,Ce,we+(2*De-1)*j),g(I[B+2*De-0],255&rt,rt>>16,Ce,we+(2*De-0)*j),q!=null&&(lt=Ft+Mt>>1,rt=ct+yr>>1,g(q[H+2*De-1],255&lt,lt>>16,ke,Pe+(2*De-1)*j),g(q[H+2*De+0],255&rt,rt>>16,ke,Pe+(2*De+0)*j)),rt=Yt,Mt=yr}1&Be||(lt=3*rt+Mt+131074>>2,g(I[B+Be-1],255&lt,lt>>16,Ce,we+(Be-1)*j),q!=null&&(lt=3*Mt+rt+131074>>2,g(q[H+Be-1],255&lt,lt>>16,ke,Pe+(Be-1)*j)))}}function op(){ni[hp]=D6,ni[fp]=nb,ni[Jw]=M6,ni[pp]=rb,ni[mp]=sb,ni[Z0]=ib,ni[Qw]=F6,ni[ev]=nb,ni[tv]=rb,ni[gp]=sb,ni[nv]=ib}function $c(f){return f&~B6?0>f?0:255:f>>ab}function Cl(f,g){return $c((19077*f>>8)+(26149*g>>8)-14234)}function no(f,g,j){return $c((19077*f>>8)-(6419*g>>8)-(13320*j>>8)+8708)}function kl(f,g){return $c((19077*f>>8)+(33050*g>>8)-17685)}function Al(f,g,j,I,B){I[B+0]=Cl(f,j),I[B+1]=no(f,g,j),I[B+2]=kl(f,g)}function Pl(f,g,j,I,B){I[B+0]=kl(f,g),I[B+1]=no(f,g,j),I[B+2]=Cl(f,j)}function Mr(f,g,j,I,B){var q=no(f,g,j);g=q<<3&224|kl(f,g)>>3,I[B+0]=248&Cl(f,j)|q>>5,I[B+1]=g}function Ll(f,g,j,I,B){var q=240&kl(f,g)|15;I[B+0]=240&Cl(f,j)|no(f,g,j)>>4,I[B+1]=q}function Tl(f,g,j,I,B){I[B+0]=255,Al(f,g,j,I,B+1)}function Od(f,g,j,I,B){Pl(f,g,j,I,B),I[B+3]=255}function Dd(f,g,j,I,B){Al(f,g,j,I,B),I[B+3]=255}function Kn(f,g){return 0>f?0:f>g?g:f}function ba(f,g,j){C[f]=function(I,B,q,H,K,X,ne,he,be){for(var re=he+(-2&be)*j;he!=re;)g(I[B+0],q[H+0],K[X+0],ne,he),g(I[B+1],q[H+0],K[X+0],ne,he+j),B+=2,++H,++X,he+=2*j;1&be&&g(I[B+0],q[H+0],K[X+0],ne,he)}}function Uc(f,g,j){return j==0?f==0?g==0?6:5:g==0?4:0:j}function lp(f,g,j,I,B){switch(f>>>30){case 3:Dl(g,j,I,B,0);break;case 2:ei(g,j,I,B);break;case 1:on(g,j,I,B)}}function Zs(f,g){var j,I,B=g.M,q=g.Nb,H=f.oc,K=f.pc+40,X=f.oc,ne=f.pc+584,he=f.oc,be=f.pc+600;for(j=0;16>j;++j)H[K+32*j-1]=129;for(j=0;8>j;++j)X[ne+32*j-1]=129,he[be+32*j-1]=129;for(0<B?H[K-1-32]=X[ne-1-32]=he[be-1-32]=129:(s(H,K-32-1,127,21),s(X,ne-32-1,127,9),s(he,be-32-1,127,9)),I=0;I<f.za;++I){var re=g.ya[g.aa+I];if(0<I){for(j=-1;16>j;++j)r(H,K+32*j-4,H,K+32*j+12,4);for(j=-1;8>j;++j)r(X,ne+32*j-4,X,ne+32*j+4,4),r(he,be+32*j-4,he,be+32*j+4,4)}var fe=f.Gd,xe=f.Hd+I,Ce=re.ad,we=re.Hc;if(0<B&&(r(H,K-32,fe[xe].y,0,16),r(X,ne-32,fe[xe].f,0,8),r(he,be-32,fe[xe].ea,0,8)),re.Za){var ke=H,Pe=K-32+16;for(0<B&&(I>=f.za-1?s(ke,Pe,fe[xe].y[15],4):r(ke,Pe,fe[xe+1].y,0,4)),j=0;4>j;j++)ke[Pe+128+j]=ke[Pe+256+j]=ke[Pe+384+j]=ke[Pe+0+j];for(j=0;16>j;++j,we<<=2)ke=H,Pe=K+lb[j],mi[re.Ob[j]](ke,Pe),lp(we,Ce,16*+j,ke,Pe)}else if(ke=Uc(I,B,re.Ob[0]),uo[ke](H,K),we!=0)for(j=0;16>j;++j,we<<=2)lp(we,Ce,16*+j,H,K+lb[j]);for(j=re.Gc,ke=Uc(I,B,re.Dd),Na[ke](X,ne),Na[ke](he,be),we=Ce,ke=X,Pe=ne,255&(re=0|j)&&(170&re?Wi(we,256,ke,Pe):bn(we,256,ke,Pe)),re=he,we=be,255&(j>>=8)&&(170&j?Wi(Ce,320,re,we):bn(Ce,320,re,we)),B<f.Ub-1&&(r(fe[xe].y,0,H,K+480,16),r(fe[xe].f,0,X,ne+224,8),r(fe[xe].ea,0,he,be+224,8)),j=8*q*f.B,fe=f.sa,xe=f.ta+16*I+16*q*f.R,Ce=f.qa,re=f.ra+8*I+j,we=f.Ha,ke=f.Ia+8*I+j,j=0;16>j;++j)r(fe,xe+j*f.R,H,K+32*j,16);for(j=0;8>j;++j)r(Ce,re+j*f.B,X,ne+32*j,8),r(we,ke+j*f.B,he,be+32*j,8)}}function Il(f,g,j,I,B,q,H,K,X){var ne=[0],he=[0],be=0,re=X!=null?X.kd:0,fe=X??new Ae;if(f==null||12>j)return 7;fe.data=f,fe.w=g,fe.ha=j,g=[g],j=[j],fe.gb=[fe.gb];e:{var xe=g,Ce=j,we=fe.gb;if(t(f!=null),t(Ce!=null),t(we!=null),we[0]=0,12<=Ce[0]&&!n(f,xe[0],"RIFF")){if(n(f,xe[0]+8,"WEBP")){we=3;break e}var ke=_e(f,xe[0]+4);if(12>ke||4294967286<ke){we=3;break e}if(re&&ke>Ce[0]-8){we=7;break e}we[0]=ke,xe[0]+=12,Ce[0]-=12}we=0}if(we!=0)return we;for(ke=0<fe.gb[0],j=j[0];;){e:{var Pe=f;Ce=g,we=j;var Be=ne,De=he,xt=xe=[0];if((lt=be=[be])[0]=0,8>we[0])we=7;else{if(!n(Pe,Ce[0],"VP8X")){if(_e(Pe,Ce[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var rt=_e(Pe,Ce[0]+8),Mt=1+Te(Pe,Ce[0]+12);if(2147483648<=Mt*(Pe=1+Te(Pe,Ce[0]+15))){we=3;break e}xt!=null&&(xt[0]=rt),Be!=null&&(Be[0]=Mt),De!=null&&(De[0]=Pe),Ce[0]+=18,we[0]-=18,lt[0]=1}we=0}}if(be=be[0],xe=xe[0],we!=0)return we;if(Ce=!!(2&xe),!ke&&be)return 3;if(q!=null&&(q[0]=!!(16&xe)),H!=null&&(H[0]=Ce),K!=null&&(K[0]=0),H=ne[0],xe=he[0],be&&Ce&&X==null){we=0;break}if(4>j){we=7;break}if(ke&&be||!ke&&!be&&!n(f,g[0],"ALPH")){j=[j],fe.na=[fe.na],fe.P=[fe.P],fe.Sa=[fe.Sa];e:{rt=f,we=g,ke=j;var lt=fe.gb;Be=fe.na,De=fe.P,xt=fe.Sa,Mt=22,t(rt!=null),t(ke!=null),Pe=we[0];var Yt=ke[0];for(t(Be!=null),t(xt!=null),Be[0]=null,De[0]=null,xt[0]=0;;){if(we[0]=Pe,ke[0]=Yt,8>Yt){we=7;break e}var yr=_e(rt,Pe+4);if(4294967286<yr){we=3;break e}var Ft=8+yr+1&-2;if(Mt+=Ft,0<lt&&Mt>lt){we=3;break e}if(!n(rt,Pe,"VP8 ")||!n(rt,Pe,"VP8L")){we=0;break e}if(Yt[0]<Ft){we=7;break e}n(rt,Pe,"ALPH")||(Be[0]=rt,De[0]=Pe+8,xt[0]=yr),Pe+=Ft,Yt-=Ft}}if(j=j[0],fe.na=fe.na[0],fe.P=fe.P[0],fe.Sa=fe.Sa[0],we!=0)break}j=[j],fe.Ja=[fe.Ja],fe.xa=[fe.xa];e:if(lt=f,we=g,ke=j,Be=fe.gb[0],De=fe.Ja,xt=fe.xa,rt=we[0],Pe=!n(lt,rt,"VP8 "),Mt=!n(lt,rt,"VP8L"),t(lt!=null),t(ke!=null),t(De!=null),t(xt!=null),8>ke[0])we=7;else{if(Pe||Mt){if(lt=_e(lt,rt+4),12<=Be&&lt>Be-12){we=3;break e}if(re&&lt>ke[0]-8){we=7;break e}De[0]=lt,we[0]+=8,ke[0]-=8,xt[0]=Mt}else xt[0]=5<=ke[0]&&lt[rt+0]==47&&!(lt[rt+4]>>5),De[0]=ke[0];we=0}if(j=j[0],fe.Ja=fe.Ja[0],fe.xa=fe.xa[0],g=g[0],we!=0)break;if(4294967286<fe.Ja)return 3;if(K==null||Ce||(K[0]=fe.xa?2:1),H=[H],xe=[xe],fe.xa){if(5>j){we=7;break}K=H,re=xe,Ce=q,f==null||5>j?f=0:5<=j&&f[g+0]==47&&!(f[g+4]>>5)?(ke=[0],lt=[0],Be=[0],G(De=new T,f,g,j),jn(De,ke,lt,Be)?(K!=null&&(K[0]=ke[0]),re!=null&&(re[0]=lt[0]),Ce!=null&&(Ce[0]=Be[0]),f=1):f=0):f=0}else{if(10>j){we=7;break}K=xe,f==null||10>j||!Qf(f,g+3,j-3)?f=0:(re=f[g+0]|f[g+1]<<8|f[g+2]<<16,Ce=16383&(f[g+7]<<8|f[g+6]),f=16383&(f[g+9]<<8|f[g+8]),1&re||3<(re>>1&7)||!(re>>4&1)||re>>5>=fe.Ja||!Ce||!f?f=0:(H&&(H[0]=Ce),K&&(K[0]=f),f=1))}if(!f||(H=H[0],xe=xe[0],be&&(ne[0]!=H||he[0]!=xe)))return 3;X!=null&&(X[0]=fe,X.offset=g-X.w,t(4294967286>g-X.w),t(X.offset==X.ha-j));break}return we==0||we==7&&be&&X==null?(q!=null&&(q[0]|=fe.na!=null&&0<fe.na.length),I!=null&&(I[0]=H),B!=null&&(B[0]=xe),0):we}function Md(f,g,j){var I=g.width,B=g.height,q=0,H=0,K=I,X=B;if(g.Da=f!=null&&0<f.Da,g.Da&&(K=f.cd,X=f.bd,q=f.v,H=f.j,11>j||(q&=-2,H&=-2),0>q||0>H||0>=K||0>=X||q+K>I||H+X>B))return 0;if(g.v=q,g.j=H,g.va=q+K,g.o=H+X,g.U=K,g.T=X,g.da=f!=null&&0<f.da,g.da){if(!Se(K,X,j=[f.ib],q=[f.hb]))return 0;g.ib=j[0],g.hb=q[0]}return g.ob=f!=null&&f.ob,g.Kb=f==null||!f.Sd,g.da&&(g.ob=g.ib<3*I/4&&g.hb<3*B/4,g.Kb=0),1}function Fd(f){if(f==null)return 2;if(11>f.S){var g=f.f.RGBA;g.fb+=(f.height-1)*g.A,g.A=-g.A}else g=f.f.kb,f=f.height,g.O+=(f-1)*g.fa,g.fa=-g.fa,g.N+=(f-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(f-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(f-1)*g.lb,g.lb=-g.lb);return 0}function ro(f,g,j,I){if(I==null||0>=f||0>=g)return 2;if(j!=null){if(j.Da){var B=j.cd,q=j.bd,H=-2&j.v,K=-2&j.j;if(0>H||0>K||0>=B||0>=q||H+B>f||K+q>g)return 2;f=B,g=q}if(j.da){if(!Se(f,g,B=[j.ib],q=[j.hb]))return 2;f=B[0],g=q[0]}}I.width=f,I.height=g;e:{var X=I.width,ne=I.height;if(f=I.S,0>=X||0>=ne||!(f>=hp&&13>f))f=2;else{if(0>=I.Rd&&I.sd==null){H=q=B=g=0;var he=(K=X*cb[f])*ne;if(11>f||(q=(ne+1)/2*(g=(X+1)/2),f==12&&(H=(B=X)*ne)),(ne=i(he+2*q+H))==null){f=1;break e}I.sd=ne,11>f?((X=I.f.RGBA).eb=ne,X.fb=0,X.A=K,X.size=he):((X=I.f.kb).y=ne,X.O=0,X.fa=K,X.Fd=he,X.f=ne,X.N=0+he,X.Ab=g,X.Cd=q,X.ea=ne,X.W=0+he+q,X.Db=g,X.Ed=q,f==12&&(X.F=ne,X.J=0+he+2*q),X.Tc=H,X.lb=B)}if(g=1,B=I.S,q=I.width,H=I.height,B>=hp&&13>B)if(11>B)f=I.f.RGBA,g&=(K=Math.abs(f.A))*(H-1)+q<=f.size,g&=K>=q*cb[B],g&=f.eb!=null;else{f=I.f.kb,K=(q+1)/2,he=(H+1)/2,X=Math.abs(f.fa),ne=Math.abs(f.Ab);var be=Math.abs(f.Db),re=Math.abs(f.lb),fe=re*(H-1)+q;g&=X*(H-1)+q<=f.Fd,g&=ne*(he-1)+K<=f.Cd,g=(g&=be*(he-1)+K<=f.Ed)&X>=q&ne>=K&be>=K,g&=f.y!=null,g&=f.f!=null,g&=f.ea!=null,B==12&&(g&=re>=q,g&=fe<=f.Tc,g&=f.F!=null)}else g=0;f=g?0:2}}return f!=0||j!=null&&j.fd&&(f=Fd(I)),f}var Rl=64,ks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],As=24,so=32,_a=8,io=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ve("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(f){return f},C.Predictor2=function(f,g,j){return g[j+0]},C.Predictor3=function(f,g,j){return g[j+1]},C.Predictor4=function(f,g,j){return g[j-1]},C.Predictor5=function(f,g,j){return Ee(Ee(f,g[j+1]),g[j+0])},C.Predictor6=function(f,g,j){return Ee(f,g[j-1])},C.Predictor7=function(f,g,j){return Ee(f,g[j+0])},C.Predictor8=function(f,g,j){return Ee(g[j-1],g[j+0])},C.Predictor9=function(f,g,j){return Ee(g[j+0],g[j+1])},C.Predictor10=function(f,g,j){return Ee(Ee(f,g[j-1]),Ee(g[j+0],g[j+1]))},C.Predictor11=function(f,g,j){var I=g[j+0];return 0>=Ye(I>>24&255,f>>24&255,(g=g[j-1])>>24&255)+Ye(I>>16&255,f>>16&255,g>>16&255)+Ye(I>>8&255,f>>8&255,g>>8&255)+Ye(255&I,255&f,255&g)?I:f},C.Predictor12=function(f,g,j){var I=g[j+0];return(et((f>>24&255)+(I>>24&255)-((g=g[j-1])>>24&255))<<24|et((f>>16&255)+(I>>16&255)-(g>>16&255))<<16|et((f>>8&255)+(I>>8&255)-(g>>8&255))<<8|et((255&f)+(255&I)-(255&g)))>>>0},C.Predictor13=function(f,g,j){var I=g[j-1];return(Fe((f=Ee(f,g[j+0]))>>24&255,I>>24&255)<<24|Fe(f>>16&255,I>>16&255)<<16|Fe(f>>8&255,I>>8&255)<<8|Fe(255&f,255&I))>>>0};var Bd=C.PredictorAdd0;C.PredictorAdd1=ht,ve("Predictor2","PredictorAdd2"),ve("Predictor3","PredictorAdd3"),ve("Predictor4","PredictorAdd4"),ve("Predictor5","PredictorAdd5"),ve("Predictor6","PredictorAdd6"),ve("Predictor7","PredictorAdd7"),ve("Predictor8","PredictorAdd8"),ve("Predictor9","PredictorAdd9"),ve("Predictor10","PredictorAdd10"),ve("Predictor11","PredictorAdd11"),ve("Predictor12","PredictorAdd12"),ve("Predictor13","PredictorAdd13");var zc=C.PredictorAdd2;Ie("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),Ie("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var tr,cp=C.ColorIndexInverseTransform,zi=C.MapARGB,qi=C.VP8LColorIndexInverseTransformAlpha,$d=C.MapAlpha,Ud=C.VP8LPredictorsAdd=[];Ud.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var zd,qd,ao,oo,lo,Ol,co,Dl,ei,Wi,on,bn,nr,vr,Sa,Wd,qc,up,Mw,Fw,Bw,$w,Uw,zw,Hd,qw,Ww,Hw,Vw=i(511),Gw=i(2041),Kw=i(225),Yw=i(767),Xw=0,Q0=Gw,dp=Kw,Ps=Yw,ti=Vw,hp=0,fp=1,Jw=2,pp=3,mp=4,Z0=5,Qw=6,ev=7,tv=8,gp=9,nv=10,_6=[2,3,7],S6=[3,3,11],Zw=[280,256,256,256,40],N6=[0,1,1,1,0],j6=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],E6=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],C6=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],k6=8,rv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],sv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vd=null,A6=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],P6=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],eb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],L6=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],T6=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],I6=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],R6=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],uo=[],mi=[],Na=[],O6=1,tb=2,ho=[],ni=[];ps("UpsampleRgbLinePair",Al,3),ps("UpsampleBgrLinePair",Pl,3),ps("UpsampleRgbaLinePair",Dd,4),ps("UpsampleBgraLinePair",Od,4),ps("UpsampleArgbLinePair",Tl,4),ps("UpsampleRgba4444LinePair",Ll,2),ps("UpsampleRgb565LinePair",Mr,2);var D6=C.UpsampleRgbLinePair,M6=C.UpsampleBgrLinePair,nb=C.UpsampleRgbaLinePair,rb=C.UpsampleBgraLinePair,sb=C.UpsampleArgbLinePair,ib=C.UpsampleRgba4444LinePair,F6=C.UpsampleRgb565LinePair,vp=16,yp=1<<vp-1,Gd=-227,iv=482,ab=6,B6=(256<<ab)-1,ob=0,$6=i(256),U6=i(256),z6=i(256),q6=i(256),W6=i(iv-Gd),H6=i(iv-Gd);ba("YuvToRgbRow",Al,3),ba("YuvToBgrRow",Pl,3),ba("YuvToRgbaRow",Dd,4),ba("YuvToBgraRow",Od,4),ba("YuvToArgbRow",Tl,4),ba("YuvToRgba4444Row",Ll,2),ba("YuvToRgb565Row",Mr,2);var lb=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],xp=[0,2,8],V6=[8,7,6,4,4,2,2,2,1,1,1,1],G6=1;this.WebPDecodeRGBA=function(f,g,j,I,B){var q=fp,H=new me,K=new Dt;H.ba=K,K.S=q,K.width=[K.width],K.height=[K.height];var X=K.width,ne=K.height,he=new ot;if(he==null||f==null)var be=2;else t(he!=null),be=Il(f,g,j,he.width,he.height,he.Pd,he.Qd,he.format,null);if(be!=0?X=0:(X!=null&&(X[0]=he.width[0]),ne!=null&&(ne[0]=he.height[0]),X=1),X){K.width=K.width[0],K.height=K.height[0],I!=null&&(I[0]=K.width),B!=null&&(B[0]=K.height);e:{if(I=new Oc,(B=new Ae).data=f,B.w=g,B.ha=j,B.kd=1,g=[0],t(B!=null),((f=Il(B.data,B.w,B.ha,null,null,null,g,null,B))==0||f==7)&&g[0]&&(f=4),(g=f)==0){if(t(H!=null),I.data=B.data,I.w=B.w+B.offset,I.ha=B.ha-B.offset,I.put=Je,I.ac=Ot,I.bc=nn,I.ma=H,B.xa){if((f=$i())==null){H=1;break e}if(function(re,fe){var xe=[0],Ce=[0],we=[0];t:for(;;){if(re==null)return 0;if(fe==null)return re.a=2,0;if(re.l=fe,re.a=0,G(re.m,fe.data,fe.w,fe.ha),!jn(re.m,xe,Ce,we)){re.a=3;break t}if(re.xb=tb,fe.width=xe[0],fe.height=Ce[0],!Xs(xe[0],Ce[0],1,re,null))break t;return 1}return t(re.a!=0),0}(f,I)){if(I=(g=ro(I.width,I.height,H.Oa,H.ba))==0){t:{I=f;n:for(;;){if(I==null){I=0;break t}if(t(I.s.yc!=null),t(I.s.Ya!=null),t(0<I.s.Wb),t((j=I.l)!=null),t((B=j.ma)!=null),I.xb!=0){if(I.ca=B.ba,I.tb=B.tb,t(I.ca!=null),!Md(B.Oa,j,pp)){I.a=2;break n}if(!ma(I,j.width)||j.da)break n;if((j.da||nt(I.ca.S))&&Qs(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&Qs()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!J(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!Cs(I,I.V,I.Ba,I.c,I.i,j.o,us))break n;B.Dc=I.Ma,I=1;break t}t(I.a!=0),I=0}I=!I}I&&(g=f.a)}else g=f.a}else{if((f=new M0)==null){H=1;break e}if(f.Fa=B.na,f.P=B.P,f.qc=B.Sa,Zf(f,I)){if((g=ro(I.width,I.height,H.Oa,H.ba))==0){if(f.Aa=0,j=H.Oa,t((B=f)!=null),j!=null){if(0<(X=0>(X=j.Md)?0:100<X?255:255*X/100)){for(ne=he=0;4>ne;++ne)12>(be=B.pb[ne]).lc&&(be.ia=X*V6[0>be.lc?0:be.lc]>>3),he|=be.ia;he&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=j.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(re,fe){if(re==null)return 0;if(fe==null)return cr(re,2,"NULL VP8Io parameter in VP8Decode().");if(!re.cb&&!Zf(re,fe))return 0;if(t(re.cb),fe.ac==null||fe.ac(fe)){fe.ob&&(re.L=0);var xe=xp[re.L];if(re.L==2?(re.yb=0,re.zb=0):(re.yb=fe.v-xe>>4,re.zb=fe.j-xe>>4,0>re.yb&&(re.yb=0),0>re.zb&&(re.zb=0)),re.Va=fe.o+15+xe>>4,re.Hb=fe.va+15+xe>>4,re.Hb>re.za&&(re.Hb=re.za),re.Va>re.Ub&&(re.Va=re.Ub),0<re.L){var Ce=re.ed;for(xe=0;4>xe;++xe){var we;if(re.Qa.Cb){var ke=re.Qa.Lb[xe];re.Qa.Fb||(ke+=Ce.Tb)}else ke=Ce.Tb;for(we=0;1>=we;++we){var Pe=re.gd[xe][we],Be=ke;if(Ce.Pc&&(Be+=Ce.vd[0],we&&(Be+=Ce.od[0])),0<(Be=0>Be?0:63<Be?63:Be)){var De=Be;0<Ce.wb&&(De=4<Ce.wb?De>>2:De>>1)>9-Ce.wb&&(De=9-Ce.wb),1>De&&(De=1),Pe.dd=De,Pe.tc=2*Be+De,Pe.ld=40<=Be?2:15<=Be?1:0}else Pe.tc=0;Pe.La=we}}}xe=0}else cr(re,6,"Frame setup failed"),xe=re.a;if(xe=xe==0){if(xe){re.$c=0,0<re.Aa||(re.Ic=G6);t:{xe=re.Ic,Ce=4*(De=re.za);var xt=32*De,rt=De+1,Mt=0<re.L?De*(0<re.Aa?2:1):0,lt=(re.Aa==2?2:1)*De;if((Pe=Ce+832+(we=3*(16*xe+xp[re.L])/2*xt)+(ke=re.Fa!=null&&0<re.Fa.length?re.Kc.c*re.Kc.i:0))!=Pe)xe=0;else{if(Pe>re.Vb){if(re.Vb=0,re.Ec=i(Pe),re.Fc=0,re.Ec==null){xe=cr(re,1,"no memory during frame initialization.");break t}re.Vb=Pe}Pe=re.Ec,Be=re.Fc,re.Ac=Pe,re.Bc=Be,Be+=Ce,re.Gd=o(xt,Xf),re.Hd=0,re.rb=o(rt+1,Nd),re.sb=1,re.wa=Mt?o(Mt,Js):null,re.Y=0,re.D.Nb=0,re.D.wa=re.wa,re.D.Y=re.Y,0<re.Aa&&(re.D.Y+=De),t(!0),re.oc=Pe,re.pc=Be,Be+=832,re.ya=o(lt,jd),re.aa=0,re.D.ya=re.ya,re.D.aa=re.aa,re.Aa==2&&(re.D.aa+=De),re.R=16*De,re.B=8*De,De=(xt=xp[re.L])*re.R,xt=xt/2*re.B,re.sa=Pe,re.ta=Be+De,re.qa=re.sa,re.ra=re.ta+16*xe*re.R+xt,re.Ha=re.qa,re.Ia=re.ra+8*xe*re.B+xt,re.$c=0,Be+=we,re.mb=ke?Pe:null,re.nb=ke?Be:null,t(Be+ke<=re.Fc+re.Vb),yl(re),s(re.Ac,re.Bc,0,Ce),xe=1}}if(xe){if(fe.ka=0,fe.y=re.sa,fe.O=re.ta,fe.f=re.qa,fe.N=re.ra,fe.ea=re.Ha,fe.Vd=re.Ia,fe.fa=re.R,fe.Rc=re.B,fe.F=null,fe.J=0,!Xw){for(xe=-255;255>=xe;++xe)Vw[255+xe]=0>xe?-xe:xe;for(xe=-1020;1020>=xe;++xe)Gw[1020+xe]=-128>xe?-128:127<xe?127:xe;for(xe=-112;112>=xe;++xe)Kw[112+xe]=-16>xe?-16:15<xe?15:xe;for(xe=-255;510>=xe;++xe)Yw[255+xe]=0>xe?0:255<xe?255:xe;Xw=1}co=tp,Dl=B0,Wi=$0,on=Ui,bn=ep,ei=F0,nr=sp,vr=ip,Sa=N,Wd=F,qc=El,up=ap,Mw=se,Fw=ce,Bw=Rd,$w=jl,Uw=np,zw=rp,mi[0]=G0,mi[1]=Cd,mi[2]=H0,mi[3]=V0,mi[4]=K0,mi[5]=ya,mi[6]=va,mi[7]=Y0,mi[8]=Dc,mi[9]=X0,uo[0]=to,uo[1]=z0,uo[2]=q0,uo[3]=kd,uo[4]=W0,uo[5]=bl,uo[6]=Ad,Na[0]=Fc,Na[1]=U0,Na[2]=Pd,Na[3]=_l,Na[4]=Ld,Na[5]=J0,Na[6]=Td,xe=1}else xe=0}xe&&(xe=function(Yt,yr){for(Yt.M=0;Yt.M<Yt.Va;++Yt.M){var Ft,ct=Yt.Jc[Yt.M&Yt.Xb],Ve=Yt.m,rr=Yt;for(Ft=0;Ft<rr.za;++Ft){var Tt=Ve,Jt=rr,Ln=Jt.Ac,Ar=Jt.Bc+4*Ft,Zr=Jt.zc,Yn=Jt.ya[Jt.aa+Ft];if(Jt.Qa.Bb?Yn.$b=pe(Tt,Jt.Pa.jb[0])?2+pe(Tt,Jt.Pa.jb[2]):pe(Tt,Jt.Pa.jb[1]):Yn.$b=0,Jt.kc&&(Yn.Ad=pe(Tt,Jt.Bd)),Yn.Za=!pe(Tt,145)+0,Yn.Za){var Fr=Yn.Ob,es=0;for(Jt=0;4>Jt;++Jt){var xr,Qt=Zr[0+Jt];for(xr=0;4>xr;++xr){Qt=T6[Ln[Ar+xr]][Qt];for(var cn=eb[pe(Tt,Qt[0])];0<cn;)cn=eb[2*cn+pe(Tt,Qt[cn])];Qt=-cn,Ln[Ar+xr]=Qt}r(Fr,es,Ln,Ar,4),es+=4,Zr[0+Jt]=Qt}}else Qt=pe(Tt,156)?pe(Tt,128)?1:3:pe(Tt,163)?2:0,Yn.Ob[0]=Qt,s(Ln,Ar,Qt,4),s(Zr,0,Qt,4);Yn.Dd=pe(Tt,142)?pe(Tt,114)?pe(Tt,183)?1:3:2:0}if(rr.m.Ka)return cr(Yt,7,"Premature end-of-partition0 encountered.");for(;Yt.ja<Yt.za;++Yt.ja){if(rr=ct,Tt=(Ve=Yt).rb[Ve.sb-1],Ln=Ve.rb[Ve.sb+Ve.ja],Ft=Ve.ya[Ve.aa+Ve.ja],Ar=Ve.kc?Ft.Ad:0)Tt.la=Ln.la=0,Ft.Za||(Tt.Na=Ln.Na=0),Ft.Hc=0,Ft.Gc=0,Ft.ia=0;else{var Xn,un;if(Tt=Ln,Ln=rr,Ar=Ve.Pa.Xc,Zr=Ve.ya[Ve.aa+Ve.ja],Yn=Ve.pb[Zr.$b],Jt=Zr.ad,Fr=0,es=Ve.rb[Ve.sb-1],Qt=xr=0,s(Jt,Fr,0,384),Zr.Za)var Pr=0,gi=Ar[3];else{cn=i(16);var sr=Tt.Na+es.Na;if(sr=Vd(Ln,Ar[1],sr,Yn.Eb,0,cn,0),Tt.Na=es.Na=(0<sr)+0,1<sr)co(cn,0,Jt,Fr);else{var ms=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)Jt[Fr+cn]=ms}Pr=1,gi=Ar[0]}var _n=15&Tt.la,wr=15&es.la;for(cn=0;4>cn;++cn){var Ls=1&wr;for(ms=un=0;4>ms;++ms)_n=_n>>1|(Ls=(sr=Vd(Ln,gi,sr=Ls+(1&_n),Yn.Sc,Pr,Jt,Fr))>Pr)<<7,un=un<<2|(3<sr?3:1<sr?2:Jt[Fr+0]!=0),Fr+=16;_n>>=4,wr=wr>>1|Ls<<7,xr=(xr<<8|un)>>>0}for(gi=_n,Pr=wr>>4,Xn=0;4>Xn;Xn+=2){for(un=0,_n=Tt.la>>4+Xn,wr=es.la>>4+Xn,cn=0;2>cn;++cn){for(Ls=1&wr,ms=0;2>ms;++ms)sr=Ls+(1&_n),_n=_n>>1|(Ls=0<(sr=Vd(Ln,Ar[2],sr,Yn.Qc,0,Jt,Fr)))<<3,un=un<<2|(3<sr?3:1<sr?2:Jt[Fr+0]!=0),Fr+=16;_n>>=2,wr=wr>>1|Ls<<5}Qt|=un<<4*Xn,gi|=_n<<4<<Xn,Pr|=(240&wr)<<Xn}Tt.la=gi,es.la=Pr,Zr.Hc=xr,Zr.Gc=Qt,Zr.ia=43690&Qt?0:Yn.ia,Ar=!(xr|Qt)}if(0<Ve.L&&(Ve.wa[Ve.Y+Ve.ja]=Ve.gd[Ft.$b][Ft.Za],Ve.wa[Ve.Y+Ve.ja].La|=!Ar),rr.Ka)return cr(Yt,7,"Premature end-of-file encountered.")}if(yl(Yt),Ve=yr,rr=1,Ft=(ct=Yt).D,Tt=0<ct.L&&ct.M>=ct.zb&&ct.M<=ct.Va,ct.Aa==0)t:{if(Ft.M=ct.M,Ft.uc=Tt,Zs(ct,Ft),rr=1,Ft=(un=ct.D).Nb,Tt=(Qt=xp[ct.L])*ct.R,Ln=Qt/2*ct.B,cn=16*Ft*ct.R,ms=8*Ft*ct.B,Ar=ct.sa,Zr=ct.ta-Tt+cn,Yn=ct.qa,Jt=ct.ra-Ln+ms,Fr=ct.Ha,es=ct.Ia-Ln+ms,wr=(_n=un.M)==0,xr=_n>=ct.Va-1,ct.Aa==2&&Zs(ct,un),un.uc)for(Ls=(sr=ct).D.M,t(sr.D.uc),un=sr.yb;un<sr.Hb;++un){Pr=un,gi=Ls;var ts=(Ts=(Lr=sr).D).Nb;Xn=Lr.R;var Ts=Ts.wa[Ts.Y+Pr],Is=Lr.sa,gs=Lr.ta+16*ts*Xn+16*Pr,Rs=Ts.dd,kn=Ts.tc;if(kn!=0)if(t(3<=kn),Lr.L==1)0<Pr&&$w(Is,gs,Xn,kn+4),Ts.La&&zw(Is,gs,Xn,kn),0<gi&&Bw(Is,gs,Xn,kn+4),Ts.La&&Uw(Is,gs,Xn,kn);else{var Os=Lr.B,vi=Lr.qa,Ml=Lr.ra+8*ts*Os+8*Pr,ja=Lr.Ha,Lr=Lr.Ia+8*ts*Os+8*Pr;ts=Ts.ld,0<Pr&&(vr(Is,gs,Xn,kn+4,Rs,ts),Wd(vi,Ml,ja,Lr,Os,kn+4,Rs,ts)),Ts.La&&(up(Is,gs,Xn,kn,Rs,ts),Fw(vi,Ml,ja,Lr,Os,kn,Rs,ts)),0<gi&&(nr(Is,gs,Xn,kn+4,Rs,ts),Sa(vi,Ml,ja,Lr,Os,kn+4,Rs,ts)),Ts.La&&(qc(Is,gs,Xn,kn,Rs,ts),Mw(vi,Ml,ja,Lr,Os,kn,Rs,ts))}}if(ct.ia&&alert("todo:DitherRow"),Ve.put!=null){if(un=16*_n,_n=16*(_n+1),wr?(Ve.y=ct.sa,Ve.O=ct.ta+cn,Ve.f=ct.qa,Ve.N=ct.ra+ms,Ve.ea=ct.Ha,Ve.W=ct.Ia+ms):(un-=Qt,Ve.y=Ar,Ve.O=Zr,Ve.f=Yn,Ve.N=Jt,Ve.ea=Fr,Ve.W=es),xr||(_n-=Qt),_n>Ve.o&&(_n=Ve.o),Ve.F=null,Ve.J=null,ct.Fa!=null&&0<ct.Fa.length&&un<_n&&(Ve.J=ur(ct,Ve,un,_n-un),Ve.F=ct.mb,Ve.F==null&&Ve.F.length==0)){rr=cr(ct,3,"Could not decode alpha data.");break t}un<Ve.j&&(Qt=Ve.j-un,un=Ve.j,t(!(1&Qt)),Ve.O+=ct.R*Qt,Ve.N+=ct.B*(Qt>>1),Ve.W+=ct.B*(Qt>>1),Ve.F!=null&&(Ve.J+=Ve.width*Qt)),un<_n&&(Ve.O+=Ve.v,Ve.N+=Ve.v>>1,Ve.W+=Ve.v>>1,Ve.F!=null&&(Ve.J+=Ve.v),Ve.ka=un-Ve.j,Ve.U=Ve.va-Ve.v,Ve.T=_n-un,rr=Ve.put(Ve))}Ft+1!=ct.Ic||xr||(r(ct.sa,ct.ta-Tt,Ar,Zr+16*ct.R,Tt),r(ct.qa,ct.ra-Ln,Yn,Jt+8*ct.B,Ln),r(ct.Ha,ct.Ia-Ln,Fr,es+8*ct.B,Ln))}if(!rr)return cr(Yt,6,"Output aborted.")}return 1}(re,fe)),fe.bc!=null&&fe.bc(fe),xe&=1}return xe?(re.cb=0,xe):0})(f,I)||(g=f.a)}}else g=f.a}g==0&&H.Oa!=null&&H.Oa.fd&&(g=Fd(H.ba))}H=g}q=H!=0?null:11>q?K.f.RGBA.eb:K.f.kb.y}else q=null;return q};var cb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(C,M){for(var E="",P=0;P<4;P++)E+=String.fromCharCode(C[M++]);return E}function d(C,M){return C[M+0]|C[M+1]<<8}function p(C,M){return(C[M+0]|C[M+1]<<8|C[M+2]<<16)>>>0}function m(C,M){return(C[M+0]|C[M+1]<<8|C[M+2]<<16|C[M+3]<<24)>>>0}new c;var h=[0],b=[0],v=[],w=new c,y=e,x=function(C,M){var E={},P=0,z=!1,$=0,Z=0;if(E.frames=[],!function(O,T){for(var U=0;U<4;U++)if(O[T+U]!="RIFF".charCodeAt(U))return!0;return!1}(C,M)){for(m(C,M+=4),M+=8;M<C.length;){var ie=u(C,M),te=m(C,M+=4);M+=4;var V=te+(1&te);switch(ie){case"VP8 ":case"VP8L":E.frames[P]===void 0&&(E.frames[P]={}),(ae=E.frames[P]).src_off=z?Z:M-8,ae.src_size=$+te+8,P++,z&&(z=!1,$=0,Z=0);break;case"VP8X":(ae=E.header={}).feature_flags=C[M];var G=M+4;ae.canvas_width=1+p(C,G),G+=3,ae.canvas_height=1+p(C,G),G+=3;break;case"ALPH":z=!0,$=V+8,Z=M-8;break;case"ANIM":(ae=E.header).bgcolor=m(C,M),G=M+4,ae.loop_count=d(C,G),G+=2;break;case"ANMF":var oe,ae;(ae=E.frames[P]={}).offset_x=2*p(C,M),M+=3,ae.offset_y=2*p(C,M),M+=3,ae.width=1+p(C,M),M+=3,ae.height=1+p(C,M),M+=3,ae.duration=p(C,M),M+=3,oe=C[M++],ae.dispose=1&oe,ae.blend=oe>>1&1}ie!="ANMF"&&(M+=V)}return E}}(y,0);x.response=y,x.rgbaoutput=!0,x.dataurl=!1;var S=x.header?x.header:null,k=x.frames?x.frames:null;if(S){S.loop_counter=S.loop_count,h=[S.canvas_height],b=[S.canvas_width];for(var D=0;D<k.length&&k[D].blend!=0;D++);}var A=k[0],R=w.WebPDecodeRGBA(y,A.src_off,A.src_size,b,h);A.rgba=R,A.imgwidth=b[0],A.imgheight=h[0];for(var L=0;L<b[0]*h[0]*4;L++)v[L]=R[L];return this.width=b,this.height=h,this.data=v,this}(function(e){var t,n,r,s,i,o,l,c,u,d=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new c,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new o,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new o,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var p=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var T=O;Object.defineProperty(this,"pdf",{get:function(){return T}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(_e){U=!!_e}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(_e){W=!!_e}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(_e){isNaN(_e)||(Q=_e)}});var Y=0;Object.defineProperty(this,"posY",{get:function(){return Y},set:function(_e){isNaN(_e)||(Y=_e)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(_e){var J;typeof _e=="number"?J=[_e,_e,_e,_e]:((J=new Array(4))[0]=_e[0],J[1]=_e.length>=2?_e[1]:J[0],J[2]=_e.length>=3?_e[2]:J[0],J[3]=_e.length>=4?_e[3]:J[1]),u.margin=J}});var le=!1;Object.defineProperty(this,"autoPaging",{get:function(){return le},set:function(_e){le=_e}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(_e){ue=_e}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function(_e){pe=_e}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(_e){_e instanceof d&&(u=_e)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(_e){u.path=_e}});var de=[];Object.defineProperty(this,"ctxStack",{get:function(){return de},set:function(_e){de=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var J;J=m(_e),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var J=m(_e);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var ye=null,Te=null;Object.defineProperty(this,"fontFaces",{get:function(){return Te},set:function(_e){ye=null,Te=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var J;if(this.ctx.font=_e,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var at=J[1];J[2];var ee=J[3],Se=J[4];J[5];var ge=J[6],je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Se)[2];Se=Math.floor(je==="px"?parseFloat(Se)*this.pdf.internal.scaleFactor:je==="em"?parseFloat(Se)*this.pdf.getFontSize():parseFloat(Se)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Se);var ve=function(He){var Ie,Ze,At=[],Xe=He.trim();if(Xe==="")return B1;if(Xe in iN)return[iN[Xe]];for(;Xe!=="";){switch(Ze=null,Ie=(Xe=oN(Xe)).charAt(0)){case'"':case"'":Ze=hH(Xe.substring(1),Ie);break;default:Ze=fH(Xe)}if(Ze===null||(At.push(Ze[0]),(Xe=oN(Ze[1]))!==""&&Xe.charAt(0)!==","))return B1;Xe=Xe.replace(/^,/,"")}return At}(ge);if(this.fontFaces){var Ne=function(He,Ie){if(ye===null){var Ze=function(At){var Xe=[];return Object.keys(At).forEach(function(ut){At[ut].forEach(function(St){var Ke=null;switch(St){case"bold":Ke={family:ut,weight:"bold"};break;case"italic":Ke={family:ut,style:"italic"};break;case"bolditalic":Ke={family:ut,weight:"bold",style:"italic"};break;case"":case"normal":Ke={family:ut}}Ke!==null&&(Ke.ref={name:ut,style:St},Xe.push(Ke))})}),Xe}(He.getFontList());ye=function(At){for(var Xe={},ut=0;ut<At.length;++ut){var St=F1(At[ut]),Ke=St.family,vt=St.stretch,nt=St.style,Ut=St.weight;Xe[Ke]=Xe[Ke]||{},Xe[Ke][vt]=Xe[Ke][vt]||{},Xe[Ke][vt][nt]=Xe[Ke][vt][nt]||{},Xe[Ke][vt][nt][Ut]=St}return Xe}(Ze.concat(Ie))}return ye}(this.pdf,this.fontFaces),Ee=ve.map(function(He){return{family:He,stretch:"normal",weight:ee,style:at}}),et=function(He,Ie,Ze){for(var At=(Ze=Ze||{}).defaultFontFamily||"times",Xe=Object.assign({},dH,Ze.genericFontFamilies||{}),ut=null,St=null,Ke=0;Ke<Ie.length;++Ke)if(Xe[(ut=F1(Ie[Ke])).family]&&(ut.family=Xe[ut.family]),He.hasOwnProperty(ut.family)){St=He[ut.family];break}if(!(St=St||He[At]))throw new Error("Could not find a font-family for the rule '"+aN(ut)+"' and default family '"+At+"'.");if(St=function(vt,nt){if(nt[vt])return nt[vt];var Ut=F2[vt],Vt=Ut<=F2.normal?-1:1,Dt=sN(nt,PP,Ut,Vt);if(!Dt)throw new Error("Could not find a matching font-stretch value for "+vt);return Dt}(ut.stretch,St),St=function(vt,nt){if(nt[vt])return nt[vt];for(var Ut=AP[vt],Vt=0;Vt<Ut.length;++Vt)if(nt[Ut[Vt]])return nt[Ut[Vt]];throw new Error("Could not find a matching font-style for "+vt)}(ut.style,St),!(St=function(vt,nt){if(nt[vt])return nt[vt];if(vt===400&&nt[500])return nt[500];if(vt===500&&nt[400])return nt[400];var Ut=uH[vt],Vt=sN(nt,LP,Ut,vt<400?-1:1);if(!Vt)throw new Error("Could not find a matching font-weight for value "+vt);return Vt}(ut.weight,St)))throw new Error("Failed to resolve a font for the rule '"+aN(ut)+"'.");return St}(Ne,Ee);this.pdf.setFont(et.ref.name,et.ref.style)}else{var Fe="";(ee==="bold"||parseInt(ee,10)>=700||at==="bold")&&(Fe="bold"),at==="italic"&&(Fe+="italic"),Fe.length===0&&(Fe="normal");for(var Ye="",ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ft=0;ft<ve.length;ft++){if(this.pdf.internal.getFont(ve[ft],Fe,{noFallback:!0,disableWarning:!0})!==void 0){Ye=ve[ft];break}if(Fe==="bolditalic"&&this.pdf.internal.getFont(ve[ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ye=ve[ft],Fe="bold";else if(this.pdf.internal.getFont(ve[ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ye=ve[ft],Fe="normal";break}}if(Ye===""){for(var Qe=0;Qe<ve.length;Qe++)if(ht[ve[Qe]]){Ye=ht[ve[Qe]];break}}Ye=Ye===""?"Times":Ye,this.pdf.setFont(Ye,Fe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};p.prototype.setLineDash=function(O){this.lineDash=O},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){k.call(this,"fill",!1)},p.prototype.stroke=function(){k.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(O,T){if(isNaN(O)||isNaN(T))throw Sn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new o(O,T));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new o(O,T)},p.prototype.closePath=function(){var O=new o(0,0),T=0;for(T=this.path.length-1;T!==-1;T--)if(this.path[T].type==="begin"&&fn(this.path[T+1])==="object"&&typeof this.path[T+1].x=="number"){O=new o(this.path[T+1].x,this.path[T+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(O.x,O.y)},p.prototype.lineTo=function(O,T){if(isNaN(O)||isNaN(T))throw Sn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new o(O,T));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new o(U.x,U.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},p.prototype.quadraticCurveTo=function(O,T,U,W){if(isNaN(U)||isNaN(W)||isNaN(O)||isNaN(T))throw Sn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new o(U,W)),Y=this.ctx.transform.applyToPoint(new o(O,T));this.path.push({type:"qct",x1:Y.x,y1:Y.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},p.prototype.bezierCurveTo=function(O,T,U,W,Q,Y){if(isNaN(Q)||isNaN(Y)||isNaN(O)||isNaN(T)||isNaN(U)||isNaN(W))throw Sn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var le=this.ctx.transform.applyToPoint(new o(Q,Y)),ue=this.ctx.transform.applyToPoint(new o(O,T)),pe=this.ctx.transform.applyToPoint(new o(U,W));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:pe.x,y2:pe.y,x:le.x,y:le.y}),this.ctx.lastPoint=new o(le.x,le.y)},p.prototype.arc=function(O,T,U,W,Q,Y){if(isNaN(O)||isNaN(T)||isNaN(U)||isNaN(W)||isNaN(Q))throw Sn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Y=!!Y,!this.ctx.transform.isIdentity){var le=this.ctx.transform.applyToPoint(new o(O,T));O=le.x,T=le.y;var ue=this.ctx.transform.applyToPoint(new o(0,U)),pe=this.ctx.transform.applyToPoint(new o(0,0));U=Math.sqrt(Math.pow(ue.x-pe.x,2)+Math.pow(ue.y-pe.y,2))}Math.abs(Q-W)>=2*Math.PI&&(W=0,Q=2*Math.PI),this.path.push({type:"arc",x:O,y:T,radius:U,startAngle:W,endAngle:Q,counterclockwise:Y})},p.prototype.arcTo=function(O,T,U,W,Q){throw new Error("arcTo not implemented.")},p.prototype.rect=function(O,T,U,W){if(isNaN(O)||isNaN(T)||isNaN(U)||isNaN(W))throw Sn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,T),this.lineTo(O+U,T),this.lineTo(O+U,T+W),this.lineTo(O,T+W),this.lineTo(O,T),this.lineTo(O+U,T),this.lineTo(O,T)},p.prototype.fillRect=function(O,T,U,W){if(isNaN(O)||isNaN(T)||isNaN(U)||isNaN(W))throw Sn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,T,U,W),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},p.prototype.strokeRect=function(O,T,U,W){if(isNaN(O)||isNaN(T)||isNaN(U)||isNaN(W))throw Sn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(O,T,U,W),this.stroke())},p.prototype.clearRect=function(O,T,U,W){if(isNaN(O)||isNaN(T)||isNaN(U)||isNaN(W))throw Sn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,T,U,W))},p.prototype.save=function(O){O=typeof O!="boolean"||O;for(var T=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(T),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},p.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var T=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(T),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(O){var T,U,W,Q;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))T=0,U=0,W=0,Q=0;else{var Y=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(Y!==null)T=parseInt(Y[1]),U=parseInt(Y[2]),W=parseInt(Y[3]),Q=1;else if((Y=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)T=parseInt(Y[1]),U=parseInt(Y[2]),W=parseInt(Y[3]),Q=parseFloat(Y[4]);else{if(Q=1,typeof O=="string"&&O.charAt(0)!=="#"){var le=new _P(O);O=le.ok?le.toHex():"#000000"}O.length===4?(T=O.substring(1,2),T+=T,U=O.substring(2,3),U+=U,W=O.substring(3,4),W+=W):(T=O.substring(1,3),U=O.substring(3,5),W=O.substring(5,7)),T=parseInt(T,16),U=parseInt(U,16),W=parseInt(W,16)}}return{r:T,g:U,b:W,a:Q,style:O}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(O,T,U,W){if(isNaN(T)||isNaN(U)||typeof O!="string")throw Sn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!h.call(this)){var Q=V(this.ctx.transform.rotation),Y=this.ctx.transform.scaleX;P.call(this,{text:O,x:T,y:U,scale:Y,angle:Q,align:this.textAlign,maxWidth:W})}},p.prototype.strokeText=function(O,T,U,W){if(isNaN(T)||isNaN(U)||typeof O!="string")throw Sn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){W=isNaN(W)?void 0:W;var Q=V(this.ctx.transform.rotation),Y=this.ctx.transform.scaleX;P.call(this,{text:O,x:T,y:U,scale:Y,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:W})}},p.prototype.measureText=function(O){if(typeof O!="string")throw Sn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var T=this.pdf,U=this.pdf.internal.scaleFactor,W=T.internal.getFontSize(),Q=T.getStringUnitWidth(O)*W/T.internal.scaleFactor;return new function(Y){var le=(Y=Y||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this}({width:Q*=Math.round(96*U/72*1e4)/1e4})},p.prototype.scale=function(O,T){if(isNaN(O)||isNaN(T))throw Sn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new c(O,0,0,T,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},p.prototype.rotate=function(O){if(isNaN(O))throw Sn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var T=new c(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(T)},p.prototype.translate=function(O,T){if(isNaN(O)||isNaN(T))throw Sn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new c(1,0,0,1,O,T);this.ctx.transform=this.ctx.transform.multiply(U)},p.prototype.transform=function(O,T,U,W,Q,Y){if(isNaN(O)||isNaN(T)||isNaN(U)||isNaN(W)||isNaN(Q)||isNaN(Y))throw Sn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var le=new c(O,T,U,W,Q,Y);this.ctx.transform=this.ctx.transform.multiply(le)},p.prototype.setTransform=function(O,T,U,W,Q,Y){O=isNaN(O)?1:O,T=isNaN(T)?0:T,U=isNaN(U)?0:U,W=isNaN(W)?1:W,Q=isNaN(Q)?0:Q,Y=isNaN(Y)?0:Y,this.ctx.transform=new c(O,T,U,W,Q,Y)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(O,T,U,W,Q,Y,le,ue,pe){var de=this.pdf.getImageProperties(O),ye=1,Te=1,_e=1,J=1;W!==void 0&&ue!==void 0&&(_e=ue/W,J=pe/Q,ye=de.width/W*ue/W,Te=de.height/Q*pe/Q),Y===void 0&&(Y=T,le=U,T=0,U=0),W!==void 0&&ue===void 0&&(ue=W,pe=Q),W===void 0&&ue===void 0&&(ue=de.width,pe=de.height);for(var at,ee=this.ctx.transform.decompose(),Se=V(ee.rotate.shx),ge=new c,je=(ge=(ge=(ge=ge.multiply(ee.translate)).multiply(ee.skew)).multiply(ee.scale)).applyToRectangle(new l(Y-T*_e,le-U*J,W*ye,Q*Te)),ve=w.call(this,je),Ne=[],Ee=0;Ee<ve.length;Ee+=1)Ne.indexOf(ve[Ee])===-1&&Ne.push(ve[Ee]);if(S(Ne),this.autoPaging)for(var et=Ne[0],Fe=Ne[Ne.length-1],Ye=et;Ye<Fe+1;Ye++){this.pdf.setPage(Ye);var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=Ye===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=Ye===1?0:Qe+(Ye-2)*He;if(this.ctx.clip_path.length!==0){var Ze=this.path;at=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(at,this.posX+this.margin[3],-Ie+ft+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=Ze}var At=JSON.parse(JSON.stringify(je));At=x([At],this.posX+this.margin[3],-Ie+ft+this.ctx.prevPageLastElemOffset)[0];var Xe=(Ye>et||Ye<Fe)&&v.call(this);Xe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,He,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",At.x,At.y,At.w,At.h,null,null,Se),Xe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",je.x,je.y,je.w,je.h,null,null,Se)};var w=function(O,T,U){var W=[];T=T||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":W.push(Math.floor((O.y+Q)/U)+1);break;case"arc":W.push(Math.floor((O.y+Q-O.radius)/U)+1),W.push(Math.floor((O.y+Q+O.radius)/U)+1);break;case"qct":var Y=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);W.push(Math.floor((Y.y+Q)/U)+1),W.push(Math.floor((Y.y+Y.h+Q)/U)+1);break;case"bct":var le=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);W.push(Math.floor((le.y+Q)/U)+1),W.push(Math.floor((le.y+le.h+Q)/U)+1);break;case"rect":W.push(Math.floor((O.y+Q)/U)+1),W.push(Math.floor((O.y+O.h+Q)/U)+1)}for(var ue=0;ue<W.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<W[ue];)y.call(this);return W},y=function(){var O=this.fillStyle,T=this.strokeStyle,U=this.font,W=this.lineCap,Q=this.lineWidth,Y=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=T,this.font=U,this.lineCap=W,this.lineWidth=Q,this.lineJoin=Y},x=function(O,T,U){for(var W=0;W<O.length;W++)switch(O[W].type){case"bct":O[W].x2+=T,O[W].y2+=U;case"qct":O[W].x1+=T,O[W].y1+=U;default:O[W].x+=T,O[W].y+=U}return O},S=function(O){return O.sort(function(T,U){return T-U})},k=function(O,T){for(var U,W,Q=this.fillStyle,Y=this.strokeStyle,le=this.lineCap,ue=this.lineWidth,pe=Math.abs(ue*this.ctx.transform.scaleX),de=this.lineJoin,ye=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),_e=[],J=0;J<Te.length;J++)if(Te[J].x!==void 0)for(var at=w.call(this,Te[J]),ee=0;ee<at.length;ee+=1)_e.indexOf(at[ee])===-1&&_e.push(at[ee]);for(var Se=0;Se<_e.length;Se++)for(;this.pdf.internal.getNumberOfPages()<_e[Se];)y.call(this);if(S(_e),this.autoPaging)for(var ge=_e[0],je=_e[_e.length-1],ve=ge;ve<je+1;ve++){this.pdf.setPage(ve),this.fillStyle=Q,this.strokeStyle=Y,this.lineCap=le,this.lineWidth=pe,this.lineJoin=de;var Ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ee=ve===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=ve===1?0:et+(ve-2)*Fe;if(this.ctx.clip_path.length!==0){var ht=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(U,this.posX+this.margin[3],-Ye+Ee+this.ctx.prevPageLastElemOffset),D.call(this,O,!0),this.path=ht}if(W=JSON.parse(JSON.stringify(ye)),this.path=x(W,this.posX+this.margin[3],-Ye+Ee+this.ctx.prevPageLastElemOffset),T===!1||ve===0){var ft=(ve>ge||ve<je)&&v.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,Fe,null).clip().discardPath()),D.call(this,O,T),ft&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}else this.lineWidth=pe,D.call(this,O,T),this.lineWidth=ue;this.path=ye},D=function(O,T){if((O!=="stroke"||T||!b.call(this))&&(O==="stroke"||T||!h.call(this))){for(var U,W,Q=[],Y=this.path,le=0;le<Y.length;le++){var ue=Y[le];switch(ue.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:ue,deltas:[],abs:[]});break;case"lt":var pe=Q.length;if(Y[le-1]&&!isNaN(Y[le-1].x)&&(U=[ue.x-Y[le-1].x,ue.y-Y[le-1].y],pe>0)){for(;pe>=0;pe--)if(Q[pe-1].close!==!0&&Q[pe-1].begin!==!0){Q[pe-1].deltas.push(U),Q[pe-1].abs.push(ue);break}}break;case"bct":U=[ue.x1-Y[le-1].x,ue.y1-Y[le-1].y,ue.x2-Y[le-1].x,ue.y2-Y[le-1].y,ue.x-Y[le-1].x,ue.y-Y[le-1].y],Q[Q.length-1].deltas.push(U);break;case"qct":var de=Y[le-1].x+2/3*(ue.x1-Y[le-1].x),ye=Y[le-1].y+2/3*(ue.y1-Y[le-1].y),Te=ue.x+2/3*(ue.x1-ue.x),_e=ue.y+2/3*(ue.y1-ue.y),J=ue.x,at=ue.y;U=[de-Y[le-1].x,ye-Y[le-1].y,Te-Y[le-1].x,_e-Y[le-1].y,J-Y[le-1].x,at-Y[le-1].y],Q[Q.length-1].deltas.push(U);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(ue)}}W=T?null:O==="stroke"?"stroke":"fill";for(var ee=!1,Se=0;Se<Q.length;Se++)if(Q[Se].arc)for(var ge=Q[Se].abs,je=0;je<ge.length;je++){var ve=ge[je];ve.type==="arc"?L.call(this,ve.x,ve.y,ve.radius,ve.startAngle,ve.endAngle,ve.counterclockwise,void 0,T,!ee):z.call(this,ve.x,ve.y),ee=!0}else if(Q[Se].close===!0)this.pdf.internal.out("h"),ee=!1;else if(Q[Se].begin!==!0){var Ne=Q[Se].start.x,Ee=Q[Se].start.y;$.call(this,Q[Se].deltas,Ne,Ee),ee=!0}W&&C.call(this,W),T&&M.call(this)}},A=function(O){var T=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=T*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-U;case"top":return O+T-U;case"hanging":return O+T-2*U;case"middle":return O+T/2-U;default:return O}},R=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(T,U){this.colorStops.push([T,U])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(O,T,U,W,Q,Y,le,ue,pe){for(var de=ie.call(this,U,W,Q,Y),ye=0;ye<de.length;ye++){var Te=de[ye];ye===0&&(pe?E.call(this,Te.x1+O,Te.y1+T):z.call(this,Te.x1+O,Te.y1+T)),Z.call(this,O,T,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}ue?M.call(this):C.call(this,le)},C=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(O,T){this.pdf.internal.out(n(O)+" "+r(T)+" m")},P=function(O){var T;switch(O.align){case"right":case"end":T="right";break;case"center":T="center";break;default:T="left"}var U=this.pdf.getTextDimensions(O.text),W=A.call(this,O.y),Q=R.call(this,W)-U.h,Y=this.ctx.transform.applyToPoint(new o(O.x,W)),le=this.ctx.transform.decompose(),ue=new c;ue=(ue=(ue=ue.multiply(le.translate)).multiply(le.skew)).multiply(le.scale);for(var pe,de,ye,Te=this.ctx.transform.applyToRectangle(new l(O.x,W,U.w,U.h)),_e=ue.applyToRectangle(new l(O.x,Q,U.w,U.h)),J=w.call(this,_e),at=[],ee=0;ee<J.length;ee+=1)at.indexOf(J[ee])===-1&&at.push(J[ee]);if(S(at),this.autoPaging)for(var Se=at[0],ge=at[at.length-1],je=Se;je<ge+1;je++){this.pdf.setPage(je);var ve=je===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ee=this.pdf.internal.pageSize.height-this.margin[2],et=Ee-this.margin[0],Fe=this.pdf.internal.pageSize.width-this.margin[1],Ye=Fe-this.margin[3],ht=je===1?0:Ne+(je-2)*et;if(this.ctx.clip_path.length!==0){var ft=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(pe,this.posX+this.margin[3],-1*ht+ve),D.call(this,"fill",!0),this.path=ft}var Qe=x([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-ht+ve+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(de=this.pdf.internal.getFontSize(),this.pdf.setFontSize(de*O.scale),ye=this.lineWidth,this.lineWidth=ye*O.scale);var He=this.autoPaging!=="text";if(He||Qe.y+Qe.h<=Ee){if(He||Qe.y>=ve&&Qe.x<=Fe){var Ie=He?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Fe-Qe.x)[0],Ze=x([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-ht+ve+this.ctx.prevPageLastElemOffset)[0],At=He&&(je>Se||je<ge)&&v.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,et,null).clip().discardPath()),this.pdf.text(Ie,Ze.x,Ze.y,{angle:O.angle,align:T,renderingMode:O.renderingMode}),At&&this.pdf.restoreGraphicsState()}}else Qe.y<Ee&&(this.ctx.prevPageLastElemOffset+=Ee-Qe.y);O.scale>=.01&&(this.pdf.setFontSize(de),this.lineWidth=ye)}else O.scale>=.01&&(de=this.pdf.internal.getFontSize(),this.pdf.setFontSize(de*O.scale),ye=this.lineWidth,this.lineWidth=ye*O.scale),this.pdf.text(O.text,Y.x+this.posX,Y.y+this.posY,{angle:O.angle,align:T,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(de),this.lineWidth=ye)},z=function(O,T,U,W){U=U||0,W=W||0,this.pdf.internal.out(n(O+U)+" "+r(T+W)+" l")},$=function(O,T,U){return this.pdf.lines(O,T,U,null,null)},Z=function(O,T,U,W,Q,Y,le,ue){this.pdf.internal.out([t(s(U+O)),t(i(W+T)),t(s(Q+O)),t(i(Y+T)),t(s(le+O)),t(i(ue+T)),"c"].join(" "))},ie=function(O,T,U,W){for(var Q=2*Math.PI,Y=Math.PI/2;T>U;)T-=Q;var le=Math.abs(U-T);le<Q&&W&&(le=Q-le);for(var ue=[],pe=W?-1:1,de=T;le>1e-5;){var ye=de+pe*Math.min(le,Y);ue.push(te.call(this,O,de,ye)),le-=Math.abs(ye-de),de=ye}return ue},te=function(O,T,U){var W=(U-T)/2,Q=O*Math.cos(W),Y=O*Math.sin(W),le=Q,ue=-Y,pe=le*le+ue*ue,de=pe+le*Q+ue*Y,ye=4/3*(Math.sqrt(2*pe*de)-de)/(le*Y-ue*Q),Te=le-ye*ue,_e=ue+ye*le,J=Te,at=-_e,ee=W+T,Se=Math.cos(ee),ge=Math.sin(ee);return{x1:O*Math.cos(T),y1:O*Math.sin(T),x2:Te*Se-_e*ge,y2:Te*ge+_e*Se,x3:J*Se-at*ge,y3:J*ge+at*Se,x4:O*Math.cos(U),y4:O*Math.sin(U)}},V=function(O){return 180*O/Math.PI},G=function(O,T,U,W,Q,Y){var le=O+.5*(U-O),ue=T+.5*(W-T),pe=Q+.5*(U-Q),de=Y+.5*(W-Y),ye=Math.min(O,Q,le,pe),Te=Math.max(O,Q,le,pe),_e=Math.min(T,Y,ue,de),J=Math.max(T,Y,ue,de);return new l(ye,_e,Te-ye,J-_e)},oe=function(O,T,U,W,Q,Y,le,ue){var pe,de,ye,Te,_e,J,at,ee,Se,ge,je,ve,Ne,Ee,et=U-O,Fe=W-T,Ye=Q-U,ht=Y-W,ft=le-Q,Qe=ue-Y;for(de=0;de<41;de++)Se=(at=(ye=O+(pe=de/40)*et)+pe*((_e=U+pe*Ye)-ye))+pe*(_e+pe*(Q+pe*ft-_e)-at),ge=(ee=(Te=T+pe*Fe)+pe*((J=W+pe*ht)-Te))+pe*(J+pe*(Y+pe*Qe-J)-ee),de==0?(je=Se,ve=ge,Ne=Se,Ee=ge):(je=Math.min(je,Se),ve=Math.min(ve,ge),Ne=Math.max(Ne,Se),Ee=Math.max(Ee,ge));return new l(Math.round(je),Math.round(ve),Math.round(Ne-je),Math.round(Ee-ve))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,T,U=(O=this.ctx.lineDash,T=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:T}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(dt.API),function(e){var t=function(o){var l,c,u,d,p,m,h,b,v,w;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(p=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(m=(p=((p=((p=((p=(p-(w=p%85))/85)-(v=p%85))/85)-(b=p%85))/85)-(h=p%85))/85)%85,c.push(m+33,h+33,b+33,v+33,w+33)):c.push(122);return function(y,x){for(var S=x;S>0;S--)y.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(o){var l,c,u,d,p,m=String,h="length",b=255,v="charCodeAt",w="slice",y="replace";for(o[w](-2),o=o[w](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),u=[],d=0,p=(o+=l="uuuuu"[w](o[h]%5||5))[h];p>d;d+=5)c=52200625*(o[v](d)-33)+614125*(o[v](d+1)-33)+7225*(o[v](d+2)-33)+85*(o[v](d+3)-33)+(o[v](d+4)-33),u.push(b&c>>24,b&c>>16,b&c>>8,b&c);return function(x,S){for(var k=S;k>0;k--)x.pop()}(u,l[h]),m.fromCharCode.apply(m,u)},r=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=j2(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(dt.API),function(e){e.loadFile=function(t,n,r){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var p=new XMLHttpRequest,m=0,h=function(b){var v=b.length,w=[],y=String.fromCharCode;for(m=0;m<v;m+=1)w.push(y(255&b.charCodeAt(m)));return w.join("")};if(p.open("GET",c,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?d(h(this.responseText)):d(void 0)}),p.send(null),u&&p.status===200)return h(p.responseText)}(s,i,o)}catch{}return l}(t,n,r)},e.loadImageFile=e.loadFile}(dt.API),function(e){function t(){return(jt.html2canvas?Promise.resolve(jt.html2canvas):la(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(jt.DOMPurify?Promise.resolve(jt.DOMPurify):la(()=>import("./purify.es-DfngIMfA.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var c=fn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(l(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(n).then(function(u){return this.set({src:s("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var b=d[h],v=b.src.find(function(w){return w.format==="truetype"});v&&u.addFont(v.url,b.ref.name,b.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||dt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,p){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,p).then(function(m){return u.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),m=u.call(p,l,c);return o.convert(m,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,dt.getPageSize=function(l,c,u){if(fn(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var p,m=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var b,v=0,w=0;if(h.hasOwnProperty(m))v=h[m][1]/p,w=h[m][0]/p;else try{v=u[1],w=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",w>v&&(b=w,w=v,v=b);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",v>w&&(b=w,w=v,v=b)}return{width:w,height:v,unit:c,k:p,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(F1):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(dt.API),dt.API.addJS=function(e){return cN=e,this.internal.events.subscribe("postPutResources",function(){dm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(dm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),lN=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+cN+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){dm!==void 0&&lN!==void 0&&this.internal.out("/Names <</JavaScript "+dm+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=r.exec(o);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var p=n.internal.newObject();d.push(p);var m=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<d.length;i++)n.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,i){var o={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var o=r.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])}(dt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,s,i,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=function(p){for(var m,h=256*p.charCodeAt(4)+p.charCodeAt(5),b=p.length,v={width:0,height:0,numcomponents:1},w=4;w<b;w+=2){if(w+=h,t.indexOf(p.charCodeAt(w+1))!==-1){m=256*p.charCodeAt(w+5)+p.charCodeAt(w+6),v={width:256*p.charCodeAt(w+7)+p.charCodeAt(w+8),height:m,numcomponents:p.charCodeAt(w+9)};break}h=256*p.charCodeAt(w+2)+p.charCodeAt(w+3)}return v}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:r,alias:s}}return d}}(dt.API),dt.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=XW(e,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,u=i.palette,d=i.depth;s=u&&c===1?function(L){for(var C=L.width,M=L.height,E=L.data,P=L.palette,z=L.depth,$=!1,Z=[],ie=[],te=void 0,V=!1,G=0,oe=0;oe<P.length;oe++){var ae=rS(P[oe],4),O=ae[0],T=ae[1],U=ae[2],W=ae[3];Z.push(O,T,U),W!=null&&(W===0?(G++,ie.length<1&&ie.push(oe)):W<255&&(V=!0))}if(V||G>1){$=!0,ie=void 0;var Q=C*M;te=new Uint8Array(Q);for(var Y=new DataView(E.buffer),le=0;le<Q;le++){var ue=$1(Y,le,z),pe=rS(P[ue],4)[3];te[le]=pe}}else G===0&&(ie=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:E,alphaBytes:te,needSMask:$,palette:Z,mask:ie}}(i):c===2||c===4?function(L){for(var C=L.data,M=L.width,E=L.height,P=L.channels,z=L.depth,$=P===2?"DeviceGray":"DeviceRGB",Z=P-1,ie=M*E,te=Z,V=ie*te,G=1*ie,oe=Math.ceil(V*z/8),ae=Math.ceil(G*z/8),O=new Uint8Array(oe),T=new Uint8Array(ae),U=new DataView(C.buffer),W=new DataView(O.buffer),Q=new DataView(T.buffer),Y=!1,le=0;le<ie;le++){for(var ue=le*P,pe=0;pe<te;pe++)yN(W,$1(U,ue+pe,z),le*te+pe,z);var de=$1(U,ue+te,z);de<(1<<z)-1&&(Y=!0),yN(Q,de,1*le,z)}return{colorSpace:$,colorsPerPixel:Z,sMaskBitsPerComponent:Y?z:void 0,colorBytes:O,alphaBytes:T,needSMask:Y}}(i):function(L){var C=L.data,M=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:M,colorsPerPixel:M==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?function(E){for(var P=E.length,z=new Uint8Array(2*P),$=new DataView(z.buffer,z.byteOffset,z.byteLength),Z=0;Z<P;Z++)$.setUint16(2*Z,E[Z],!1);return z}(C):C,needSMask:!1}}(i);var p,m,h,b=s,v=b.colorSpace,w=b.colorsPerPixel,y=b.sMaskBitsPerComponent,x=b.colorBytes,S=b.alphaBytes,k=b.needSMask,D=b.palette,A=b.mask,R=null;return r!==dt.API.image_compression.NONE&&typeof j2=="function"?(R=function(L){var C;switch(L){case dt.API.image_compression.FAST:C=11;break;case dt.API.image_compression.MEDIUM:C=13;break;case dt.API.image_compression.SLOW:C=14;break;default:C=12}return C}(r),p=this.decode.FLATE_DECODE,m="/Predictor ".concat(R," /Colors ").concat(w," /BitsPerComponent ").concat(d," /Columns ").concat(o),e=fN(x,Math.ceil(o*w*d/8),w,d,r),k&&(h=fN(S,Math.ceil(o*y/8),1,y,r))):(p=void 0,m=void 0,e=x,k&&(h=S)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:e,index:t,filter:p,decodeParameters:m,transparency:A,palette:D,sMask:h,predictor:R,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:y,colorSpace:v}}},function(e){e.processGIF89A=function(t,n,r,s){var i=new vH(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new U1(100).encode(u,100);return e.processJPEG.call(this,d,n,r,s)},e.processGIF87A=e.processGIF89A}(dt.API),wi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},wi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Sn.log("bit decode error:"+n)}},wi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},wi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*s*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},wi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},wi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=r*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},wi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&n)/n*255|0,u=(o>>11)/t*255|0,d=s*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},wi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},wi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=r,this.data[l+3]=o}},wi.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,s){var i=new wi(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new U1(100).encode(c,100);return e.processJPEG.call(this,u,n,r,s)}}(dt.API),wN.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,s){var i=new wN(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new U1(100).encode(c,100);return e.processJPEG.call(this,u,n,r,s)}}(dt.API),dt.API.processRGBA=function(e,t,n){for(var r=e.data,s=r.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,u=0;u<s;u+=4){var d=r[u],p=r[u+1],m=r[u+2],h=r[u+3];i[l++]=d,i[l++]=p,i[l++]=m,o[c++]=h}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},dt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ru=dt.API,hm=ru.getCharWidthsArray=function(e,t){var n,r,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,p=t.doKerning!==!1,m=0,h=e.length,b=0,v=l[0]||c,w=[];for(n=0;n<h;n++)r=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?w.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+o*(1e3/i)||0)/1e3):(m=p&&fn(u[r])==="object"&&!isNaN(parseInt(u[r][b],10))?u[r][b]/d:0,w.push((l[r]||v)/c+m)),b=r;return w},uN=ru.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return ru.processArabic&&(e=ru.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,s)/n:hm.apply(this,arguments).reduce(function(i,o){return i+o},0)},dN=function(e,t,n,r){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<n;)l+=t[i],i++;s.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>r&&(s.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},hN=function(e,t,n){n||(n={});var r,s,i,o,l,c,u,d=[],p=[d],m=n.textIndent||0,h=0,b=0,v=e.split(" "),w=hm.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?v[0].length+2:n.lineIndent||0){var y=Array(c).join(" "),x=[];v.map(function(k){(k=k.split(/\s*\n/)).length>1?x=x.concat(k.map(function(D,A){return(A&&D.length?`
`:"")+D})):x.push(k[0])}),v=x,c=uN.apply(this,[y,n])}for(i=0,o=v.length;i<o;i++){var S=0;if(r=v[i],c&&r[0]==`
`&&(r=r.substr(1),S=1),m+h+(b=(s=hm.apply(this,[r,n])).reduce(function(k,D){return k+D},0))>t||S){if(b>t){for(l=dN.apply(this,[r,s,t-(m+h),t]),d.push(l.shift()),d=[l.pop()];l.length;)p.push([l.shift()]);b=s.slice(r.length-(d[0]?d[0].length:0)).reduce(function(k,D){return k+D},0)}else d=[r];p.push(d),m=b+c,h=w}else d.push(r),m+=h+b,h=w}return u=c?function(k,D){return(D?y:"")+k.join(" ")}:function(k){return k.join(" ")},p.map(u)},ru.splitTextToSize=function(e,t,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var p=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return p.metadata[m]?{widths:p.metadata[m].widths||{0:1},kerning:p.metadata[m].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var l,c,u=[];for(l=0,c=r.length;l<c;l++)u=u.concat(hN.apply(this,[r[l],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},s={},i=0;i<16;i++)r[n[i]]=t[i],s[t[i]]=n[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var h,b,v,w,y=["{"];for(var x in m){if(h=m[x],isNaN(parseInt(x,10))?b="'"+x+"'":(x=parseInt(x,10),b=(b=o(x).slice(2)).slice(0,-1)+s[b.slice(-1)]),typeof h=="number")h<0?(v=o(h).slice(3),w="-"):(v=o(h).slice(2),w=""),v=w+v.slice(0,-1)+s[v.slice(-1)];else{if(fn(h)!=="object")throw new Error("Don't know what to do with value type "+fn(h)+".");v=l(h)}y.push(b+v)}return y.push("}"),y.join("")},c=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,b,v,w,y={},x=1,S=y,k=[],D="",A="",R=m.length-1,L=1;L<R;L+=1)(w=m[L])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(w):w=="{"?(k.push([S,v]),S={},v=void 0):w=="}"?((b=k.pop())[0][b[1]]=S,v=void 0,S=b[0]):w=="-"?x=-1:v===void 0?r.hasOwnProperty(w)?(D+=r[w],v=parseInt(D,16)*x,x=1,D=""):D+=w:r.hasOwnProperty(w)?(A+=r[w],S[v]=parseInt(A,16)*x,x=1,v=void 0,A=""):A+=w;return y},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var h=m.font,b=p.Unicode[h.postScriptName];b&&(h.metadata.Unicode={},h.metadata.Unicode.widths=b.widths,h.metadata.Unicode.kerning=b.kerning);var v=d.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])}(dt.API),function(e){var t=function(n){for(var r=n.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=n.charCodeAt(i);return s};e.API.events.push(["addFont",function(n){var r=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Im(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,r)}}])}(dt),dt.API.addSvgAsImage=function(e,t,n,r,s,i,o,l){if(isNaN(t)||isNaN(n))throw Sn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw Sn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(jt.canvg?Promise.resolve(jt.canvg):la(()=>import("./index.es-f8fFofw8.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),t,n,r,s,o,l)})},dt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,n);return this},dt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,p=0;function m(b,v){var w,y=!1;for(w=0;w<b.length;w+=1)b[w]===v&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=l.length;for(p=0;p<h;p+=1)n[l[p]].value=n[l[p]].defaultValue,n[l[p]].explicitSet=!1}if(fn(e)==="object"){for(s in e)if(i=e[s],m(l,s)&&i!==void 0){if(n[s].type==="boolean"&&typeof i=="boolean")n[s].value=i;else if(n[s].type==="name"&&m(n[s].valueSet,i))n[s].value=i;else if(n[s].type==="integer"&&Number.isInteger(i))n[s].value=i;else if(n[s].type==="array"){for(u=0;u<i.length;u+=1)if(r=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(r=!1);r===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}n[s].value="["+c.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,v=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?v.push("/"+b+" /"+n[b].value):v.push("/"+b+" "+n[b].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(dt.API),function(e){var t=e.API,n=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],p=0,m=i.length;p<m;++p){if(l=o.metadata.characterToGlyph(i.charCodeAt(p)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(p),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},r=function(i){var o,l,c,u,d,p,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,m=(l=Object.keys(i).sort(function(h,b){return h-b})).length;p<m;p++)o=l[p],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var p=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",b=0;b<m.length;b++)h+=String.fromCharCode(m[b]);var v=u();d({data:h,addLength1:!0,objectId:v}),c("endobj");var w=u();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var y=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+lu(l.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var x=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+lu(l.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+e.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+w+" 0 R"),c("/BaseFont /"+lu(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+x+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var p=l.metadata.rawData,m="",h=0;h<p.length;h++)m+=String.fromCharCode(p[h]);var b=u();d({data:m,addLength1:!0,objectId:b}),c("endobj");var v=u();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var w=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+b+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+lu(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+lu(l.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",c=i.x,u=i.y,d=i.options||{},p=i.mutex||{},m=p.pdfEscape,h=p.activeFontKey,b=p.fonts,v=h,w="",y=0,x="",S=b[v].encoding;if(b[v].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:p};for(x=l,v=h,Array.isArray(l)&&(x=l[0]),y=0;y<x.length;y+=1)b[v].metadata.hasOwnProperty("cmap")&&(o=b[v].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),o||x[y].charCodeAt(0)<256&&b[v].metadata.hasOwnProperty("Unicode")?w+=x[y]:w+="";var k="";return parseInt(v.slice(1))<14||S==="WinAnsiEncoding"?k=m(w,v).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(k=n(w,b[v])),p.isHex=!0,{text:k,x:c,y:u,options:d,mutex:p}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([s(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(s(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:o})).text}])}(dt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(dt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var s,i,o,l,c,u,d,p=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,S=0;this.__bidiEngine__={};var k=function(E){var P=E.charCodeAt(),z=P>>8,$=v[z];return $!==void 0?p[256*$+(255&P)]:z===252||z===253?"AL":y.test(z)?"L":z===8?"R":"N"},D=function(E){for(var P,z=0;z<E.length;z++){if((P=k(E.charAt(z)))==="L")return!1;if(P==="R")return!0}return!1},A=function(E,P,z,$){var Z,ie,te,V,G=P[$];switch(G){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"N":case"AN":break;case"EN":x&&(G="AN");break;case"AL":x=!0,G="R";break;case"WS":case"BN":G="N";break;case"CS":$<1||$+1>=P.length||(Z=z[$-1])!=="EN"&&Z!=="AN"||(ie=P[$+1])!=="EN"&&ie!=="AN"?G="N":x&&(ie="AN"),G=ie===Z?ie:"N";break;case"ES":G=(Z=$>0?z[$-1]:"B")==="EN"&&$+1<P.length&&P[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&z[$-1]==="EN"){G="EN";break}if(x){G="N";break}for(te=$+1,V=P.length;te<V&&P[te]==="ET";)te++;G=te<V&&P[te]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(V=P.length,te=$+1;te<V&&P[te]==="NSM";)te++;if(te<V){var oe=E[$],ae=oe>=1425&&oe<=2303||oe===64286;if(Z=P[te],ae&&(Z==="R"||Z==="AL")){G="R";break}}}G=$<1||(Z=P[$-1])==="B"?"N":z[$-1];break;case"B":x=!1,s=!0,G=S;break;case"S":i=!0,G="N"}return G},R=function(E,P,z){var $=E.split("");return z&&L($,z,{hiLevel:S}),$.reverse(),P&&P.reverse(),$.join("")},L=function(E,P,z){var $,Z,ie,te,V,G=-1,oe=E.length,ae=0,O=[],T=S?h:m,U=[];for(x=!1,s=!1,i=!1,Z=0;Z<oe;Z++)U[Z]=k(E[Z]);for(ie=0;ie<oe;ie++){if(V=ae,O[ie]=A(E,U,O,ie),$=240&(ae=T[V][b[O[ie]]]),ae&=15,P[ie]=te=T[ae][5],$>0)if($===16){for(Z=G;Z<ie;Z++)P[Z]=1;G=-1}else G=-1;if(T[ae][6])G===-1&&(G=ie);else if(G>-1){for(Z=G;Z<ie;Z++)P[Z]=te;G=-1}U[ie]==="B"&&(P[ie]=0),z.hiLevel|=te}i&&function(W,Q,Y){for(var le=0;le<Y;le++)if(W[le]==="S"){Q[le]=S;for(var ue=le-1;ue>=0&&W[ue]==="WS";ue--)Q[ue]=S}}(U,P,oe)},C=function(E,P,z,$,Z){if(!(Z.hiLevel<E)){if(E===1&&S===1&&!s)return P.reverse(),void(z&&z.reverse());for(var ie,te,V,G,oe=P.length,ae=0;ae<oe;){if($[ae]>=E){for(V=ae+1;V<oe&&$[V]>=E;)V++;for(G=ae,te=V-1;G<te;G++,te--)ie=P[G],P[G]=P[te],P[te]=ie,z&&(ie=z[G],z[G]=z[te],z[te]=ie);ae=V}ae++}}},M=function(E,P,z){var $=E.split(""),Z={hiLevel:S};return z||(z=[]),L($,z,Z),function(ie,te,V){if(V.hiLevel!==0&&d)for(var G,oe=0;oe<ie.length;oe++)te[oe]===1&&(G=w.indexOf(ie[oe]))>=0&&(ie[oe]=w[G+1])}($,z,Z),C(2,$,P,z,Z),C(1,$,P,z,Z),$.join("")};return this.__bidiEngine__.doBidiReorder=function(E,P,z){if(function(Z,ie){if(ie)for(var te=0;te<Z.length;te++)ie[te]=te;l===void 0&&(l=D(Z)),u===void 0&&(u=D(Z))}(E,P),o||!c||u)if(o&&c&&l^u)S=l?1:0,E=R(E,P,z);else if(!o&&c&&u)S=l?1:0,E=M(E,P,z),E=R(E,P);else if(!o||l||c||u){if(o&&!c&&l^u)E=R(E,P),l?(S=0,E=M(E,P,z)):(S=1,E=M(E,P,z),E=R(E,P));else if(o&&l&&!c&&u)S=1,E=M(E,P,z),E=R(E,P);else if(!o&&!c&&l^u){var $=d;l?(S=1,E=M(E,P,z),S=0,d=!1,E=M(E,P,z),d=$):(S=0,E=M(E,P,z),E=R(E,P),S=1,d=!1,E=M(E,P,z),d=$,E=R(E,P))}}else S=0,E=M(E,P,z);else S=l?1:0,E=M(E,P,z);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,c=E.isOutputVisual,l=E.isInputRtl,u=E.isOutputRtl,d=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([n.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([n.doBidiReorder(s[l])]);r.text=o}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(dt),dt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new ul(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new TH(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new yH(this.contents),this.head=new wH(this),this.name=new jH(this),this.cmap=new IP(this),this.toUnicode={},this.hhea=new bH(this),this.maxp=new EH(this),this.hmtx=new CH(this),this.post=new SH(this),this.os2=new _H(this),this.loca=new LH(this),this.glyf=new kH(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var s,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Fi,ul=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,s;for(s=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(t.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,s,i,o,l,c;return t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*s+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,s,i;for(i=[],r=0,s=t.length;r<s;r++)n=t[r],i.push(this.writeByte(n));return i},e}(),yH=function(){var e;function t(n){var r,s,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,s,i,o,l,c,u,d,p,m,h,b,v;for(v in h=Object.keys(n).length,c=Math.log(2),p=16*Math.floor(Math.log(h)/c),o=Math.floor(p/c),d=16*h-p,(s=new ul).writeInt(this.scalarType),s.writeShort(h),s.writeShort(p),s.writeShort(o),s.writeShort(d),i=16*h,u=s.pos+i,l=null,b=[],n)for(m=n[v],s.writeString(v),s.writeInt(e(m)),s.writeInt(u),s.writeInt(m.length),b=b.concat(m),v==="head"&&(l=u),u+=m.length;u%4;)b.push(0),u++;return s.write(b),r=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(r),s.data},e=function(n){var r,s,i,o;for(n=RP.call(n);n.length%4;)n.push(0);for(i=new ul(n),s=0,r=0,o=n.length;r<o;r=r+=4)s+=i.readUInt32();return 4294967295&s},t}(),xH={}.hasOwnProperty,pa=function(e,t){for(var n in t)xH.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Fi=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var wH=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pa(e,Fi),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new ul).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),bN=function(){function e(t,n){var r,s,i,o,l,c,u,d,p,m,h,b,v,w,y,x,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),m=h/2,t.pos+=6,i=function(){var k,D;for(D=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)D.push(t.readUInt16());return D}(),t.pos+=2,v=function(){var k,D;for(D=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)D.push(t.readUInt16());return D}(),u=function(){var k,D;for(D=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)D.push(t.readUInt16());return D}(),d=function(){var k,D;for(D=[],c=k=0;0<=m?k<m:k>m;c=0<=m?++k:--k)D.push(t.readUInt16());return D}(),s=(this.length-t.pos+this.offset)/2,l=function(){var k,D;for(D=[],c=k=0;0<=s?k<s:k>s;c=0<=s?++k:--k)D.push(t.readUInt16());return D}(),c=y=0,S=i.length;y<S;c=++y)for(w=i[c],r=x=b=v[c];b<=w?x<=w:x>=w;r=b<=w?++x:--x)d[c]===0?o=r+u[c]:(o=l[d[c]/2+(r-b)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[r]=65535&o}t.pos=p}return e.encode=function(t,n){var r,s,i,o,l,c,u,d,p,m,h,b,v,w,y,x,S,k,D,A,R,L,C,M,E,P,z,$,Z,ie,te,V,G,oe,ae,O,T,U,W,Q,Y,le,ue,pe,de,ye;switch($=new ul,o=Object.keys(t).sort(function(Te,_e){return Te-_e}),n){case"macroman":for(v=0,w=function(){var Te=[];for(b=0;b<256;++b)Te.push(0);return Te}(),x={0:0},i={},Z=0,G=o.length;Z<G;Z++)x[ue=t[s=o[Z]]]==null&&(x[ue]=++v),i[s]={old:t[s],new:x[t[s]]},w[s]=x[t[s]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(w),{charMap:i,subtable:$.data,maxGlyphID:v+1};case"unicode":for(P=[],p=[],S=0,x={},r={},y=u=null,ie=0,oe=o.length;ie<oe;ie++)x[D=t[s=o[ie]]]==null&&(x[D]=++S),r[s]={old:D,new:x[D]},l=x[D]-s,y!=null&&l===u||(y&&p.push(y),P.push(s),u=l),y=s;for(y&&p.push(y),p.push(65535),P.push(65535),M=2*(C=P.length),L=2*Math.pow(Math.log(C)/Math.LN2,2),m=Math.log(L/2)/Math.LN2,R=2*C-L,c=[],A=[],h=[],b=te=0,ae=P.length;te<ae;b=++te){if(E=P[b],d=p[b],E===65535){c.push(0),A.push(0);break}if(E-(z=r[E].new)>=32768)for(c.push(0),A.push(2*(h.length+C-b)),s=V=E;E<=d?V<=d:V>=d;s=E<=d?++V:--V)h.push(r[s].new);else c.push(z-E),A.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*C+2*h.length),$.writeUInt16(0),$.writeUInt16(M),$.writeUInt16(L),$.writeUInt16(m),$.writeUInt16(R),Y=0,O=p.length;Y<O;Y++)s=p[Y],$.writeUInt16(s);for($.writeUInt16(0),le=0,T=P.length;le<T;le++)s=P[le],$.writeUInt16(s);for(pe=0,U=c.length;pe<U;pe++)l=c[pe],$.writeUInt16(l);for(de=0,W=A.length;de<W;de++)k=A[de],$.writeUInt16(k);for(ye=0,Q=h.length;ye<Q;ye++)v=h[ye],$.writeUInt16(v);return{charMap:r,subtable:$.data,maxGlyphID:S+1}}},e}(),IP=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pa(e,Fi),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)n=new bN(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,s;return n==null&&(n="macroman"),r=bN.encode(t,n),(s=new ul).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},e}(),bH=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pa(e,Fi),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),_H=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pa(e,Fi),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),SH=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pa(e,Fi),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)n=t.readByte(),s.push(this.names.push(t.readString(n)));return s;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),NH=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},jH=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pa(e,Fi),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,s,i,o,l,c,u,d,p,m;for(t.pos=this.offset,t.readShort(),n=t.readShort(),l=t.readShort(),r=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=d=0,p=r.length;d<p;i=++d)s=r[i],t.pos=s.offset,u=t.readString(s.length),o=new NH(u,s),c[m=s.nameID]==null&&(c[m]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),EH=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pa(e,Fi),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),CH=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pa(e,Fi),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,s,i,o,l,c;for(t.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=s?u<s:u>s;n=0<=s?++u:--u)d.push(t.readInt16());return d}(),this.widths=(function(){var u,d,p,m;for(m=[],u=0,d=(p=this.metrics).length;u<d;u++)i=p[u],m.push(i.advance);return m}).call(this),r=this.widths[this.widths.length-1],c=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)c.push(this.widths.push(r));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),RP=[].slice,kH=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pa(e,Fi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,s,i,o,l,c,u,d,p;return t in this.cache?this.cache[t]:(i=this.file.loca,n=this.file.contents,r=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,o=(l=new ul(n.read(s))).readShort(),u=l.readShort(),p=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=o===-1?new PH(l,u,p,c,d):new AH(l,o,u,p,c,d),this.cache[t]))},e.prototype.encode=function(t,n,r){var s,i,o,l,c;for(o=[],i=[],l=0,c=n.length;l<c;l++)s=t[n[l]],i.push(o.length),s&&(o=o.concat(s.encode(r)));return i.push(o.length),{table:o,offsets:i}},e}(),AH=function(){function e(t,n,r,s,i,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),PH=function(){function e(t,n,r,s,i){var o,l;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new ul(RP.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),LH=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pa(e,Fi),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<r.length;++o)if(r[o]=s,i<n.length&&n[i]==o){++i,r[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},e}(),TH=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,s,i;for(n in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)r=i[n],t[n]=s[r];return t},e.prototype.glyphsFor=function(t){var n,r,s,i,o,l,c;for(s={},o=0,l=t.length;o<l;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in n=[],s)(r=s[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in c=this.glyphsFor(n))r=c[i],s[i]=r;return s},e.prototype.encode=function(t,n){var r,s,i,o,l,c,u,d,p,m,h,b,v,w,y;for(s in r=IP.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},y=r.charMap)h[(c=y[s]).old]=c.new;for(b in m=r.maxGlyphID,o)b in h||(h[b]=m++);return d=function(x){var S,k;for(S in k={},x)k[x[S]]=S;return k}(h),p=Object.keys(d).sort(function(x,S){return x-S}),v=function(){var x,S,k;for(k=[],x=0,S=p.length;x<S;x++)l=p[x],k.push(d[l]);return k}(),i=this.font.glyf.encode(o,v,h),u=this.font.loca.encode(i.offsets,v),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e}();dt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,s,i,o;if(Array.isArray(n))return"["+function(){var l,c,u;for(u=[],l=0,c=n.length;l<c;l++)r=n[l],u.push(t.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in i=["<<"],n)o=n[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+n},t}();function Bi(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Sc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const OP=6048e5,IH=864e5,DP=6e4,MP=36e5;let RH={};function T0(){return RH}function _f(e,t){var l,c,u,d;const n=T0(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Bi(e),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Ag(e){return _f(e,{weekStartsOn:1})}function FP(e){const t=Bi(e),n=t.getFullYear(),r=Sc(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Ag(r),i=Sc(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Ag(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function _N(e){const t=Bi(e);return t.setHours(0,0,0,0),t}function SN(e){const t=Bi(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function OH(e,t){const n=_N(e),r=_N(t),s=+n-SN(n),i=+r-SN(r);return Math.round((s-i)/IH)}function DH(e){const t=FP(e),n=Sc(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ag(n)}function MH(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function FH(e){if(!MH(e)&&typeof e!="number")return!1;const t=Bi(e);return!isNaN(Number(t))}function BH(e){const t=Bi(e),n=Sc(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const $H={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UH=(e,t,n)=>{let r;const s=$H[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function z1(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const zH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},WH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HH={date:z1({formats:zH,defaultWidth:"full"}),time:z1({formats:qH,defaultWidth:"full"}),dateTime:z1({formats:WH,defaultWidth:"full"})},VH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},GH=(e,t,n,r)=>VH[e];function hh(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const KH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},YH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},JH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eV=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tV={ordinalNumber:eV,era:hh({values:KH,defaultWidth:"wide"}),quarter:hh({values:YH,defaultWidth:"wide",argumentCallback:e=>e-1}),month:hh({values:XH,defaultWidth:"wide"}),day:hh({values:JH,defaultWidth:"wide"}),dayPeriod:hh({values:QH,defaultWidth:"wide",formattingValues:ZH,defaultFormattingWidth:"wide"})};function fh(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?rV(l,p=>p.test(o)):nV(l,p=>p.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function nV(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function rV(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function sV(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const iV=/^(\d+)(th|st|nd|rd)?/i,aV=/\d+/i,oV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lV={any:[/^b/i,/^(a|c)/i]},cV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uV={any:[/1/i,/2/i,/3/i,/4/i]},dV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vV={ordinalNumber:sV({matchPattern:iV,parsePattern:aV,valueCallback:e=>parseInt(e,10)}),era:fh({matchPatterns:oV,defaultMatchWidth:"wide",parsePatterns:lV,defaultParseWidth:"any"}),quarter:fh({matchPatterns:cV,defaultMatchWidth:"wide",parsePatterns:uV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:fh({matchPatterns:dV,defaultMatchWidth:"wide",parsePatterns:hV,defaultParseWidth:"any"}),day:fh({matchPatterns:fV,defaultMatchWidth:"wide",parsePatterns:pV,defaultParseWidth:"any"}),dayPeriod:fh({matchPatterns:mV,defaultMatchWidth:"any",parsePatterns:gV,defaultParseWidth:"any"})},yV={code:"en-US",formatDistance:UH,formatLong:HH,formatRelative:GH,localize:tV,match:vV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xV(e){const t=Bi(e);return OH(t,BH(t))+1}function wV(e){const t=Bi(e),n=+Ag(t)-+DH(t);return Math.round(n/OP)+1}function BP(e,t){var d,p,m,h;const n=Bi(e),r=n.getFullYear(),s=T0(),i=(t==null?void 0:t.firstWeekContainsDate)??((p=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(m=s.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=Sc(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=_f(o,t),c=Sc(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=_f(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function bV(e,t){var l,c,u,d;const n=T0(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=BP(e,t),i=Sc(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),_f(i,t)}function _V(e,t){const n=Bi(e),r=+_f(n,t)-+bV(n,t);return Math.round(r/OP)+1}function hn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const So={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return hn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):hn(n+1,2)},d(e,t){return hn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return hn(e.getHours()%12||12,t.length)},H(e,t){return hn(e.getHours(),t.length)},m(e,t){return hn(e.getMinutes(),t.length)},s(e,t){return hn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return hn(s,t.length)}},su={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},NN={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return So.y(e,t)},Y:function(e,t,n,r){const s=BP(e,r),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return hn(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):hn(i,t.length)},R:function(e,t){const n=FP(e);return hn(n,t.length)},u:function(e,t){const n=e.getFullYear();return hn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return hn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return hn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return So.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return hn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=_V(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):hn(s,t.length)},I:function(e,t,n){const r=wV(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):hn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):So.d(e,t)},D:function(e,t,n){const r=xV(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):hn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return hn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return hn(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return hn(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=su.noon:r===0?s=su.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=su.evening:r>=12?s=su.afternoon:r>=4?s=su.morning:s=su.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return So.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):So.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):hn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):hn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):So.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):So.s(e,t)},S:function(e,t){return So.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return EN(r);case"XXXX":case"XX":return Wl(r);case"XXXXX":case"XXX":default:return Wl(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return EN(r);case"xxxx":case"xx":return Wl(r);case"xxxxx":case"xxx":default:return Wl(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+jN(r,":");case"OOOO":default:return"GMT"+Wl(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+jN(r,":");case"zzzz":default:return"GMT"+Wl(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return hn(r,t.length)},T:function(e,t,n){const r=e.getTime();return hn(r,t.length)}};function jN(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+hn(i,2)}function EN(e,t){return e%60===0?(e>0?"-":"+")+hn(Math.abs(e)/60,2):Wl(e,t)}function Wl(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=hn(Math.trunc(r/60),2),i=hn(r%60,2);return n+s+t+i}const CN=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},$P=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},SV=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return CN(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",CN(r,t)).replace("{{time}}",$P(s,t))},NV={p:$P,P:SV},jV=/^D+$/,EV=/^Y+$/,CV=["D","DD","YY","YYYY"];function kV(e){return jV.test(e)}function AV(e){return EV.test(e)}function PV(e,t,n){const r=LV(e,t,n);if(console.warn(r),CV.includes(e))throw new RangeError(r)}function LV(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const TV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,IV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,RV=/^'([^]*?)'?$/,OV=/''/g,DV=/[a-zA-Z]/;function Bn(e,t,n){var d,p,m,h;const r=T0(),s=r.locale??yV,i=r.firstWeekContainsDate??((p=(d=r.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,o=r.weekStartsOn??((h=(m=r.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,l=Bi(e);if(!FH(l))throw new RangeError("Invalid time value");let c=t.match(IV).map(b=>{const v=b[0];if(v==="p"||v==="P"){const w=NV[v];return w(b,s.formatLong)}return b}).join("").match(TV).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const v=b[0];if(v==="'")return{isToken:!1,value:MV(b)};if(NN[v])return{isToken:!0,value:b};if(v.match(DV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const v=b.value;(AV(v)||kV(v))&&PV(v,t,String(e));const w=NN[v[0]];return w(l,v,s.localize,u)}).join("")}function MV(e){const t=e.match(RV);return t?t[1].replace(OV,"'"):e}function kN(e,t){const r=UV(e);let s;if(r.date){const c=zV(r.date,2);s=qV(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(r.time&&(o=WV(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(l=HV(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const fm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},FV=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,BV=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$V=/^([+-])(\d{2})(?::?(\d{2}))?$/;function UV(e){const t={},n=e.split(fm.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],fm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(fm.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const s=fm.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function zV(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function qV(e,t){if(t===null)return new Date(NaN);const n=e.match(FV);if(!n)return new Date(NaN);const r=!!n[4],s=ph(n[1]),i=ph(n[2])-1,o=ph(n[3]),l=ph(n[4]),c=ph(n[5])-1;if(r)return XV(t,l,c)?VV(t,l,c):new Date(NaN);{const u=new Date(0);return!KV(t,i,o)||!YV(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,o)),u)}}function ph(e){return e?parseInt(e):1}function WV(e){const t=e.match(BV);if(!t)return NaN;const n=q1(t[1]),r=q1(t[2]),s=q1(t[3]);return JV(n,r,s)?n*MP+r*DP+s*1e3:NaN}function q1(e){return e&&parseFloat(e.replace(",","."))||0}function HV(e){if(e==="Z")return 0;const t=e.match($V);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return QV(r,s)?n*(r*MP+s*DP):NaN}function VV(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,i=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const GV=[31,null,31,30,31,30,31,31,30,31,30,31];function UP(e){return e%400===0||e%4===0&&e%100!==0}function KV(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(GV[t]||(UP(e)?29:28))}function YV(e,t){return t>=1&&t<=(UP(e)?366:365)}function XV(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function JV(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function QV(e,t){return t>=0&&t<=59}var zP={exports:{}};(function(e,t){(function(n,r){r()})(Rr,function(){function n(u,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,d,p){var m=new XMLHttpRequest;m.open("GET",u),m.responseType="blob",m.onload=function(){c(m.response,d,p)},m.onerror=function(){console.error("could not download file")},m.send()}function s(u){var d=new XMLHttpRequest;d.open("HEAD",u,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function i(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(d)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Rr=="object"&&Rr.global===Rr?Rr:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(u,d,p){var m=o.URL||o.webkitURL,h=document.createElement("a");d=d||u.name||"download",h.download=d,h.rel="noopener",typeof u=="string"?(h.href=u,h.origin===location.origin?i(h):s(h.href)?r(u,d,p):i(h,h.target="_blank")):(h.href=m.createObjectURL(u),setTimeout(function(){m.revokeObjectURL(h.href)},4e4),setTimeout(function(){i(h)},0))}:"msSaveOrOpenBlob"in navigator?function(u,d,p){if(d=d||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,p),d);else if(s(u))r(u,d,p);else{var m=document.createElement("a");m.href=u,m.target="_blank",setTimeout(function(){i(m)})}}:function(u,d,p,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof u=="string")return r(u,d,p);var h=u.type==="application/octet-stream",b=/constructor/i.test(o.HTMLElement)||o.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||h&&b||l)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var S=w.result;S=v?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=S:location=S,m=null},w.readAsDataURL(u)}else{var y=o.URL||o.webkitURL,x=y.createObjectURL(u);m?m.location=x:location.href=x,m=null,setTimeout(function(){y.revokeObjectURL(x)},4e4)}});o.saveAs=c.saveAs=c,e.exports=c})})(zP);var Lw=zP.exports;const _d=_.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:qe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));_d.displayName="Textarea";const ZV=({open:e,onOpenChange:t,loan:n,onLoanUpdated:r})=>{const{user:s}=vn(),{toast:i}=Nn(),{settings:o}=Oi(),[l,c]=_.useState(!1),[u,d]=_.useState([]),[p,m]=_.useState({loan_number:"",principal_amount:"",interest_rate:"",interest_type:"monthly",emi_amount:"",emi_frequency:"weekly",loan_date:"",due_date:"",description:"",customer_id:""});_.useEffect(()=>{e&&s&&n&&(m({loan_number:n.loan_number||"",principal_amount:n.principal_amount.toString(),interest_rate:n.interest_rate.toString(),interest_type:n.interest_type,emi_amount:n.emi_amount?n.emi_amount.toString():"",emi_frequency:n.emi_frequency||"weekly",loan_date:n.loan_date.split("T")[0],due_date:n.due_date?n.due_date.split("T")[0]:"",description:n.description||"",customer_id:n.customer_id}),h())},[e,s,n]);const h=async()=>{if(n)try{const{data:x,error:S}=await Ue.from("loan_transactions").select("*").eq("loan_id",n.id);if(S)throw S;d(x||[])}catch(x){console.error("Error fetching transactions:",x)}},b=x=>{const k=u.filter(A=>A.loan_id===x).reduce((A,R)=>A+R.amount,0),D=D;return D?D.principal_amount-k:0},v=(x,S)=>{if(!x.interest_rate||x.interest_type==="none")return 0;const k=x.interest_rate/100,D=new Date(x.loan_date),A=new Date;if(x.interest_type==="daily"){const R=A.getTime()-D.getTime(),L=Math.ceil(R/(1e3*3600*24));return S*k*(L/365)}else if(x.interest_type==="monthly"){const R=(A.getFullYear()-D.getFullYear())*12+(A.getMonth()-D.getMonth()),L=(A.getDate()-D.getDate())/30,C=R+L;return S*k*C}return 0},w=async x=>{if(x.preventDefault(),!s||!n)return;const S=b(n.id),k=v(n,S);if(S+k<=0){i({title:"Cannot Edit Closed Loan",description:"Closed loans cannot be modified.",variant:"destructive"});return}c(!0);try{const{error:R}=await Ue.from("loans").update({loan_number:p.loan_number.trim()||null,principal_amount:parseFloat(p.principal_amount),interest_rate:parseFloat(p.interest_rate),interest_type:p.interest_type,emi_amount:p.emi_amount?parseFloat(p.emi_amount):null,emi_frequency:p.emi_frequency,loan_date:p.loan_date?new Date(p.loan_date).toISOString():new Date().toISOString(),due_date:p.due_date?new Date(p.due_date).toISOString():null,description:p.description.trim()||null,customer_id:p.customer_id,updated_at:new Date().toISOString()}).eq("id",n.id).eq("user_id",s.id);if(R)throw R;i({title:"Success",description:"Loan updated successfully!"}),r(),t(!1)}catch(R){console.error("Error updating loan:",R),i({title:"Error",description:R.message||"Failed to update loan.",variant:"destructive"})}finally{c(!1)}},y=async()=>{if(!s||!n)return;const x=b(n.id),S=v(n,x);if(x+S<=0){i({title:"Cannot Delete Closed Loan",description:"Closed loans cannot be deleted.",variant:"destructive"});return}if(confirm("Are you sure you want to delete this loan? This action cannot be undone.")){c(!0);try{await Ue.from("loan_transactions").delete().eq("loan_id",n.id);const{error:A}=await Ue.from("loans").delete().eq("id",n.id).eq("user_id",s.id);if(A)throw A;i({title:"Success",description:"Loan deleted successfully!"}),r(),t(!1)}catch(A){console.error("Error deleting loan:",A),i({title:"Error",description:A.message||"Failed to delete loan.",variant:"destructive"})}finally{c(!1)}}};return a.jsx(os,{open:e,onOpenChange:t,children:a.jsxs(Yr,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[a.jsxs(Xr,{children:[a.jsx(Jr,{children:"Edit Loan"}),a.jsx(Pc,{children:"Update loan details including customer, amount, interest rate, and dates."})]}),a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"principal_amount",children:"Principal Amount () *"}),a.jsx(Ge,{id:"principal_amount",type:"number",step:"0.01",min:"0",value:p.principal_amount,onChange:x=>m({...p,principal_amount:x.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"interest_rate",children:"Interest Rate (%) *"}),a.jsx(Ge,{id:"interest_rate",type:"number",step:"0.01",min:"0",max:"1000",value:p.interest_rate,onChange:x=>m({...p,interest_rate:x.target.value}),required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{children:"Customer"}),a.jsxs("div",{className:"p-3 border rounded-md bg-muted/50",children:[a.jsx("p",{className:"font-medium",children:n==null?void 0:n.customers.name}),(n==null?void 0:n.customers.phone)&&a.jsx("p",{className:"text-sm text-muted-foreground",children:n.customers.phone})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"interest_type",children:"Interest Type *"}),a.jsxs(yn,{value:p.interest_type,onValueChange:x=>m({...p,interest_type:x}),children:[a.jsx(pn,{children:a.jsx(xn,{placeholder:"Select interest type"})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"monthly",children:"Monthly"}),a.jsx(ze,{value:"daily",children:"Daily"}),a.jsx(ze,{value:"none",children:"No Interest"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"emi_amount",children:"EMI Amount ()"}),a.jsx(Ge,{id:"emi_amount",type:"number",step:"0.01",placeholder:"Enter EMI amount",value:p.emi_amount,onChange:x=>m({...p,emi_amount:x.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{children:"EMI Frequency"}),a.jsxs(yn,{value:p.emi_frequency,onValueChange:x=>m({...p,emi_frequency:x}),children:[a.jsx(pn,{children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"weekly",children:"Weekly"}),a.jsx(ze,{value:"monthly",children:"Monthly"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"loan_date",children:"Loan Date *"}),a.jsx(Ge,{id:"loan_date",type:"date",value:p.loan_date,onChange:x=>m({...p,loan_date:x.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"due_date",children:"Due Date (Optional)"}),a.jsx(Ge,{id:"due_date",type:"date",value:p.due_date,onChange:x=>m({...p,due_date:x.target.value})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"description",children:"Loan Description (Optional)"}),a.jsx(_d,{id:"description",placeholder:"Add any details for this loan...",value:p.description,onChange:x=>m({...p,description:x.target.value})})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("div",{children:o.allowDelete&&a.jsx(Re,{type:"button",variant:"destructive",onClick:y,disabled:l,children:a.jsx(ud,{className:"h-4 w-4"})})}),a.jsxs("div",{className:"space-x-2",children:[a.jsx(Re,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.allowEdit&&a.jsx(Re,{type:"submit",disabled:l,children:a.jsx(pl,{className:"h-4 w-4"})})]})]})]})]})})},Tw=({open:e,onOpenChange:t,customer:n,onLoanAdded:r})=>{const{user:s}=vn(),{toast:i}=Nn(),[o,l]=_.useState([]),[c,u]=_.useState(!1),[d,p]=_.useState({customerId:"",principalAmount:"",description:"",interestRate:"",interestType:"none",emiAmount:"",emiFrequency:"weekly",loanDate:new Date().toISOString().split("T")[0],dueDate:""});_.useEffect(()=>{s&&e&&m()},[s,e]),_.useEffect(()=>{n&&e&&p(b=>({...b,customerId:n.id}))},[n,e]);const m=async()=>{try{const{data:b,error:v}=await Ue.from("customers").select("id, name").eq("user_id",s==null?void 0:s.id).order("name");if(v)throw v;l(b||[])}catch(b){console.error("Error fetching customers:",b)}},h=async b=>{if(b.preventDefault(),!!s){u(!0);try{const{error:v}=await Ue.from("loans").insert({user_id:s.id,customer_id:d.customerId,principal_amount:parseFloat(d.principalAmount),description:d.description,interest_rate:d.interestType==="none"?0:parseFloat(d.interestRate),interest_type:d.interestType,emi_amount:d.emiAmount?parseFloat(d.emiAmount):null,emi_frequency:d.emiFrequency,loan_date:d.loanDate,due_date:d.dueDate||null});if(v)throw v;i({title:"Loan created",description:"The loan has been successfully created."}),p({customerId:"",principalAmount:"",description:"",interestRate:"",interestType:"none",emiAmount:"",emiFrequency:"weekly",loanDate:new Date().toISOString().split("T")[0],dueDate:""}),t(!1),r()}catch(v){console.error("Error creating loan:",v),i({variant:"destructive",title:"Error",description:"Failed to create loan. Please try again."})}finally{u(!1)}}};return a.jsx(os,{open:e,onOpenChange:t,children:a.jsxs(Yr,{className:"sm:max-w-[425px] max-h-[80vh] overflow-y-auto",children:[a.jsx(Xr,{children:a.jsx(Jr,{children:"Create New Loan"})}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{children:"Customer"}),n?a.jsx(Ge,{value:n.name,disabled:!0,className:"bg-muted"}):a.jsxs(yn,{value:d.customerId,onValueChange:b=>p({...d,customerId:b}),children:[a.jsx(pn,{children:a.jsx(xn,{placeholder:"Select a customer"})}),a.jsx(mn,{children:o.map(b=>a.jsx(ze,{value:b.id,children:b.name},b.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"principal",children:"Total Disbursed Amount ()"}),a.jsx(Ge,{id:"principal",type:"number",step:"0.01",placeholder:"Enter loan amount",value:d.principalAmount,onChange:b=>p({...d,principalAmount:b.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"description",children:"Loan Description"}),a.jsx(Ge,{id:"description",type:"text",placeholder:"Enter loan description",value:d.description,onChange:b=>p({...d,description:b.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{children:"Interest Type"}),a.jsxs(yn,{disabled:!0,value:d.interestType,onValueChange:b=>p({...d,interestType:b}),children:[a.jsx(pn,{children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"none",children:"No Interest"}),a.jsx(ze,{value:"daily",children:"Daily Interest"}),a.jsx(ze,{value:"monthly",children:"Monthly Interest"})]})]})]}),d.interestType!=="none"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"interest-rate",children:"Interest Rate (%)"}),a.jsx(Ge,{id:"interest-rate",type:"number",step:"0.01",placeholder:"Enter interest rate",value:d.interestRate,onChange:b=>p({...d,interestRate:b.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"emi-amount",children:"EMI Amount ()"}),a.jsx(Ge,{id:"emi-amount",type:"number",step:"0.01",placeholder:"Enter EMI amount",value:d.emiAmount,onChange:b=>p({...d,emiAmount:b.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{children:"EMI Frequency"}),a.jsxs(yn,{value:d.emiFrequency,onValueChange:b=>p({...d,emiFrequency:b}),children:[a.jsx(pn,{children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"weekly",children:"Weekly"}),a.jsx(ze,{value:"monthly",children:"Monthly"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"loan-date",children:"Loan Date"}),a.jsx(Ge,{id:"loan-date",type:"date",value:d.loanDate,onChange:b=>p({...d,loanDate:b.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"due-date",children:"1st EMI Due Date "}),a.jsx(Ge,{id:"due-date",type:"date",value:d.dueDate,onChange:b=>p({...d,dueDate:b.target.value}),required:!0})]}),a.jsx(Re,{type:"submit",className:"w-full",disabled:c,children:c?"Creating...":"Create Loan"})]})]})})},AN=({onUpdate:e,status:t="active"})=>{const{user:n}=vn(),{toast:r}=Nn(),{settings:s}=Oi(),[i,o]=_.useState([]),[l,c]=_.useState(!0),[u,d]=_.useState(null),[p,m]=_.useState([]),[h,b]=_.useState(!1),[v,w]=_.useState(!1),[y,x]=_.useState(!1),[S,k]=_.useState(!1),[D,A]=_.useState(""),[R,L]=_.useState({amount:"",type:"mixed",notes:"",payment_mode:"cash"});_.useEffect(()=>{n&&C()},[n]),_.useEffect(()=>{const T=()=>{C()};return window.addEventListener("refresh-loans",T),()=>window.removeEventListener("refresh-loans",T)},[]);const C=async()=>{try{const{data:T,error:U}=await Ue.from("loans").select(`
          id,
          loan_number,
          principal_amount,
          interest_rate,
          interest_type,
          emi_amount,
          loan_date,
          due_date,
          description,
          is_active,
          customers (name, phone)
        `).eq("user_id",n==null?void 0:n.id).order("created_at",{ascending:!1});if(U)throw U;o(T||[])}catch(T){console.error("Error fetching loans:",T),r({variant:"destructive",title:"Error",description:"Failed to fetch loans"})}finally{c(!1)}},M=async T=>{try{const{data:U,error:W}=await Ue.from("loan_transactions").select("*").eq("loan_id",T).order("payment_date",{ascending:!1});if(W)throw W;m(U||[])}catch(U){console.error("Error fetching transactions:",U),r({variant:"destructive",title:"Error",description:"Failed to fetch transactions"})}},E=T=>{const W=p.filter(Y=>Y.loan_id===T).reduce((Y,le)=>Y+le.amount,0),Q=i.find(Y=>Y.id===T);return Q?Q.principal_amount-W:0},P=(T,U)=>{if(T.interest_type==="none"||T.interest_rate===0)return 0;const W=new Date(T.loan_date),Q=new Date,Y=T.interest_rate/100;if(T.interest_type==="daily"){const le=Q.getTime()-W.getTime(),ue=Math.ceil(le/(1e3*3600*24));return U*Y*(ue/365)}else if(T.interest_type==="monthly"){const le=(Q.getFullYear()-W.getFullYear())*12+(Q.getMonth()-W.getMonth()),ue=(Q.getDate()-W.getDate())/30,pe=le+ue;return U*Y*pe}return 0},z=async T=>{if(T.preventDefault(),!!u)try{const{error:U}=await Ue.from("loan_transactions").insert({loan_id:u.id,amount:parseFloat(R.amount),transaction_type:R.type,payment_mode:R.payment_mode,notes:R.notes||null});if(U)throw U;r({title:"Payment recorded",description:"The payment has been successfully recorded."}),L({amount:"",type:"mixed",notes:"",payment_mode:"cash"}),b(!1),await C(),await M(u.id),e()}catch(U){console.error("Error recording payment:",U),r({variant:"destructive",title:"Error",description:"Failed to record payment"})}},$=async T=>{d(T),await M(T.id),w(!0)},Z=T=>{d(T),b(!0)},ie=T=>{d(T),x(!0)},te=async T=>{try{const{data:U,error:W}=await Ue.from("loan_transactions").select("*").eq("loan_id",T.id).order("payment_date",{ascending:!0});if(W)throw W;const Q=E(T.id),Y=P(T,Q),le=(U==null?void 0:U.filter(J=>J.transaction_type==="interest").reduce((J,at)=>J+at.amount,0))||0,ue=(U==null?void 0:U.filter(J=>J.transaction_type==="principal").reduce((J,at)=>J+at.amount,0))||0,pe=le+ue,de=`
LOAN STATEMENT
==============

Client: ${T.customers.name}
Phone: ${T.customers.phone||"N/A"}
Loan Number: ${T.loan_number}
Loan Date: ${new Date(T.loan_date).toLocaleDateString()}
${T.due_date?`Due Date: ${new Date(T.due_date).toLocaleDateString()}`:""}
Interest Rate: ${T.interest_type==="none"?"No Interest":`${T.interest_rate}% ${T.interest_type}`}

LOAN DETAILS
============
Principal Amount: ${T.principal_amount.toFixed(2)}
Total Interest Charged: ${Y.toFixed(2)}
Total Loan Amount: ${(T.principal_amount+Y).toFixed(2)}

PAYMENT SUMMARY
===============
Total Principal Paid: ${ue.toFixed(2)}
Total Interest Paid: ${le.toFixed(2)}
Total Amount Paid: ${pe.toFixed(2)}
Outstanding Balance: ${Q.toFixed(2)}

PAYMENT HISTORY
===============
${(U==null?void 0:U.map(J=>{const at=new Date(J.payment_date).toLocaleDateString(),ee=J.transaction_type.charAt(0).toUpperCase()+J.transaction_type.slice(1);return`${at} - ${ee}: ${J.amount.toFixed(2)}${J.notes?` (${J.notes})`:""}`}).join(`
`))||"No payments recorded."}

STATUS: ${Q<=0?"CLOSED":"ACTIVE"}
Generated on: ${new Date().toLocaleDateString()}
      `.trim(),ye=new Blob([de],{type:"text/plain"}),Te=window.URL.createObjectURL(ye),_e=document.createElement("a");_e.href=Te,_e.download=`loan-statement-${T.loan_number}-${T.customers.name.replace(/\s+/g,"-").toLowerCase()}.txt`,document.body.appendChild(_e),_e.click(),document.body.removeChild(_e),window.URL.revokeObjectURL(Te),r({title:"Statement Generated",description:`Loan statement for ${T.customers.name} has been downloaded.`})}catch(U){console.error("Error generating loan statement:",U),r({variant:"destructive",title:"Error",description:"Failed to generate loan statement"})}},V=(T,U)=>{Lw.saveAs(T,U)},G=T=>T.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}),oe=async T=>{try{const{data:U,error:W}=await Ue.from("loan_transactions").select("*").eq("loan_id",T.id).order("payment_date",{ascending:!0});if(W)throw W;const Q=E(T.id),Y=P(T,Q),le=(U==null?void 0:U.filter(J=>J.transaction_type==="interest").reduce((J,at)=>J+at.amount,0))||0,ue=(U==null?void 0:U.filter(J=>J.transaction_type==="principal").reduce((J,at)=>J+at.amount,0))||0,pe=le+ue,de=new dt;de.setFontSize(18),de.setFont("courier","bold"),de.text("LOAN STATEMENT",105,20,{align:"center"}),de.setLineWidth(.5),de.line(20,25,190,25);let ye=35;de.setFontSize(12),de.setFont("courier","bold"),de.text("Client Information",20,ye),ye+=8,de.setFont("courier","normal"),de.text(`Client: ${T.customers.name}`,20,ye),ye+=6,de.text(`Phone: ${T.customers.phone||"N/A"}`,20,ye),ye+=6,de.text(`Loan Number: ${T.loan_number}`,20,ye),ye+=6,de.text(`Loan Date: ${Bn(new Date(T.loan_date),"dd/MM/yyyy")}`,20,ye),ye+=6,T.due_date&&(de.text(`Due Date: ${Bn(new Date(T.due_date),"dd/MM/yyyy")}`,20,ye),ye+=6),de.text(`Interest Rate: ${T.interest_type==="none"?"No Interest":`${T.interest_rate}% ${T.interest_type}`}`,20,ye),ye+=15,de.setFont("courier","bold"),de.text("Loan Details",20,ye),ye+=8,de.setFont("courier","normal"),de.text(`Principal Amount: ${G(T.principal_amount)}`,20,ye),ye+=6,de.text(`Total Interest Charged: ${G(Y)}`,20,ye),ye+=6,de.text(`Total Loan Amount: ${G(T.principal_amount+Y)}`,20,ye),ye+=15,de.setFont("courier","bold"),de.text("Payment Summary",20,ye),ye+=8,de.setFont("courier","normal"),de.text(`Total Principal Paid: ${G(ue)}`,20,ye),ye+=6,de.text(`Total Interest Paid: ${G(le)}`,20,ye),ye+=6,de.text(`Total Amount Paid: ${G(pe)}`,20,ye),ye+=6,de.text(`Outstanding Balance: ${G(Q)}`,20,ye),ye+=15,de.setFont("courier","bold"),de.text("Payment History",20,ye),ye+=8,U&&U.length>0?(de.setFont("courier","normal"),U.forEach(J=>{ye>280&&(de.addPage(),ye=20);const at=Bn(new Date(J.payment_date),"dd/MM/yyyy"),ee=J.transaction_type.charAt(0).toUpperCase()+J.transaction_type.slice(1),Se=`${at} - ${ee}: ${G(J.amount)}${J.notes?` (${J.notes})`:""}`;de.text(Se,20,ye),ye+=6})):(de.setFont("courier","normal"),de.text("No payments recorded.",20,ye),ye+=6),ye+=10,de.setFont("courier","bold"),de.text(`STATUS: ${Q<=0?"CLOSED":"ACTIVE"}`,20,ye),ye+=10,de.setFont("courier","normal"),de.setFontSize(10),de.text(`Generated on: ${Bn(new Date,"dd/MM/yyyy")}`,20,ye);const Te=`loan-statement-${T.loan_number}-${T.customers.name.replace(/\s+/g,"-").toLowerCase()}.pdf`,_e=de.output("blob");V(_e,Te),r({title:"PDF Statement Generated",description:`Loan statement for ${T.customers.name} has been downloaded as PDF.`})}catch(U){console.error("Error generating PDF statement:",U),r({variant:"destructive",title:"Error",description:"Failed to generate PDF statement"})}},ae=async T=>{if(confirm(`Are you sure you want to delete loan #${T.loan_number} for ${T.customers.name}? This action cannot be undone.`))try{await Ue.from("loan_transactions").delete().eq("loan_id",T.id);const{error:U}=await Ue.from("loans").delete().eq("id",T.id).eq("user_id",n.id);if(U)throw U;r({title:"Success",description:"Loan deleted successfully!"}),e()}catch(U){console.error("Error deleting loan:",U),r({title:"Error",description:U.message||"Failed to delete loan.",variant:"destructive"})}};_.useEffect(()=>{if(n&&i.length>0){const T=i.map(W=>W.id);(async()=>{const{data:W}=await Ue.from("loan_transactions").select("*").in("loan_id",T);m(W||[])})()}},[n,i]);const O=i.filter(T=>{var ue,pe;const U=E(T.id),W=P(T,U),Y=U+W<=0;if(t==="active"&&Y||t==="closed"&&!Y)return!1;if(!D)return!0;const le=D.toLowerCase();return T.customers.name.toLowerCase().includes(le)||((ue=T.loan_number)==null?void 0:ue.toLowerCase().includes(le))||((pe=T.description)==null?void 0:pe.toLowerCase().includes(le))});return l?a.jsx("div",{children:"Loading loans..."}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ge,{placeholder:"Search by customer, loan ID, or description...",value:D,onChange:T=>A(T.target.value),className:"max-w-md"}),a.jsxs(Re,{onClick:()=>k(!0),children:[a.jsx(hi,{className:"h-4 w-4 mr-2"}),"Add Loan"]})]}),O.length===0&&a.jsx(mt,{children:a.jsx(gt,{className:"py-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:D?"No loans found matching your search.":t==="closed"?"No closed loans yet.":"No active loans yet. Create your first loan!"})})}),O.map(T=>{const U=E(T.id),W=P(T,U),Q=U+W,Y=T.principal_amount+W,le=Q<=0,ue=T.principal_amount-U;return a.jsxs(mt,{className:`${le?"opacity-60":""}`,children:[a.jsx($t,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zt,{className:"text-lg",children:T.customers.name}),a.jsxs(Un,{variant:"outline",className:"text-xs",children:["#",T.loan_number]})]}),T.description&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:T.description})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Un,{variant:le?"secondary":"default",children:le?"Closed":"Active"}),a.jsx(Un,{variant:"outline",children:T.interest_type==="none"?"No Interest":`${T.interest_rate}% ${T.interest_type}`})]})]})}),a.jsxs(gt,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-7 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Principal"}),a.jsxs("p",{className:"font-semibold",children:["",T.principal_amount.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Interest"}),a.jsxs("p",{className:"font-semibold text-orange-600",children:["",W.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),a.jsxs("p",{className:"font-semibold text-primary",children:["",Y.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"EMI Amount"}),a.jsx("p",{className:"font-semibold text-purple-600",children:T.emi_amount?`${T.emi_amount.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Collected Amount"}),a.jsxs("p",{className:"font-semibold text-green-600",children:["",ue.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Outstanding Balance"}),a.jsxs("p",{className:`font-semibold ${le?"text-green-600":"text-red-600"}`,children:["",Q.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Loan Date"}),a.jsx("p",{className:"font-semibold",children:new Date(T.loan_date).toLocaleDateString()})]})]}),a.jsxs("div",{className:"flex space-x-2 flex-wrap",children:[!le&&a.jsxs(a.Fragment,{children:[s.allowAddPayment&&a.jsxs(Re,{size:"sm",onClick:()=>Z(T),children:[a.jsx(hi,{className:"h-4 w-4 mr-1"}),"Add Payment"]}),a.jsxs(Re,{variant:"outline",size:"sm",onClick:()=>$(T),children:[a.jsx(mc,{className:"h-4 w-4 mr-1"}),"View Ledger"]})]}),le&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Re,{variant:"outline",size:"sm",onClick:()=>te(T),children:[a.jsx(Yg,{className:"h-4 w-4 mr-1"}),"Text"]}),a.jsxs(Re,{variant:"outline",size:"sm",onClick:()=>oe(T),children:[a.jsx(ol,{className:"h-4 w-4 mr-1"}),"PDF"]})]}),s.allowEdit&&!le&&a.jsx(Re,{variant:"outline",size:"sm",onClick:()=>ie(T),children:a.jsx(pl,{className:"h-4 w-4"})}),s.allowDelete&&!le&&a.jsx(Re,{variant:"destructive",size:"sm",onClick:()=>ae(T),children:a.jsx(ud,{className:"h-4 w-4"})})]})]})]},T.id)}),a.jsx(os,{open:h,onOpenChange:b,children:a.jsxs(Yr,{className:"sm:max-w-[425px]",children:[a.jsx(Xr,{children:a.jsxs(Jr,{children:["Record Payment - ",u==null?void 0:u.customers.name]})}),a.jsxs("form",{onSubmit:z,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"payment-amount",children:"Amount ()"}),a.jsx(Ge,{id:"payment-amount",type:"number",step:"0.01",placeholder:"Enter payment amount",value:R.amount,onChange:T=>L({...R,amount:T.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{children:"Payment Type"}),a.jsxs(yn,{value:R.type,onValueChange:T=>L({...R,type:T}),children:[a.jsx(pn,{children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"principal",children:"Principal Only"}),a.jsx(ze,{value:"interest",children:"Interest Only"}),a.jsx(ze,{value:"mixed",children:"Mixed (Principal + Interest)"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{children:"Payment Mode"}),a.jsxs(yn,{value:R.payment_mode,onValueChange:T=>L({...R,payment_mode:T}),children:[a.jsx(pn,{children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"cash",children:"Cash"}),a.jsx(ze,{value:"bank",children:"Bank Transfer"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"payment-notes",children:"Notes (Optional)"}),a.jsx(Ge,{id:"payment-notes",placeholder:"Add any notes",value:R.notes,onChange:T=>L({...R,notes:T.target.value})})]}),s.allowRecordPayment&&a.jsx(Re,{type:"submit",className:"w-full",children:"Record Payment"})]})]})}),a.jsx(os,{open:v,onOpenChange:w,children:a.jsxs(Yr,{className:"sm:max-w-[600px]",children:[a.jsx(Xr,{children:a.jsxs(Jr,{children:["Ledger - ",u==null?void 0:u.customers.name]})}),a.jsxs("div",{className:"space-y-4",children:[u&&a.jsx("div",{className:"p-4 bg-muted rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Principal Amount"}),a.jsxs("p",{className:"font-semibold",children:["",u.principal_amount.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Interest"}),a.jsxs("p",{className:"font-semibold text-orange-600",children:["",P(u,E(u.id)).toFixed(2)]})]})]})}),a.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:p.length===0?a.jsx("p",{className:"text-muted-foreground text-center",children:"No payments recorded yet."}):p.map(T=>a.jsx("div",{className:"flex justify-between items-center p-3 border rounded",children:a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:["",T.amount.toFixed(2)]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Un,{variant:"outline",children:T.transaction_type}),a.jsx(Un,{variant:"secondary",children:T.payment_mode}),a.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(T.payment_date).toLocaleDateString()})]}),T.notes&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:T.notes})]})},T.id))})]})]})}),a.jsx(ZV,{open:y,onOpenChange:x,loan:u,onLoanUpdated:e}),a.jsx(Tw,{open:S,onOpenChange:k,onLoanAdded:()=>{C(),e()}})]})},eG=({customer:e})=>{const{user:t}=vn(),{toast:n}=Nn(),[r,s]=_.useState([]),[i,o]=_.useState([]),[l,c]=_.useState([]),[u,d]=_.useState(""),[p,m]=_.useState(""),[h,b]=_.useState(!1);_.useEffect(()=>{t&&v()},[t,e.id]),_.useEffect(()=>{r.length>0&&w()},[r,i,u,p]);const v=async()=>{try{b(!0);const{data:A,error:R}=await Ue.from("loans").select("*").eq("customer_id",e.id).eq("user_id",t==null?void 0:t.id).order("loan_date",{ascending:!1});if(R)throw R;if(s(A||[]),A&&A.length>0){const{data:L,error:C}=await Ue.from("loan_transactions").select(`
            *,
            loan:loans(loan_number, description)
          `).in("loan_id",A.map(M=>M.id)).order("payment_date",{ascending:!0});if(C)throw C;o(L||[])}else o([])}catch(A){console.error("Error fetching customer data:",A),n({variant:"destructive",title:"Error",description:"Failed to fetch customer data"})}finally{b(!1)}},w=()=>{const A=[];let R=0;const L=[];r.forEach(C=>{const M=new Date(C.loan_date);(!u||M>=new Date(u))&&(!p||M<=new Date(p))&&L.push({date:C.loan_date,description:`Loan - ${C.description}`,reference:C.loan_number,debit:C.principal_amount,credit:0,balance:0,type:"loan_disbursement"})}),i.forEach(C=>{const M=new Date(C.payment_date);(!u||M>=new Date(u))&&(!p||M<=new Date(p))&&L.push({date:C.payment_date,description:`Payment Received - ${C.loan.description||"Loan"} (${C.loan.loan_number}) - ${C.transaction_type} via ${C.payment_mode}`,reference:C.id,debit:0,credit:C.amount,balance:0,type:"payment_received"})}),L.sort((C,M)=>new Date(C.date).getTime()-new Date(M.date).getTime()),L.forEach(C=>{C.type==="loan_disbursement"?(C.balance=R+C.debit,R+=C.debit):C.type==="payment_received"&&(C.balance=R-C.credit,R-=C.credit),A.push(C)}),c(A)},y=A=>{const L=i.filter(M=>M.loan_id===A).reduce((M,E)=>M+E.amount,0),C=r.find(M=>M.id===A);return C?C.principal_amount-L:0},x=(A,R)=>{if(!A.interest_rate||A.interest_type==="none")return 0;const L=A.interest_rate/100,C=new Date(A.loan_date),M=new Date;if(A.interest_type==="daily"){const E=M.getTime()-C.getTime(),P=Math.ceil(E/(1e3*3600*24));return R*L*(P/365)}else if(A.interest_type==="monthly"){const E=(M.getFullYear()-C.getFullYear())*12+(M.getMonth()-C.getMonth()),P=(M.getDate()-C.getDate())/30,z=E+P;return R*L*z}return 0},S=()=>r.reduce((A,R)=>{const L=y(R.id),C=x(R,L);return A+L+C},0),k=A=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(A),D=async()=>{try{const A=new dt("p","mm","a4"),R=A.internal.pageSize.width,L=A.internal.pageSize.height,C=20,M=R-C*2;A.setFontSize(16).setFont("helvetica","bold"),A.text("Customer Statement",R/2,20,{align:"center"}),A.setFontSize(14),A.text(e.name,R/2,30,{align:"center"}),A.setLineWidth(.5),A.line(30,35,R-30,35);let E=45;A.setFontSize(10).setFont("helvetica","normal"),A.text(`Customer: ${e.name}`,C,E),E+=6,A.text(`Phone: ${e.phone||"N/A"}`,C,E),E+=6,A.text(`Address: ${e.address||"N/A"}`,C,E),E+=6,A.text(`Statement Period: ${u?Bn(new Date(u),"dd/MM/yyyy"):"All"} - ${p?Bn(new Date(p),"dd/MM/yyyy"):"Current"}`,C,E),E+=15,A.setFontSize(9).setFont("helvetica","bold");const P=[M*.15,M*.25,M*.1,M*.15,M*.15,M*.2],z=te=>{let V=C;["Date","Description","Ref","Debit","Credit","Balance"].forEach((oe,ae)=>{const O=ae===1?"left":"center",T=ae===1?2:P[ae]/2;A.text(oe,V+T,te,{align:O}),V+=P[ae]}),A.setLineWidth(.5),A.rect(C,te-5,M,8),V=C;for(let oe=0;oe<P.length-1;oe++)V+=P[oe],A.line(V,te-5,V,te+3)};z(E),E+=2,A.setFont("helvetica","normal"),l.forEach(te=>{const V=A.splitTextToSize(te.description,P[1]-4),G=Math.max(8,V.length*5+4);E+G>L-30&&(A.addPage(),E=20,z(E),E+=8);let oe=C;const ae=Bn(new Date(te.date),"dd/MM/yyyy"),O=te.reference.length>8?te.reference.slice(0,6)+"...":te.reference,T=te.debit>0?k(te.debit).replace("",""):"-",U=te.credit>0?k(te.credit).replace("",""):"-",W=k(te.balance).replace("","");A.text(ae,oe+P[0]/2,E+4,{align:"center"}),oe+=P[0],V.forEach((Q,Y)=>{A.text(Q,oe+2,E+4+Y*5)}),oe+=P[1],A.text(O,oe+P[2]/2,E+4,{align:"center"}),oe+=P[2],A.setTextColor(255,0,0),A.text(T,oe+P[3]/2,E+4,{align:"center"}),oe+=P[3],A.setTextColor(0,128,0),A.text(U,oe+P[4]/2,E+4,{align:"center"}),oe+=P[4],A.setTextColor(0,0,0),A.setFont("helvetica","bold"),A.text(W,oe+P[5]/2,E+4,{align:"center"}),A.setFont("helvetica","normal"),oe=C;for(let Q=0;Q<P.length;Q++)A.rect(oe,E,P[Q],G),oe+=P[Q];E+=G}),E+30>L-20&&(A.addPage(),E=20),E+=20,A.setFontSize(12).setFont("helvetica","bold"),A.text("Account Summary",C,E),E+=15,A.setFillColor(249,249,249),A.rect(C,E-5,M,20,"F"),A.setFontSize(10).setFont("helvetica","normal"),A.text(`Total Outstanding Balance: ${k(S()).replace("","")}`,C+5,E),E+=6,A.text(`Total Transactions: ${l.length}`,C+5,E);const $=A.getNumberOfPages();for(let te=1;te<=$;te++)A.setPage(te),A.setFontSize(8),A.text(`Page ${te} of ${$}`,R-C,L-10,{align:"right"});const Z=`customer-statement-${e.name.replace(/\s+/g,"-").toLowerCase()}-${Bn(new Date,"yyyy-MM-dd")}.pdf`,ie=A.output("blob");Lw.saveAs(ie,Z),n({title:"PDF Downloaded",description:"Customer statement has been downloaded as PDF."})}catch(A){console.error("Error generating PDF:",A),n({variant:"destructive",title:"Error",description:"Failed to generate PDF statement"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(mt,{children:[a.jsx($t,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yg,{className:"h-5 w-5"}),a.jsx(zt,{children:"Customer Statement"})]}),a.jsxs(Re,{onClick:A=>{A.preventDefault(),D()},variant:"outline",size:"sm",children:[a.jsx(ol,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})}),a.jsxs(gt,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"start-date",children:"From Date"}),a.jsx(Ge,{id:"start-date",type:"date",value:u,onChange:A=>d(A.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"end-date",children:"To Date"}),a.jsx(Ge,{id:"end-date",type:"date",value:p,onChange:A=>m(A.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.length}),a.jsx("div",{className:"text-sm text-blue-600",children:"Total Loans"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.length}),a.jsx("div",{className:"text-sm text-green-600",children:"Total Payments"})]}),a.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:k(S())}),a.jsx("div",{className:"text-sm text-orange-600",children:"Outstanding Balance"})]})]})]})]}),a.jsxs(mt,{children:[a.jsx($t,{children:a.jsx(zt,{children:"Transaction Statement"})}),a.jsx(gt,{children:h?a.jsx("div",{className:"text-center py-8",children:"Loading statement..."}):l.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left p-3 font-medium",children:"Date"}),a.jsx("th",{className:"text-left p-3 font-medium",children:"Description"}),a.jsx("th",{className:"text-left p-3 font-medium",children:"Reference"}),a.jsx("th",{className:"text-right p-3 font-medium",children:"Debit"}),a.jsx("th",{className:"text-right p-3 font-medium",children:"Credit"}),a.jsx("th",{className:"text-right p-3 font-medium",children:"Balance"})]})}),a.jsx("tbody",{children:l.map((A,R)=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"p-3 text-sm",children:Bn(new Date(A.date),"dd/MM/yyyy")}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:A.description}),a.jsx(Un,{variant:A.type==="loan_disbursement"?"destructive":A.type==="payment_received"?"default":"secondary",className:"text-xs",children:A.type==="loan_disbursement"?"Loan":A.type==="payment_received"?"Payment":"Interest"})]})}),a.jsx("td",{className:"p-3 text-sm text-gray-600",children:A.reference}),a.jsx("td",{className:"p-3 text-right",children:A.debit>0?a.jsx("span",{className:"text-red-600 font-medium",children:k(A.debit)}):a.jsx("span",{className:"text-gray-400",children:"-"})}),a.jsx("td",{className:"p-3 text-right",children:A.credit>0?a.jsx("span",{className:"text-green-600 font-medium",children:k(A.credit)}):a.jsx("span",{className:"text-gray-400",children:"-"})}),a.jsx("td",{className:"p-3 text-right font-medium",children:k(A.balance)})]},R))})]})}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No transactions found for the selected period"})})]})]})},qP=({customer:e,onBack:t})=>{const{user:n}=vn(),{settings:r}=Oi(),{toast:s}=Nn(),[i,o]=_.useState([]),[l,c]=_.useState([]),[u,d]=_.useState(!1),[p,m]=_.useState(""),[h,b]=_.useState(!1),[v,w]=_.useState({amount:"",paymentType:"principal",notes:"",payment_mode:"cash"});_.useEffect(()=>{n&&y()},[n,e.id]),_.useEffect(()=>{n&&i.length>0&&x()},[n,i]);const y=async()=>{try{const{data:L,error:C}=await Ue.from("loans").select("*").eq("customer_id",e.id).eq("user_id",n==null?void 0:n.id).order("loan_date",{ascending:!1});if(C)throw C;o(L||[])}catch(L){console.error("Error fetching loans:",L)}},x=async()=>{if(i.length!==0)try{const{data:L,error:C}=await Ue.from("loan_transactions").select(`
          *,
          loan:loans(description, principal_amount)
        `).in("loan_id",i.map(M=>M.id)).order("payment_date",{ascending:!0});if(C)throw C;c(L||[])}catch(L){console.error("Error fetching transactions:",L)}},S=async L=>{if(L.preventDefault(),!(!n||!p)){b(!0);try{const{error:C}=await Ue.from("loan_transactions").insert({loan_id:p,amount:parseFloat(v.amount),transaction_type:v.paymentType,payment_mode:v.payment_mode,notes:v.notes||null});if(C)throw C;s({title:"Payment recorded",description:"The payment has been successfully recorded."}),w({amount:"",paymentType:"principal",notes:"",payment_mode:"cash"}),d(!1),m(""),x()}catch(C){console.error("Error recording payment:",C),s({variant:"destructive",title:"Error",description:"Failed to record payment. Please try again."})}finally{b(!1)}}},k=L=>{const M=l.filter(E=>E.loan_id===L.id).reduce((E,P)=>E+P.amount,0);return L.principal_amount-M},D=(L,C)=>{if(!L.interest_rate||L.interest_type==="none")return 0;const M=L.interest_rate/100,E=new Date(L.loan_date),P=new Date;if(L.interest_type==="daily"){const z=P.getTime()-E.getTime(),$=Math.ceil(z/(1e3*3600*24));return C*M*($/365)}else if(L.interest_type==="monthly"){const z=(P.getFullYear()-E.getFullYear())*12+(P.getMonth()-E.getMonth()),$=(P.getDate()-E.getDate())/30,Z=z+$;return C*M*Z}return 0},A=L=>{const C=k(L),M=D(L,C);return C+M},R=L=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(L);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(Re,{variant:"outline",onClick:t,children:[a.jsx(al,{className:"h-4 w-4 mr-2"}),"Back"]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:e.name}),e.phone&&a.jsx("p",{className:"text-muted-foreground",children:e.phone}),e.address&&a.jsx("p",{className:"text-muted-foreground",children:e.address}),e.payment_day&&a.jsxs("p",{className:"text-muted-foreground",children:["Payment Day: ",e.payment_day.charAt(0).toUpperCase()+e.payment_day.slice(1)]})]})]}),a.jsxs(qo,{defaultValue:"overview",className:"w-full",children:[a.jsxs(Ba,{className:"grid w-full grid-cols-2",children:[a.jsxs(Wn,{value:"overview",className:"flex items-center gap-2",children:[a.jsx(T3,{className:"h-4 w-4"}),"Overview"]}),a.jsxs(Wn,{value:"statement",className:"flex items-center gap-2",children:[a.jsx(Yg,{className:"h-4 w-4"}),"Statement"]})]}),a.jsx(Fn,{value:"overview",className:"space-y-6",children:a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(mt,{children:[a.jsxs($t,{className:"flex flex-row items-center justify-between",children:[a.jsx(zt,{children:"Active Loans"}),r.allowRecordPayment&&a.jsxs(Re,{size:"sm",onClick:()=>d(!0),disabled:i.filter(L=>L.is_active).length===0,children:[a.jsx(hi,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]}),a.jsxs(gt,{className:"space-y-4",children:[i.filter(L=>L.is_active).map(L=>{const C=k(L);return a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:L.description||"Loan"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(L.loan_date).toLocaleDateString()})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(Un,{variant:"secondary",children:R(L.principal_amount)}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Balance: ",R(C)]})]})]}),L.interest_type!=="none"&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:[L.interest_rate,"% ",L.interest_type," interest"]})]},L.id)}),i.filter(L=>L.is_active).length===0&&a.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No active loans"})]})]}),a.jsxs(mt,{children:[a.jsx($t,{children:a.jsx(zt,{children:"Transaction History"})}),a.jsx(gt,{children:a.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[l.map(L=>{var C;return a.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:((C=L.loan)==null?void 0:C.description)||"Loan Payment"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx("span",{children:new Date(L.payment_date).toLocaleDateString()}),a.jsx("span",{children:""}),a.jsx("span",{children:L.transaction_type}),a.jsx(Un,{variant:"outline",className:"text-xs",children:L.payment_mode})]}),L.notes&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:L.notes})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-medium text-green-600",children:["+",R(L.amount)]})})]},L.id)}),l.length===0&&a.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No transactions found"})]})})]})]})}),a.jsx(Fn,{value:"statement",className:"space-y-6",children:a.jsx(eG,{customer:e})})]}),a.jsx(os,{open:u,onOpenChange:d,children:a.jsxs(Yr,{className:"sm:max-w-[425px]",children:[a.jsx(Xr,{children:a.jsx(Jr,{children:"Record Payment"})}),a.jsxs("form",{onSubmit:S,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{children:"Select Loan"}),a.jsxs(yn,{value:p,onValueChange:m,children:[a.jsx(pn,{children:a.jsx(xn,{placeholder:"Select a loan"})}),a.jsx(mn,{children:i.filter(L=>L.is_active&&k(L)>0).map(L=>{const C=A(L);return a.jsxs(ze,{value:L.id,children:[L.description||"Loan"," - ",R(L.principal_amount)," (Outstanding: ",R(C),")"]},L.id)})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"amount",children:"Payment Amount ()"}),a.jsx(Ge,{id:"amount",type:"number",step:"0.01",placeholder:"Enter payment amount",value:v.amount,onChange:L=>{const C=L.target.value,M=i.find(E=>E.id===p);if(M){const E=A(M);if(parseFloat(C)>E){s({variant:"destructive",title:"Invalid amount",description:`Payment amount cannot exceed outstanding balance of ${R(E)}`});return}}w({...v,amount:C})},required:!0,max:p?A(i.find(L=>L.id===p)):void 0}),p&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Maximum amount: ",R(A(i.find(L=>L.id===p)))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{children:"Payment Type"}),a.jsxs(yn,{value:v.paymentType,onValueChange:L=>w({...v,paymentType:L}),children:[a.jsx(pn,{children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"principal",children:"Principal Payment"}),a.jsx(ze,{value:"interest",children:"Interest Payment"}),a.jsx(ze,{value:"mixed",children:"Mixed Payment"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{children:"Payment Mode"}),a.jsxs(yn,{value:v.payment_mode,onValueChange:L=>w({...v,payment_mode:L}),children:[a.jsx(pn,{children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"cash",children:"Cash"}),a.jsx(ze,{value:"bank",children:"Bank Transfer"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"notes",children:"Notes (Optional)"}),a.jsx(Ge,{id:"notes",type:"text",placeholder:"Enter payment notes",value:v.notes,onChange:L=>w({...v,notes:L.target.value})})]}),r.allowRecordPayment&&a.jsx(Re,{type:"submit",className:"w-full",disabled:h||!p,children:h?"Recording...":"Record Payment"})]})]})})]})},tG=({open:e,onOpenChange:t,customer:n,onCustomerUpdated:r})=>{const{user:s}=vn(),{toast:i}=Nn(),{settings:o}=Oi(),[l,c]=_.useState(!1),[u,d]=_.useState({name:"",phone:"",address:"",payment_day:"monday"});_.useEffect(()=>{e&&s&&n&&d({name:n.name||"",phone:n.phone||"",address:n.address||"",payment_day:n.payment_day||"monday"})},[e,s,n]);const p=async h=>{if(h.preventDefault(),!(!s||!n)){c(!0);try{const{error:b}=await Ue.from("customers").update({name:u.name.trim(),phone:u.phone.trim()||null,address:u.address.trim()||null,payment_day:u.payment_day,updated_at:new Date().toISOString()}).eq("id",n.id).eq("user_id",s.id);if(b)throw b;i({title:"Success",description:"Customer updated successfully!"}),r(),t(!1)}catch(b){console.error("Error updating customer:",b),i({title:"Error",description:b.message||"Failed to update customer.",variant:"destructive"})}finally{c(!1)}}},m=async()=>{if(!(!s||!n))try{const{data:h}=await Ue.from("loans").select("id, is_active").eq("customer_id",n.id);if(h==null?void 0:h.some(y=>y.is_active)){i({variant:"destructive",title:"Cannot delete customer",description:"Customer has active loans. Complete all loans before deleting."});return}const{data:v}=await Ue.from("loan_transactions").select("id, loan:loans!inner(customer_id)").eq("loan.customer_id",n.id);if(v&&v.length>0){i({variant:"destructive",title:"Cannot delete customer",description:"Customer has transaction history. Cannot delete customer with transactions."});return}if(!confirm(`Are you sure you want to delete customer "${n.name}"? This action cannot be undone.`))return;c(!0);const{error:w}=await Ue.from("customers").delete().eq("id",n.id).eq("user_id",s.id);if(w)throw w;i({title:"Success",description:"Customer deleted successfully!"}),r(),t(!1)}catch(h){console.error("Error deleting customer:",h),i({title:"Error",description:h.message||"Failed to delete customer.",variant:"destructive"})}finally{c(!1)}};return a.jsx(os,{open:e,onOpenChange:t,children:a.jsxs(Yr,{className:"sm:max-w-[500px]",children:[a.jsxs(Xr,{children:[a.jsx(Jr,{children:"Edit Customer"}),a.jsx(Pc,{children:"Update customer information including name, contact details, and payment preferences."})]}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"name",children:"Customer Name *"}),a.jsx(Ge,{id:"name",placeholder:"Enter customer name",value:u.name,onChange:h=>d({...u,name:h.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"phone",children:"Phone Number"}),a.jsx(Ge,{id:"phone",type:"tel",placeholder:"Enter phone number",value:u.phone,onChange:h=>d({...u,phone:h.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"address",children:"Address"}),a.jsx(_d,{id:"address",placeholder:"Enter customer address",value:u.address,onChange:h=>d({...u,address:h.target.value}),rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"payment_day",children:"Preferred Payment Day"}),a.jsxs(yn,{value:u.payment_day,onValueChange:h=>d({...u,payment_day:h}),children:[a.jsx(pn,{children:a.jsx(xn,{placeholder:"Select payment day"})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"monday",children:"Monday"}),a.jsx(ze,{value:"tuesday",children:"Tuesday"}),a.jsx(ze,{value:"wednesday",children:"Wednesday"}),a.jsx(ze,{value:"thursday",children:"Thursday"}),a.jsx(ze,{value:"friday",children:"Friday"}),a.jsx(ze,{value:"saturday",children:"Saturday"}),a.jsx(ze,{value:"sunday",children:"Sunday"})]})]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("div",{children:o.allowDelete&&a.jsx(Re,{type:"button",variant:"destructive",onClick:m,disabled:l,children:a.jsx(ud,{className:"h-4 w-4"})})}),a.jsxs("div",{className:"space-x-2",children:[a.jsx(Re,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.allowEdit&&a.jsx(Re,{type:"submit",disabled:l,children:a.jsx(pl,{className:"h-4 w-4"})})]})]})]})]})})},nG=({onUpdate:e})=>{const{user:t}=vn(),{toast:n}=Nn(),{settings:r}=Oi(),[s,i]=_.useState([]),[o,l]=_.useState(!0),[c,u]=_.useState(null),[d,p]=_.useState(!1),[m,h]=_.useState(null),[b,v]=_.useState(!1),[w,y]=_.useState(null),[x,S]=_.useState(""),[k,D]=_.useState([]),[A,R]=_.useState(1),[L,C]=_.useState(10);_.useEffect(()=>{t&&M()},[t]),_.useEffect(()=>{const W=()=>{M(),e&&e()};return window.addEventListener("refresh-customers",W),()=>window.removeEventListener("refresh-customers",W)},[e]);const M=async()=>{try{const{data:W,error:Q}=await Ue.from("customers").select(`
          *,
          loans (id, principal_amount, is_active, interest_rate, interest_type, loan_date)
        `).eq("user_id",t==null?void 0:t.id).order("created_at",{ascending:!1});if(Q)throw Q;if(i(W||[]),W&&W.length>0){const Y=W.flatMap(le=>{var ue;return((ue=le.loans)==null?void 0:ue.map(pe=>pe.id))||[]});if(Y.length>0){const{data:le}=await Ue.from("loan_transactions").select("*").in("loan_id",Y);D(le||[])}}}catch(W){console.error("Error fetching customers:",W),n({variant:"destructive",title:"Error",description:"Failed to fetch customers"})}finally{l(!1)}},E=async W=>{var Q;try{const Y=s.find(de=>de.id===W);if((Q=Y==null?void 0:Y.loans)==null?void 0:Q.some(de=>de.is_active)){n({variant:"destructive",title:"Cannot delete customer",description:"Customer has active loans. Complete all loans before deleting."});return}const{data:ue}=await Ue.from("loan_transactions").select("id, loan:loans!inner(customer_id)").eq("loan.customer_id",W);if(ue&&ue.length>0){n({variant:"destructive",title:"Cannot delete customer",description:"Customer has transaction history. Cannot delete customer with transactions."});return}const{error:pe}=await Ue.from("customers").delete().eq("id",W);if(pe)throw pe;i(s.filter(de=>de.id!==W)),n({title:"Customer deleted",description:"The customer has been successfully deleted."}),e&&e()}catch(Y){console.error("Error deleting customer:",Y),n({variant:"destructive",title:"Error",description:"Failed to delete customer"})}},P=W=>{h(W),p(!0)},z=W=>{y(W),v(!0)},$=W=>{const Y=k.filter(le=>le.loan_id===W.id).reduce((le,ue)=>le+ue.amount,0);return W.principal_amount-Y},Z=(W,Q)=>{if(!W.interest_rate||W.interest_type==="none")return 0;const Y=W.interest_rate/100,le=new Date(W.loan_date),ue=new Date;if(W.interest_type==="daily"){const pe=ue.getTime()-le.getTime(),de=Math.ceil(pe/(1e3*3600*24));return Q*Y*(de/365)}else if(W.interest_type==="monthly"){const pe=(ue.getFullYear()-le.getFullYear())*12+(ue.getMonth()-le.getMonth()),de=(ue.getDate()-le.getDate())/30,ye=pe+de;return Q*Y*ye}return 0},ie=W=>{var Y;return(((Y=W.loans)==null?void 0:Y.filter(le=>le.is_active))||[]).reduce((le,ue)=>{const pe=$(ue),de=Z(ue,pe);return le+pe+de},0)},te=W=>(W.loans||[]).reduce((Y,le)=>{const pe=k.filter(de=>de.loan_id===le.id).reduce((de,ye)=>de+ye.amount,0);return Y+pe},0),V=W=>(W.loans||[]).reduce((Y,le)=>{const ue=k.filter(pe=>pe.loan_id===le.id);return Y+ue.length},0),G=W=>{var Y;return(((Y=W.loans)==null?void 0:Y.filter(le=>le.is_active))||[]).reduce((le,ue)=>le+(ue.emi_amount||0),0)},oe=s.filter(W=>{var Y,le,ue;if(!x)return!0;const Q=x.toLowerCase();return W.name.toLowerCase().includes(Q)||((Y=W.phone)==null?void 0:Y.toLowerCase().includes(Q))||((le=W.address)==null?void 0:le.toLowerCase().includes(Q))||((ue=W.payment_day)==null?void 0:ue.toLowerCase().includes(Q))}),ae=Math.ceil(oe.length/L),O=(A-1)*L,T=O+L,U=oe.slice(O,T);return _.useEffect(()=>{R(1)},[x,L]),c?a.jsx(qP,{customer:c,onBack:()=>u(null)}):o?a.jsx("div",{children:"Loading customers..."}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx(Ge,{placeholder:"Search by name, phone, address, or payment day...",value:x,onChange:W=>S(W.target.value),className:"max-w-md"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Show:"}),a.jsxs(yn,{value:L.toString(),onValueChange:W=>C(parseInt(W)),children:[a.jsx(pn,{className:"w-20",children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"5",children:"5"}),a.jsx(ze,{value:"10",children:"10"}),a.jsx(ze,{value:"20",children:"20"}),a.jsx(ze,{value:"50",children:"50"})]})]})]})]}),oe.length===0&&a.jsx(mt,{children:a.jsx(gt,{className:"py-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:x?"No customers found matching your search.":"No customers added yet. Add your first customer!"})})}),U.map(W=>{var Te,_e;const Q=((Te=W.loans)==null?void 0:Te.filter(J=>J.is_active))||[],Y=((_e=W.loans)==null?void 0:_e.reduce((J,at)=>J+Number(at.principal_amount),0))||0,le=ie(W),ue=te(W),pe=V(W),de=G(W),ye=W.phone||"N/A";return a.jsxs(mt,{children:[a.jsx($t,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(zt,{className:"text-lg",children:W.name})}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Customer ID: ",ye]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[Q.length>0&&a.jsxs(Un,{variant:"default",children:[Q.length," Active Loan",Q.length>1?"s":""]}),a.jsx(Re,{variant:"outline",size:"sm",onClick:()=>z(W),title:"Add Loan",children:a.jsx(hi,{className:"h-4 w-4"})}),a.jsx(Re,{variant:"outline",size:"sm",onClick:()=>u(W),children:a.jsx(mc,{className:"h-4 w-4"})}),r.allowEdit&&a.jsx(Re,{variant:"outline",size:"sm",onClick:()=>P(W),children:a.jsx(pl,{className:"h-4 w-4"})}),r.allowDelete&&a.jsx(Re,{variant:"ghost",size:"sm",onClick:()=>E(W.id),className:"text-destructive hover:text-destructive",children:a.jsx(ud,{className:"h-4 w-4"})})]})]})}),a.jsxs(gt,{className:"space-y-3",children:[W.address&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(sf,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm",children:W.address})]}),W.payment_day&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(oc,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{className:"text-sm",children:["Payment Day: ",W.payment_day.charAt(0).toUpperCase()+W.payment_day.slice(1)]})]}),Y>0&&a.jsx("div",{className:"p-3 bg-muted rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Loaned"}),a.jsxs("p",{className:"font-semibold",children:["",Y.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Collected Amount"}),a.jsxs("p",{className:"font-semibold text-green-600",children:["",ue.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"EMI Amount"}),a.jsxs("p",{className:"font-semibold text-purple-600",children:["",de.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"EMIs Paid"}),a.jsx("p",{className:"font-semibold text-blue-600",children:pe})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Loans"}),a.jsx("p",{className:"font-semibold",children:Q.length})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Outstanding Balance"}),a.jsxs("p",{className:"font-semibold text-red-600",children:["",le.toFixed(2)]})]})]})})]})]},W.id)}),oe.length>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",O+1," to ",Math.min(T,oe.length)," of ",oe.length," customers"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Re,{variant:"outline",size:"sm",onClick:()=>R(Math.max(1,A-1)),disabled:A===1,children:[a.jsx(L3,{className:"h-4 w-4"}),"Previous"]}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,ae)},(W,Q)=>{let Y;return ae<=5||A<=3?Y=Q+1:A>=ae-2?Y=ae-4+Q:Y=A-2+Q,a.jsx(Re,{variant:A===Y?"default":"outline",size:"sm",onClick:()=>R(Y),className:"w-8 h-8 p-0",children:Y},Y)})}),a.jsxs(Re,{variant:"outline",size:"sm",onClick:()=>R(Math.min(ae,A+1)),disabled:A===ae,children:["Next",a.jsx(ug,{className:"h-4 w-4"})]})]})]}),a.jsx(tG,{open:d,onOpenChange:W=>{p(W),W||h(null)},customer:m,onCustomerUpdated:()=>{M(),e&&e()}}),a.jsx(Tw,{open:b,onOpenChange:W=>{v(W),W||y(null)},customer:w,onLoanAdded:()=>{M(),e&&e()}})]})},PN=({onCustomerAdded:e})=>{const{user:t}=vn(),{toast:n}=Nn(),[r,s]=_.useState(!1),[i,o]=_.useState(!1),[l,c]=_.useState({name:"",phone:"",address:"",payment_day:""}),u=async d=>{if(d.preventDefault(),!!t){if(!l.name.trim()){n({variant:"destructive",title:"Validation Error",description:"Customer name is required."});return}if(!l.phone.trim()){n({variant:"destructive",title:"Validation Error",description:"Phone number is required."});return}if(!l.address.trim()){n({variant:"destructive",title:"Validation Error",description:"Group Name is required."});return}if(!l.payment_day){n({variant:"destructive",title:"Validation Error",description:"Collection Day is required."});return}o(!0);try{const{error:p}=await Ue.from("customers").insert({user_id:t.id,name:l.name.trim(),phone:l.phone.trim(),address:l.address.trim(),payment_day:l.payment_day});if(p)throw p;n({title:"Customer added",description:"The customer has been successfully added."}),c({name:"",phone:"",address:"",payment_day:""}),s(!1),e&&e()}catch(p){console.error("Error adding customer:",p),n({variant:"destructive",title:"Error",description:"Failed to add customer. Please try again."})}finally{o(!1)}}};return a.jsxs(os,{open:r,onOpenChange:s,children:[a.jsx(S0,{asChild:!0,children:a.jsxs(Re,{children:[a.jsx(hi,{className:"h-4 w-4 mr-2"}),"Add Customer"]})}),a.jsxs(Yr,{className:"sm:max-w-[425px]",children:[a.jsx(Xr,{children:a.jsx(Jr,{children:"Add New Customer"})}),a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"name",children:"Name *"}),a.jsx(Ge,{id:"name",type:"text",placeholder:"Enter customer name",value:l.name,onChange:d=>c({...l,name:d.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"phone",children:"Phone Number *"}),a.jsx(Ge,{id:"phone",type:"tel",placeholder:"Enter phone number",value:l.phone,onChange:d=>c({...l,phone:d.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"address",children:"Group Name *"}),a.jsx(_d,{id:"address",placeholder:"Enter customer address",value:l.address,onChange:d=>c({...l,address:d.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{children:"Collection Day *"}),a.jsxs(yn,{value:l.payment_day,onValueChange:d=>c({...l,payment_day:d}),required:!0,children:[a.jsx(pn,{children:a.jsx(xn,{placeholder:"Select collection day"})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"sunday",children:"Sunday"}),a.jsx(ze,{value:"monday",children:"Monday"}),a.jsx(ze,{value:"tuesday",children:"Tuesday"}),a.jsx(ze,{value:"wednesday",children:"Wednesday"}),a.jsx(ze,{value:"thursday",children:"Thursday"}),a.jsx(ze,{value:"friday",children:"Friday"}),a.jsx(ze,{value:"saturday",children:"Saturday"})]})]})]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"* All fields are required"}),a.jsx(Re,{type:"submit",className:"w-full",disabled:i,children:i?"Adding...":"Add Customer"})]})]})]})},qf=_.forwardRef(({className:e,...t},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:qe("w-full caption-bottom text-sm",e),...t})}));qf.displayName="Table";const Wf=_.forwardRef(({className:e,...t},n)=>a.jsx("thead",{ref:n,className:qe("[&_tr]:border-b",e),...t}));Wf.displayName="TableHeader";const Hf=_.forwardRef(({className:e,...t},n)=>a.jsx("tbody",{ref:n,className:qe("[&_tr:last-child]:border-0",e),...t}));Hf.displayName="TableBody";const rG=_.forwardRef(({className:e,...t},n)=>a.jsx("tfoot",{ref:n,className:qe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));rG.displayName="TableFooter";const Ya=_.forwardRef(({className:e,...t},n)=>a.jsx("tr",{ref:n,className:qe("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Ya.displayName="TableRow";const Gt=_.forwardRef(({className:e,...t},n)=>a.jsx("th",{ref:n,className:qe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Gt.displayName="TableHead";const Kt=_.forwardRef(({className:e,...t},n)=>a.jsx("td",{ref:n,className:qe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Kt.displayName="TableCell";const sG=_.forwardRef(({className:e,...t},n)=>a.jsx("caption",{ref:n,className:qe("mt-4 text-sm text-muted-foreground",e),...t}));sG.displayName="TableCaption";const iG=()=>{const{user:e}=vn(),{toast:t}=Nn(),[n,r]=_.useState(!0),[s,i]=_.useState(""),[o,l]=_.useState(""),[c,u]=_.useState("all"),[d,p]=_.useState([]),[m,h]=_.useState(new Map);_.useEffect(()=>{if(e){const R=new Date,L=new Date(R.getFullYear(),R.getMonth(),1),C=new Date(R.getFullYear(),R.getMonth()+1,0);i(L.toISOString().split("T")[0]),l(C.toISOString().split("T")[0]),b(L.toISOString().split("T")[0],C.toISOString().split("T")[0])}},[e]);const b=async(R,L,C)=>{if(!e)return;const M=R||s,E=L||o,P=C||c,z=`${M}-${E}-${P}`;if(m.has(z)){p(m.get(z)),r(!1);return}r(!0);try{let $=Ue.from("customers").select(`
          id,
          name,
          phone,
          loans!inner(
            id,
            principal_amount,
            is_active,
            loan_transactions(
              id,
              amount,
              payment_date
            )
          )
        `).eq("user_id",e.id);P==="active"?$=$.eq("loans.is_active",!0):P==="closed"&&($=$.eq("loans.is_active",!1));const{data:Z,error:ie}=await $;if(ie)throw ie;const te=(Z||[]).map(V=>{const G=V.loans||[],oe=G.flatMap(de=>(de.loan_transactions||[]).filter(ye=>{const Te=new Date(ye.payment_date);return Te>=new Date(M)&&Te<=new Date(E)})),ae=G.length,O=G.filter(de=>de.is_active).length,T=G.reduce((de,ye)=>de+ye.principal_amount,0),U=oe.reduce((de,ye)=>de+ye.amount,0),W=oe.length,Y=G.flatMap(de=>de.loan_transactions||[]).reduce((de,ye)=>de+ye.amount,0),le=Math.max(0,T-Y),ue=oe.length>0?oe.reduce((de,ye)=>new Date(ye.payment_date)>new Date(de.payment_date)?ye:de).payment_date:void 0,pe=W>0?U/W:0;return ae===0?null:{customer_id:V.id,customer_name:V.name,customer_phone:V.phone||void 0,total_loans:ae,active_loans:O,total_loaned_amount:T,total_paid_amount:U,outstanding_balance:le,last_payment_date:ue,avg_payment_amount:pe,payment_frequency:W}}).filter(Boolean);te.sort((V,G)=>G.outstanding_balance-V.outstanding_balance),h(V=>{const G=new Map(V);if(G.set(z,te),G.size>10){const oe=G.keys().next().value;G.delete(oe)}return G}),p(te)}catch($){console.error("Error fetching summary data:",$),t({title:"Error",description:"Failed to load customer summary data",variant:"destructive"})}finally{r(!1)}},v=()=>{b(s,o,c)},w=()=>{h(new Map),b(s,o,c)},y=R=>{u(R),b(s,o,R)},x=()=>{const R=[["Customer Name","Phone","Total Loans","Active Loans","Total Loaned","Total Paid","Outstanding Balance","Last Payment","Avg Payment","Payment Count"].join(","),...d.map(E=>[E.customer_name,E.customer_phone||"",E.total_loans,E.active_loans,E.total_loaned_amount.toFixed(2),E.total_paid_amount.toFixed(2),E.outstanding_balance.toFixed(2),E.last_payment_date?new Date(E.last_payment_date).toLocaleDateString():"",E.avg_payment_amount.toFixed(2),E.payment_frequency].join(","))].join(`
`),L=new Blob([R],{type:"text/csv"}),C=window.URL.createObjectURL(L),M=document.createElement("a");M.href=C,M.download=`customer-summary-${s}-to-${o}.csv`,document.body.appendChild(M),M.click(),document.body.removeChild(M),window.URL.revokeObjectURL(C),t({title:"Export Successful",description:"Customer summary data exported to CSV"})},S=d.reduce((R,L)=>R+L.total_loaned_amount,0),k=d.reduce((R,L)=>R+L.total_paid_amount,0),D=d.reduce((R,L)=>R+L.outstanding_balance,0),A=d.reduce((R,L)=>R+L.active_loans,0);return n?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h3",{className:"text-lg font-semibold",children:"Customer Summary"})}),a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),a.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading customer summary..."})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Customer Summary"}),a.jsxs(Re,{onClick:x,variant:"outline",size:"sm",children:[a.jsx(ol,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),a.jsxs(mt,{children:[a.jsx($t,{children:a.jsxs(zt,{className:"flex items-center gap-2",children:[a.jsx(oc,{className:"h-5 w-5"}),"Filter Options"]})}),a.jsxs(gt,{children:[a.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-4 mb-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"From Date"}),a.jsx(Ge,{type:"date",value:s,onChange:R=>i(R.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"To Date"}),a.jsx(Ge,{type:"date",value:o,onChange:R=>l(R.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Loan Status"}),a.jsxs(yn,{value:c,onValueChange:y,children:[a.jsx(pn,{className:"w-[140px]",children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"all",children:"All Loans"}),a.jsx(ze,{value:"active",children:"Active Only"}),a.jsx(ze,{value:"closed",children:"Closed Only"})]})]})]})]}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsxs(Re,{onClick:v,className:"flex items-center gap-2",children:[a.jsx($x,{className:"h-4 w-4"}),"Filter"]}),a.jsxs(Re,{onClick:w,variant:"outline",size:"sm",className:"flex items-center gap-2",disabled:n,children:[a.jsx(I3,{className:`h-4 w-4 ${n?"animate-spin":""}`}),"Refresh"]})]})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",c==="all"?"all":c," loans with payment activity from ",new Date(s).toLocaleDateString()," to ",new Date(o).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(mt,{children:a.jsxs(gt,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Loaned"}),a.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["",S.toFixed(2)]})]})}),a.jsx(mt,{children:a.jsxs(gt,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Received"}),a.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["",k.toFixed(2)]})]})}),a.jsx(mt,{children:a.jsxs(gt,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Outstanding"}),a.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["",D.toFixed(2)]})]})}),a.jsx(mt,{children:a.jsxs(gt,{className:"p-4",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Loans"}),a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:A})]})})]}),a.jsxs(mt,{children:[a.jsx($t,{children:a.jsx(zt,{children:"Customer-wise Loans & Payments Summary"})}),a.jsx(gt,{children:d.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No customer activity found for the selected date range."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(qf,{children:[a.jsx(Wf,{children:a.jsxs(Ya,{children:[a.jsx(Gt,{children:"Customer"}),a.jsx(Gt,{className:"text-right",children:"Total Loans"}),a.jsx(Gt,{className:"text-right",children:"Active Loans"}),a.jsx(Gt,{className:"text-right",children:"Total Loaned"}),a.jsx(Gt,{className:"text-right",children:"Total Paid"}),a.jsx(Gt,{className:"text-right",children:"Outstanding"}),a.jsx(Gt,{children:"Last Payment"}),a.jsx(Gt,{className:"text-right",children:"Avg Payment"}),a.jsx(Gt,{className:"text-right",children:"Payments"})]})}),a.jsx(Hf,{children:d.map(R=>a.jsxs(Ya,{children:[a.jsx(Kt,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:R.customer_name}),R.customer_phone&&a.jsx("div",{className:"text-sm text-muted-foreground",children:R.customer_phone})]})}),a.jsx(Kt,{className:"text-right",children:a.jsx(Un,{variant:"outline",children:R.total_loans})}),a.jsx(Kt,{className:"text-right",children:a.jsx(Un,{variant:R.active_loans>0?"default":"secondary",children:R.active_loans})}),a.jsxs(Kt,{className:"text-right font-medium text-blue-600",children:["",R.total_loaned_amount.toFixed(2)]}),a.jsxs(Kt,{className:"text-right font-medium text-green-600",children:["",R.total_paid_amount.toFixed(2)]}),a.jsxs(Kt,{className:"text-right font-medium text-orange-600",children:["",R.outstanding_balance.toFixed(2)]}),a.jsx(Kt,{children:R.last_payment_date?a.jsx("span",{className:"text-sm",children:new Date(R.last_payment_date).toLocaleDateString()}):a.jsx("span",{className:"text-sm text-muted-foreground",children:"No payments"})}),a.jsx(Kt,{className:"text-right",children:a.jsxs("span",{className:R.avg_payment_amount>0?"text-sm":"text-sm text-muted-foreground",children:["",R.avg_payment_amount.toFixed(2)]})}),a.jsx(Kt,{className:"text-right",children:a.jsx(Un,{variant:"outline",children:R.payment_frequency})})]},R.customer_id))})]})})})]})]})},LN=()=>{const{user:e}=vn(),{toast:t}=Nn(),[n,r]=_.useState([]),[s,i]=_.useState(!0),[o,l]=_.useState([]),[c,u]=_.useState({}),[d,p]=_.useState({}),[m,h]=_.useState({}),[b,v]=_.useState(new Set),[w,y]=_.useState(new Set);_.useEffect(()=>{e&&x()},[e]);const x=async()=>{if(e){i(!0);try{const{data:E,error:P}=await Ue.from("customers").select(`
          id,
          name,
          phone,
          address,
          payment_day,
          loans (
            id,
            principal_amount,
            is_active
          )
        `).eq("user_id",e.id).order("payment_day",{ascending:!0});if(P)throw P;const z=(E==null?void 0:E.map(te=>te.id))||[],{data:$,error:Z}=await Ue.from("loans").select(`
          id,
          customer_id,
          principal_amount,
          is_active,
          loan_transactions (
            amount
          )
        `).in("customer_id",z).eq("user_id",e.id);if(Z)throw Z;const ie=(E==null?void 0:E.map(te=>{const G=(($==null?void 0:$.filter(oe=>oe.customer_id===te.id))||[]).map(oe=>{var T;const ae=((T=oe.loan_transactions)==null?void 0:T.reduce((U,W)=>U+W.amount,0))||0,O=Math.max(0,oe.principal_amount-ae);return{...oe,outstanding_balance:O}});return{...te,loans:G}}))||[];console.log("Fetched customers with balances:",ie),r(ie),S(ie)}catch(E){console.error("Error fetching customers:",E),t({variant:"destructive",title:"Error",description:"Failed to fetch customers"})}finally{i(!1)}}},S=E=>{const P=new Map;E.forEach($=>{const Z=$.payment_day||"Not Set",ie=$.address||"No Address";P.has(Z)||P.set(Z,new Map),P.get(Z).has(ie)||P.get(Z).set(ie,[]),P.get(Z).get(ie).push($)});const z=Array.from(P.entries()).map(([$,Z])=>({paymentDay:$,addressGroups:Array.from(Z.entries()).map(([ie,te])=>({address:ie,customers:te}))}));l(z)},k=E=>{v(P=>{const z=new Set(P);return z.has(E)?(z.delete(E),y($=>{var ie;const Z=new Set($);return(ie=o.find(te=>te.paymentDay===E))==null||ie.addressGroups.forEach(te=>{Z.delete(`${E}-${te.address}`)}),Z})):z.add(E),z})},D=(E,P)=>{const z=`${E}-${P}`;y($=>{const Z=new Set($);return Z.has(z)?Z.delete(z):Z.add(z),Z})},A=(E,P)=>{u(z=>({...z,[E]:P}))},R=(E,P)=>{p(z=>({...z,[E]:P}))},L=async E=>{const P=c[E.id];if(!P||parseFloat(P)<=0){t({variant:"destructive",title:"Invalid Amount",description:"Please enter a valid payment amount"});return}if(m[E.id])return;const z=parseFloat(P);console.log("Payment submission started:",{customer:E.name,amount:z,loans:E.loans}),h($=>({...$,[E.id]:!0}));try{const $=[];if(!E.loans||E.loans.length===0){t({variant:"destructive",title:"No Loans Found",description:`No loans found for customer ${E.name}`});return}const Z=E.loans.filter(G=>G.is_active&&G.outstanding_balance&&G.outstanding_balance>0).reduce((G,oe)=>G+(oe.outstanding_balance||0),0);if(console.log("Total outstanding:",Z,"Payment amount:",z),Z===0){t({variant:"destructive",title:"No Outstanding Balance",description:`No outstanding balance found for ${E.name}`});return}let ie=z;for(const G of E.loans)if(console.log("Checking loan:",{loanId:G.id,isActive:G.is_active,outstandingBalance:G.outstanding_balance}),G.is_active&&G.outstanding_balance&&G.outstanding_balance>0&&ie>0){const oe=Math.min(ie,G.outstanding_balance);$.push({loan_id:G.id,amount:oe,transaction_type:"principal",payment_mode:d[E.id]||"cash",notes:`Payment received from ${E.name}`}),ie-=oe,console.log(`Payment ${oe} for loan ${G.id}, remaining: ${ie}`)}if(console.log("Created transactions:",$),$.length===0){t({variant:"destructive",title:"No Active Loans",description:`No active loans with outstanding balance found for ${E.name}`});return}const{data:te,error:V}=await Ue.from("loan_transactions").insert($).select();if(V)throw console.error("Supabase error:",V),V;console.log("Payment recorded successfully:",te),u(G=>({...G,[E.id]:""})),t({title:"Payment Recorded",description:`Payment of ${z} recorded successfully for ${E.name}`}),x()}catch($){console.error("Error recording payment:",$),t({variant:"destructive",title:"Error",description:`Failed to record payment: ${$.message||"Unknown error"}`})}finally{h($=>({...$,[E.id]:!1}))}},C=E=>E.addressGroups.reduce((P,z)=>P+z.customers.reduce(($,Z)=>$+Z.loans.reduce((ie,te)=>ie+(te.outstanding_balance||0),0),0),0),M=(E,P)=>{const z=o.find(Z=>Z.paymentDay===E);if(!z)return 0;const $=z.addressGroups.find(Z=>Z.address===P);return $?$.customers.reduce((Z,ie)=>Z+ie.loans.reduce((te,V)=>te+(V.outstanding_balance||0),0),0):0};return s?a.jsx("div",{className:"space-y-4",children:a.jsx(mt,{children:a.jsxs(gt,{className:"py-8 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),a.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading customers..."})]})})}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h3",{className:"text-lg font-semibold",children:"Daywise Customer Payment Manager"})}),o.length===0?a.jsx(mt,{children:a.jsx(gt,{className:"py-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No customers found. Add customers to see them organized by payment day."})})}):o.map(E=>{const P=C(E),z=E.addressGroups.reduce((Z,ie)=>Z+ie.customers.length,0),$=b.has(E.paymentDay);return a.jsxs(mt,{children:[a.jsx($t,{className:"cursor-pointer hover:bg-muted/50 transition-colors border-l-4 border-l-blue-500",onClick:()=>k(E.paymentDay),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[$?a.jsx(cg,{className:"h-5 w-5 text-muted-foreground"}):a.jsx(ug,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm sm:text-base",children:[a.jsx(oc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"}),a.jsxs("span",{className:"font-medium",children:["Payment Day: ",E.paymentDay]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-wrap",children:[a.jsxs(Un,{variant:"outline",className:"flex items-center gap-1 text-xs",children:[a.jsx(R3,{className:"h-3 w-3"}),z," customers"]}),a.jsx(Un,{variant:P>0?"default":"secondary",className:"min-w-0 max-w-full px-2 py-1 text-xs",children:a.jsx("span",{className:"truncate",children:P.toFixed(2)})})]})]})}),$&&a.jsx(gt,{className:"pt-0 pl-0 pr-0",children:a.jsx("div",{className:"space-y-2 ml-4 border-l-2 border-l-slate-200 pl-4",children:E.addressGroups.map(Z=>{const ie=`${E.paymentDay}-${Z.address}`,te=M(E.paymentDay,Z.address),V=w.has(ie);return a.jsxs(mt,{className:"border-l-4 border-l-green-500 bg-green-50/30 dark:bg-green-950/20",children:[a.jsx($t,{className:"cursor-pointer hover:bg-green-100/50 dark:hover:bg-green-900/20 transition-colors pb-2 py-3",onClick:()=>D(E.paymentDay,Z.address),children:a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[V?a.jsx(cg,{className:"h-4 sm:h-5 w-4 sm:w-5 text-muted-foreground flex-shrink-0"}):a.jsx(ug,{className:"h-4 sm:h-5 w-4 sm:w-5 text-muted-foreground flex-shrink-0"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm sm:text-base",children:[a.jsx(sf,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600 flex-shrink-0"}),a.jsx("span",{className:"font-medium",children:Z.address})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-auto flex-wrap",children:[a.jsxs(Un,{variant:"outline",className:"text-xs",children:[Z.customers.length," customer",Z.customers.length!==1?"s":""]}),a.jsx(Un,{variant:te>0?"default":"secondary",className:"text-xs min-w-0",children:a.jsx("span",{className:"truncate",children:te.toFixed(2)})})]})]})}),V&&a.jsx(gt,{className:"pt-4",children:a.jsx("div",{className:"space-y-4",children:Z.customers.map(G=>{const oe=G.loans.reduce((ae,O)=>ae+(O.outstanding_balance||0),0);return a.jsx(mt,{className:"border",children:a.jsx(gt,{className:"p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-lg",children:G.name}),G.phone&&a.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[a.jsx(dg,{className:"h-3 w-3"}),G.phone]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-lg font-medium text-orange-600",children:oe.toFixed(2)}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Outstanding Balance"}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[G.loans.length," active loan",G.loans.length!==1?"s":""]})]})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs(Oe,{htmlFor:`payment-${G.id}`,children:["Record Payment for ",G.name]}),a.jsx(Ge,{id:`payment-${G.id}`,type:"number",placeholder:"Enter payment amount",value:c[G.id]||"",onChange:ae=>A(G.id,ae.target.value),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(Oe,{htmlFor:`payment-mode-${G.id}`,children:"Payment Mode"}),a.jsxs(yn,{value:d[G.id]||"cash",onValueChange:ae=>R(G.id,ae),children:[a.jsx(pn,{className:"mt-1",children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"cash",children:"Cash"}),a.jsx(ze,{value:"bank",children:"Bank Transfer"})]})]})]}),a.jsx(Re,{onClick:()=>{console.log("Payment button clicked for:",G.name),L(G)},disabled:m[G.id],className:"w-full",children:m[G.id]?"Recording...":"Record Payment"})]})})]})})},G.id)})})})]},ie)})})})]},E.paymentDay)})]})},aG=({onUpdate:e})=>{const{user:t}=vn(),{toast:n}=Nn(),r=Qa(),[s,i]=_.useState([]),[o,l]=_.useState([]),[c,u]=_.useState(!0),[d,p]=_.useState(null),m=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],h={sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday"};_.useEffect(()=>{t&&b()},[t]),_.useEffect(()=>{const A=()=>{b()};return window.addEventListener("customer-added",A),()=>window.removeEventListener("customer-added",A)},[]);const b=async()=>{try{u(!0);const{data:A,error:R}=await Ue.from("customers").select(`
          *,
          loans:loans(id, principal_amount, is_active, interest_rate, interest_type, loan_date, emi_amount)
        `).eq("user_id",t==null?void 0:t.id).order("name");if(R)throw R;const{data:L,error:C}=await Ue.from("loan_transactions").select(`
          *,
          loan:loans!inner(customer_id, user_id)
        `).eq("loan.user_id",t==null?void 0:t.id);if(C)throw C;i(A||[]),l(L||[])}catch(A){console.error("Error fetching customers:",A),n({variant:"destructive",title:"Error",description:"Failed to fetch customers"})}finally{u(!1)}},v=(A,R)=>{var E,P;const C=o.filter(z=>z.loan.customer_id===A&&z.loan_id===R).reduce((z,$)=>z+$.amount,0),M=(P=(E=s.find(z=>z.id===A))==null?void 0:E.loans)==null?void 0:P.find(z=>z.id===R);return M?M.principal_amount-C:0},w=(A,R)=>{if(!A.interest_rate||A.interest_type==="none")return 0;const L=A.interest_rate/100,C=new Date(A.loan_date),M=new Date;if(A.interest_type==="daily"){const E=M.getTime()-C.getTime(),P=Math.ceil(E/(1e3*3600*24));return R*L*(P/365)}else if(A.interest_type==="monthly"){const E=(M.getFullYear()-C.getFullYear())*12+(M.getMonth()-C.getMonth()),P=(M.getDate()-C.getDate())/30,z=E+P;return R*L*z}return 0},y=A=>{var L;return(((L=A.loans)==null?void 0:L.filter(C=>C.is_active))||[]).reduce((C,M)=>{const E=v(A.id,M.id),P=w(M,E);return C+E+P},0)},x=A=>{var L;return(((L=A.loans)==null?void 0:L.filter(C=>C.is_active))||[]).reduce((C,M)=>C+(M.emi_amount||0),0)},S=A=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(A),k=A=>s.filter(R=>R.payment_day===A),D=A=>{r(`/collection?day=${A}`)};return d?a.jsx(qP,{customer:d,onBack:()=>p(null)}):c?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading payment schedule..."})]})}):a.jsxs("div",{className:"space-y-6 max-w-full overflow-hidden",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Daywise Payment Schedule"}),a.jsx("p",{className:"text-muted-foreground",children:"Customers organized by their preferred payment days"})]}),a.jsxs(mt,{children:[a.jsx($t,{children:a.jsx(zt,{children:"Payment Schedule Summary"})}),a.jsx(gt,{children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:m.map(A=>{const R=k(A),L=R.reduce((E,P)=>E+y(P),0),C=R.reduce((E,P)=>E+x(P),0),M={sunday:"bg-red-100 border-red-200",monday:"bg-blue-100 border-blue-200",tuesday:"bg-green-100 border-green-200",wednesday:"bg-yellow-100 border-yellow-200",thursday:"bg-purple-100 border-purple-200",friday:"bg-pink-100 border-pink-200",saturday:"bg-indigo-100 border-indigo-200"};return a.jsxs("div",{className:`text-center p-4 rounded-lg border-2 ${M[A]} shadow-sm cursor-pointer hover:shadow-md transition-shadow duration-200`,onClick:()=>D(A),children:[a.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:h[A]}),a.jsx("div",{className:"text-xl font-bold text-gray-800 mb-1",children:R.length}),a.jsx("div",{className:"text-xs text-gray-600 mb-3",children:"customers"}),a.jsx("div",{className:"text-sm font-semibold text-green-700",children:S(L)}),a.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Outstanding"}),a.jsx("div",{className:"text-sm font-semibold text-purple-700",children:S(C)}),a.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"EMI Amount"}),a.jsx("div",{className:"text-xs text-blue-600 font-medium",children:"Click to collect"})]},A)})})})]})]})},oG=({onUpdate:e})=>{const{user:t}=vn(),{toast:n}=Nn(),[r,s]=_.useState([]),[i,o]=_.useState([]),[l,c]=_.useState(!0),[u,d]=_.useState(""),[p,m]=_.useState(""),[h,b]=_.useState("");_.useEffect(()=>{t&&v()},[t]),_.useEffect(()=>{const C=()=>{v()};return window.addEventListener("customer-added",C),()=>window.removeEventListener("customer-added",C)},[]),_.useEffect(()=>{w()},[r,u,p,h]);const v=async()=>{try{c(!0);const{data:C,error:M}=await Ue.from("loan_transactions").select(`
          *,
          loan:loans!inner(
            loan_number,
            description,
            customers!inner(name, phone),
            user_id
          )
        `).eq("loan.user_id",t==null?void 0:t.id).order("payment_date",{ascending:!1});if(M)throw M;s(C||[])}catch(C){console.error("Error fetching transactions:",C),n({variant:"destructive",title:"Error",description:"Failed to fetch payment transactions"})}finally{c(!1)}},w=()=>{let C=[...r];h?C=C.filter(M=>M.payment_date===h):(u&&(C=C.filter(M=>M.payment_date>=u)),p&&(C=C.filter(M=>M.payment_date<=p))),o(C)},y=()=>{const C={};return i.forEach(M=>{const E=M.payment_date;C[E]||(C[E]=[]),C[E].push(M)}),Object.keys(C).sort((M,E)=>new Date(E).getTime()-new Date(M).getTime()).map(M=>({date:M,transactions:C[M]}))},x=C=>C.reduce((M,E)=>M+E.amount,0),S=()=>i.reduce((C,M)=>C+M.amount,0),k=C=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(C),D=()=>{const C=[["Date","Customer","Phone","Loan Number","Amount","Type","Notes"],...i.map(z=>[Bn(kN(z.payment_date),"dd/MM/yyyy"),z.loan.customers.name,z.loan.customers.phone||"N/A",z.loan.loan_number,z.amount.toString(),z.transaction_type,z.notes||"N/A"])].map(z=>z.join(",")).join(`
`),M=new Blob([C],{type:"text/csv"}),E=window.URL.createObjectURL(M),P=document.createElement("a");P.href=E,P.download=`payments_${u||"all"}_${p||"all"}.csv`,P.click(),window.URL.revokeObjectURL(E)},A=()=>{d(""),m(""),b("")};if(l)return a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading payment records..."})]})});const R=y(),L=S();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(mt,{children:[a.jsx($t,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oc,{className:"h-5 w-5"}),a.jsx(zt,{children:"Date-wise Payment Records"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Re,{onClick:D,variant:"outline",size:"sm",children:[a.jsx(ol,{className:"h-4 w-4 mr-2"}),"Export CSV"]})})]})}),a.jsxs(gt,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"start-date",children:"From Date"}),a.jsx(Ge,{id:"start-date",type:"date",value:u,onChange:C=>{d(C.target.value),b("")}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"end-date",children:"To Date"}),a.jsx(Ge,{id:"end-date",type:"date",value:p,onChange:C=>{m(C.target.value),b("")}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"specific-date",children:"Specific Date"}),a.jsx(Ge,{id:"specific-date",type:"date",value:h,onChange:C=>{b(C.target.value),d(""),m("")}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{children:"Actions"}),a.jsxs(Re,{onClick:A,variant:"outline",className:"w-full",children:[a.jsx($x,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})]}),a.jsx("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:k(L)}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Received"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:i.length}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Payments"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:R.length}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Days"})]})]})})]})]}),a.jsx("div",{className:"space-y-4",children:R.length>0?R.map(({date:C,transactions:M})=>{const E=x(M),P=Bn(kN(C),"EEEE, MMMM dd, yyyy");return a.jsxs(mt,{children:[a.jsx($t,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oc,{className:"h-4 w-4"}),a.jsx(zt,{className:"text-lg",children:P})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Un,{variant:"outline",children:[M.length," payment",M.length!==1?"s":""]}),a.jsx("div",{className:"text-lg font-bold text-green-600",children:k(E)})]})]})}),a.jsx(gt,{children:a.jsx("div",{className:"space-y-3",children:M.map(z=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(T3,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:z.loan.customers.name}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsx("span",{children:z.loan.loan_number}),a.jsx(Un,{variant:"secondary",className:"text-xs",children:z.transaction_type}),a.jsx(Un,{variant:"outline",className:"text-xs",children:z.payment_mode})]}),z.notes&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Note: ",z.notes]}),a.jsx("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:z.loan.customers.phone&&a.jsx("span",{children:z.loan.customers.phone})})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium text-green-600",children:k(z.amount)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:z.loan.description||"Loan Payment"})]})]},z.id))})})]},C)}):a.jsx(mt,{children:a.jsxs(gt,{className:"text-center py-12",children:[a.jsx(oc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No payments found"}),a.jsx("p",{className:"text-muted-foreground",children:h||u||p?"No payments found for the selected date range":"No payment records available"})]})})})]})},lG=({mahajan:e})=>{const{user:t}=vn(),{toast:n}=Nn(),[r,s]=_.useState([]),[i,o]=_.useState([]),[l,c]=_.useState([]),[u,d]=_.useState(""),[p,m]=_.useState(""),[h,b]=_.useState(!1);_.useEffect(()=>{t&&v()},[t,e.id]),_.useEffect(()=>{r.length>0&&w()},[r,i,u,p]);const v=async()=>{try{b(!0);const{data:A,error:R}=await Ue.from("bills").select("*").eq("mahajan_id",e.id).eq("user_id",t==null?void 0:t.id).order("bill_date",{ascending:!1});if(R)throw R;if(s(A||[]),A&&A.length>0){const{data:L,error:C}=await Ue.from("bill_transactions").select(`
            *,
            bill:bills(bill_number, description)
          `).in("bill_id",A.map(M=>M.id)).order("payment_date",{ascending:!0});if(C)throw C;o(L||[])}else o([])}catch(A){console.error("Error fetching mahajan data:",A),n({variant:"destructive",title:"Error",description:"Failed to fetch mahajan data"})}finally{b(!1)}},w=()=>{const A=[];let R=0;const L=[];r.forEach(C=>{const M=new Date(C.bill_date);(!u||M>=new Date(u))&&(!p||M<=new Date(p))&&L.push({date:C.bill_date,description:`Bill - ${C.description}`,reference:C.bill_number,debit:C.bill_amount,credit:0,balance:0,type:"bill_disbursement"})}),i.forEach(C=>{const M=new Date(C.payment_date);(!u||M>=new Date(u))&&(!p||M<=new Date(p))&&L.push({date:C.payment_date,description:`Paid - ${C.bill.description||"Bill"} (${C.bill.bill_number}) - ${C.transaction_type} via ${C.payment_mode}-${C.notes}`,reference:C.id,debit:0,credit:C.amount,balance:0,type:"payment_paid"})}),L.sort((C,M)=>new Date(C.date).getTime()-new Date(M.date).getTime()),L.forEach(C=>{C.type==="bill_disbursement"?(C.balance=R+C.debit,R+=C.debit):C.type==="payment_paid"&&(C.balance=R-C.credit,R-=C.credit),A.push(C)}),c(A)},y=A=>{const L=i.filter(M=>M.bill_id===A).reduce((M,E)=>M+E.amount,0),C=r.find(M=>M.id===A);return C?C.bill_amount-L:0},x=(A,R)=>{if(!A.interest_rate||A.interest_type==="none")return 0;const L=A.interest_rate/100,C=new Date(A.bill_date),M=new Date;if(A.interest_type==="daily"){const E=M.getTime()-C.getTime(),P=Math.ceil(E/(1e3*3600*24));return R*L*(P/365)}else if(A.interest_type==="monthly"){const E=(M.getFullYear()-C.getFullYear())*12+(M.getMonth()-C.getMonth()),P=(M.getDate()-C.getDate())/30,z=E+P;return R*L*z}return 0},S=()=>r.reduce((A,R)=>{const L=y(R.id),C=x(R,L);return A+L+C},0),k=A=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(A),D=async()=>{try{const A=new dt("p","mm","a4"),R=A.internal.pageSize.width,L=A.internal.pageSize.height,C=20,M=R-C*2;A.setFontSize(16).setFont("helvetica","bold"),A.text("Mahajan Statement",R/2,20,{align:"center"}),A.setFontSize(14),A.text(e.name,R/2,30,{align:"center"}),A.setLineWidth(.5),A.line(30,35,R-30,35);let E=45;A.setFontSize(10).setFont("helvetica","normal"),A.text(`Mahajan: ${e.name}`,C,E),E+=6,A.text(`Phone: ${e.phone||"N/A"}`,C,E),E+=6,A.text(`Address: ${e.address||"N/A"}`,C,E),E+=6,A.text(`Statement Period: ${u?Bn(new Date(u),"dd/MM/yyyy"):"All"} - ${p?Bn(new Date(p),"dd/MM/yyyy"):"Current"}`,C,E),E+=15,A.setFontSize(9).setFont("helvetica","bold");const P=[M*.15,M*.25,M*.1,M*.15,M*.15,M*.2],z=te=>{let V=C;["Date","Description","Ref","Debit","Credit","Balance"].forEach((oe,ae)=>{const O=ae===1?"left":"center",T=ae===1?2:P[ae]/2;A.text(oe,V+T,te,{align:O}),V+=P[ae]}),A.setLineWidth(.5),A.rect(C,te-5,M,8),V=C;for(let oe=0;oe<P.length-1;oe++)V+=P[oe],A.line(V,te-5,V,te+3)};z(E),E+=2,A.setFont("helvetica","normal"),l.forEach(te=>{const V=A.splitTextToSize(te.description,P[1]-4),G=Math.max(8,V.length*5+4);E+G>L-30&&(A.addPage(),E=20,z(E),E+=8);let oe=C;const ae=Bn(new Date(te.date),"dd/MM/yyyy"),O=te.reference.length>8?te.reference.slice(0,6)+"...":te.reference,T=te.debit>0?k(te.debit).replace("",""):"-",U=te.credit>0?k(te.credit).replace("",""):"-",W=k(te.balance).replace("","");A.text(ae,oe+P[0]/2,E+4,{align:"center"}),oe+=P[0],V.forEach((Q,Y)=>{A.text(Q,oe+2,E+4+Y*5)}),oe+=P[1],A.text(O,oe+P[2]/2,E+4,{align:"center"}),oe+=P[2],A.setTextColor(255,0,0),A.text(T,oe+P[3]/2,E+4,{align:"center"}),oe+=P[3],A.setTextColor(0,128,0),A.text(U,oe+P[4]/2,E+4,{align:"center"}),oe+=P[4],A.setTextColor(0,0,0),A.setFont("helvetica","bold"),A.text(W,oe+P[5]/2,E+4,{align:"center"}),A.setFont("helvetica","normal"),oe=C;for(let Q=0;Q<P.length;Q++)A.rect(oe,E,P[Q],G),oe+=P[Q];E+=G}),E+30>L-20&&(A.addPage(),E=20),E+=20,A.setFontSize(12).setFont("helvetica","bold"),A.text("Account Summary",C,E),E+=15,A.setFillColor(249,249,249),A.rect(C,E-5,M,20,"F"),A.setFontSize(10).setFont("helvetica","normal"),A.text(`Total Outstanding Balance: ${k(S()).replace("","")}`,C+5,E),E+=6,A.text(`Total Transactions: ${l.length}`,C+5,E);const $=A.getNumberOfPages();for(let te=1;te<=$;te++)A.setPage(te),A.setFontSize(8),A.text(`Page ${te} of ${$}`,R-C,L-10,{align:"right"});const Z=`mahajan-statement-${e.name.replace(/\s+/g,"-").toLowerCase()}-${Bn(new Date,"yyyy-MM-dd")}.pdf`,ie=A.output("blob");Lw.saveAs(ie,Z),n({title:"PDF Downloaded",description:"Mahajan statement has been downloaded as PDF."})}catch(A){console.error("Error generating PDF:",A),n({variant:"destructive",title:"Error",description:"Failed to generate PDF statement"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(mt,{children:[a.jsx($t,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yg,{className:"h-5 w-5"}),a.jsx(zt,{children:"Mahajan Statement"})]}),a.jsxs(Re,{onClick:A=>{A.preventDefault(),D()},variant:"outline",size:"sm",children:[a.jsx(ol,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})}),a.jsxs(gt,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"start-date",children:"From Date"}),a.jsx(Ge,{id:"start-date",type:"date",value:u,onChange:A=>d(A.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"end-date",children:"To Date"}),a.jsx(Ge,{id:"end-date",type:"date",value:p,onChange:A=>m(A.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.length}),a.jsx("div",{className:"text-sm text-blue-600",children:"Total Bills"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.length}),a.jsx("div",{className:"text-sm text-green-600",children:"Total Payments"})]}),a.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:k(S())}),a.jsx("div",{className:"text-sm text-orange-600",children:"Outstanding Balance"})]})]})]})]}),a.jsxs(mt,{children:[a.jsx($t,{children:a.jsx(zt,{children:"Transaction Statement"})}),a.jsx(gt,{children:h?a.jsx("div",{className:"text-center py-8",children:"Loading statement..."}):l.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left p-3 font-medium",children:"Date"}),a.jsx("th",{className:"text-left p-3 font-medium",children:"Description"}),a.jsx("th",{className:"text-left p-3 font-medium",children:"Reference"}),a.jsx("th",{className:"text-right p-3 font-medium",children:"Debit"}),a.jsx("th",{className:"text-right p-3 font-medium",children:"Credit"}),a.jsx("th",{className:"text-right p-3 font-medium",children:"Balance"})]})}),a.jsx("tbody",{children:l.map((A,R)=>a.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[a.jsx("td",{className:"p-3 text-sm",children:Bn(new Date(A.date),"dd/MM/yyyy")}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:A.description}),a.jsx(Un,{variant:A.type==="bill_disbursement"?"destructive":A.type==="payment_paid"?"default":"secondary",className:"text-xs",children:A.type==="bill_disbursement"?"Bill":A.type==="payment_paid"?"Payment":"Interest"})]})}),a.jsx("td",{className:"p-3 text-sm text-gray-600",children:A.reference}),a.jsx("td",{className:"p-3 text-right",children:A.credit>0?a.jsx("span",{className:"text-red-600 font-medium",children:k(A.credit)}):a.jsx("span",{className:"text-gray-400",children:"-"})}),a.jsx("td",{className:"p-3 text-right",children:A.debit>0?a.jsx("span",{className:"text-green-600 font-medium",children:k(A.debit)}):a.jsx("span",{className:"text-gray-400",children:"-"})}),a.jsx("td",{className:"p-3 text-right font-medium",children:k(A.balance)})]},R))})]})}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No transactions found for the selected period"})})]})]})},WP=({open:e,onOpenChange:t,mahajan:n,onBillAdded:r})=>{const{user:s}=vn(),{toast:i}=Nn(),[o,l]=_.useState([]),[c,u]=_.useState(!1),[d,p]=_.useState({mahajanId:"",billAmount:"",description:"",interestRate:"",interestType:"none",billDate:new Date().toISOString().split("T")[0],dueDate:""});_.useEffect(()=>{s&&e&&m()},[s,e]),_.useEffect(()=>{n&&e&&p(b=>({...b,mahajanId:n.id}))},[n,e]);const m=async()=>{try{const{data:b,error:v}=await Ue.from("mahajans").select("id, name").eq("user_id",s==null?void 0:s.id).order("name");if(v)throw v;l(b||[])}catch(b){console.error("Error fetching mahajans:",b)}},h=async b=>{if(b.preventDefault(),!s)return;const v=(n==null?void 0:n.id)||d.mahajanId;if(!v){i({variant:"destructive",title:"Validation Error",description:"Please select a mahajan."});return}u(!0);try{const{error:w}=await Ue.from("bills").insert({user_id:s.id,mahajan_id:v,bill_amount:parseFloat(d.billAmount),description:d.description,interest_rate:d.interestType==="none"?0:parseFloat(d.interestRate),interest_type:d.interestType,bill_date:d.billDate,due_date:d.dueDate||null});if(w)throw w;i({title:"Bill added",description:"The bill has been successfully added."}),p({mahajanId:(n==null?void 0:n.id)||"",billAmount:"",description:"",interestRate:"",interestType:"none",billDate:new Date().toISOString().split("T")[0],dueDate:""}),t(!1),r()}catch(w){console.error("Error adding bill:",w),i({variant:"destructive",title:"Error",description:"Failed to add bill. Please try again."})}finally{u(!1)}};return a.jsx(os,{open:e,onOpenChange:t,children:a.jsxs(Yr,{className:"sm:max-w-[425px]",children:[a.jsx(Xr,{children:a.jsx(Jr,{children:"Add New Bill"})}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"mahajan",children:"Mahajan *"}),n?a.jsx("div",{className:"p-3 border rounded-md bg-gray-50",children:a.jsx("div",{className:"text-sm font-medium",children:n.name})}):a.jsxs(yn,{value:d.mahajanId,onValueChange:b=>p({...d,mahajanId:b}),required:!0,children:[a.jsx(pn,{children:a.jsx(xn,{placeholder:"Select mahajan"})}),a.jsx(mn,{children:o.map(b=>a.jsx(ze,{value:b.id,children:b.name},b.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"billAmount",children:"Bill Amount *"}),a.jsx(Ge,{id:"billAmount",type:"number",step:"0.01",placeholder:"Enter bill amount",value:d.billAmount,onChange:b=>p({...d,billAmount:b.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"description",children:"Description *"}),a.jsx(Ge,{id:"description",type:"text",placeholder:"Enter bill description",value:d.description,onChange:b=>p({...d,description:b.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{children:"Interest Type"}),a.jsxs(yn,{value:d.interestType,onValueChange:b=>p({...d,interestType:b}),children:[a.jsx(pn,{children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"none",children:"No Interest"}),a.jsx(ze,{value:"daily",children:"Daily Interest"}),a.jsx(ze,{value:"monthly",children:"Monthly Interest"})]})]})]}),d.interestType!=="none"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"interestRate",children:"Interest Rate (%) *"}),a.jsx(Ge,{id:"interestRate",type:"number",step:"0.01",placeholder:"Enter interest rate",value:d.interestRate,onChange:b=>p({...d,interestRate:b.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"billDate",children:"Bill Date *"}),a.jsx(Ge,{id:"billDate",type:"date",value:d.billDate,onChange:b=>p({...d,billDate:b.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"dueDate",children:"Due Date"}),a.jsx(Ge,{id:"dueDate",type:"date",value:d.dueDate,onChange:b=>p({...d,dueDate:b.target.value})})]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"* Required fields"}),a.jsx(Re,{type:"submit",className:"w-full",disabled:c,children:c?"Adding...":"Add Bill"})]})]})})},cG=({bills:e})=>{const[t,n]=_.useState(""),[r,s]=_.useState([]),[i,o]=_.useState(1),[l,c]=_.useState(null),u=5,d=()=>{const w=t.trim().toLowerCase();if(w===""){Uo.error("Please enter a bill number or ID to search"),s([]);return}const y=e.filter(x=>x.bill_number&&x.bill_number.toLowerCase().includes(w)||x.id.toLowerCase().includes(w));y.length===0&&Uo.error("No matching bills found"),s(y),o(1)},p=async()=>{if(l)try{const{error:w}=await Ue.from("bills").update({bill_amount:l.bill_amount,interest_rate:l.interest_rate,interest_type:l.interest_type,due_date:l.due_date,description:l.description,updated_at:new Date().toISOString()}).eq("id",l.id);if(w)throw w;s(y=>y.map(x=>x.id===l.id?{...l}:x)),c(null),Uo.success("Bill updated successfully");try{window.dispatchEvent(new Event("refresh-mahajans"))}catch{}}catch(w){Uo.error(w.message||"Failed to update bill")}},m=Math.ceil(r.length/u),h=(i-1)*u,b=r.slice(h,h+u),v=()=>{n(""),s([]),o(1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ge,{type:"text",placeholder:"Search by Reference Number",value:t,onChange:w=>n(w.target.value)}),a.jsx(Re,{onClick:d,children:"Search"}),a.jsx(Re,{variant:"outline",onClick:v,children:"Reset"})]}),r.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(qf,{children:[a.jsx(Wf,{children:a.jsxs(Ya,{children:[a.jsx(Gt,{children:"Bill Number"}),a.jsx(Gt,{children:"Amount"}),a.jsx(Gt,{children:"Interest Type"}),a.jsx(Gt,{children:"Interest Rate"}),a.jsx(Gt,{children:"Description"}),a.jsx(Gt,{children:"Bill Date"}),a.jsx(Gt,{children:"Due Date"}),a.jsx(Gt,{children:"Actions"})]})}),a.jsx(Hf,{children:b.map(w=>a.jsxs(Ya,{children:[a.jsx(Kt,{children:w.bill_number||""}),a.jsxs(Kt,{children:["",w.bill_amount.toFixed(2)]}),a.jsx(Kt,{children:w.interest_type||"none"}),a.jsxs(Kt,{children:[w.interest_rate??0,"%"]}),a.jsx(Kt,{children:w.description||""}),a.jsx(Kt,{children:w.bill_date}),a.jsx(Kt,{children:w.due_date||""}),a.jsx(Kt,{className:"space-x-2",children:a.jsx(Re,{variant:"outline",onClick:()=>c(w),children:"Edit"})})]},w.id))})]}),r.length>u&&a.jsxs("div",{className:"flex justify-between items-center pt-4",children:[a.jsx(Re,{variant:"outline",disabled:i===1,onClick:()=>o(i-1),children:"Previous"}),a.jsxs("p",{children:["Page ",i," of ",m]}),a.jsx(Re,{variant:"outline",disabled:i===m,onClick:()=>o(i+1),children:"Next"})]})]}):a.jsx("p",{className:"text-center text-gray-500 pt-6",children:"No bills to display. Please search using a bill number or ID."}),a.jsx(os,{open:!!l,onOpenChange:()=>c(null),children:a.jsxs(Yr,{children:[a.jsx(Xr,{children:a.jsx(Jr,{children:"Edit Bill"})}),l&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Oe,{children:"Bill Amount"}),a.jsx(Ge,{type:"number",value:l.bill_amount,onChange:w=>c({...l,bill_amount:parseFloat(w.target.value)||0})})]}),a.jsxs("div",{children:[a.jsx(Oe,{children:"Interest Rate (%)"}),a.jsx(Ge,{type:"number",value:l.interest_rate??0,onChange:w=>c({...l,interest_rate:parseFloat(w.target.value)||0})})]}),a.jsxs("div",{children:[a.jsx(Oe,{children:"Interest Type"}),a.jsxs("select",{className:"border rounded-md px-2 py-1 w-full",value:l.interest_type||"none",onChange:w=>c({...l,interest_type:w.target.value}),children:[a.jsx("option",{value:"none",children:"None"}),a.jsx("option",{value:"daily",children:"Daily"}),a.jsx("option",{value:"monthly",children:"Monthly"})]})]}),a.jsxs("div",{children:[a.jsx(Oe,{children:"Due Date"}),a.jsx(Ge,{type:"date",value:l.due_date||"",onChange:w=>c({...l,due_date:w.target.value})})]}),a.jsxs("div",{children:[a.jsx(Oe,{children:"Description"}),a.jsx(Ge,{type:"text",value:l.description||"",onChange:w=>c({...l,description:w.target.value})})]})]}),a.jsxs(vw,{className:"flex justify-end space-x-2 mt-4",children:[a.jsx(Re,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),a.jsx(Re,{onClick:p,children:"Save Changes"})]})]})})]})},uG=({transactions:e})=>{const[t,n]=_.useState(""),[r,s]=_.useState([]),[i,o]=_.useState(null),[l,c]=_.useState(1),u=5,d=()=>{const w=t.trim();if(!w){Uo.error("Please enter a transaction ID to search"),s([]);return}const y=e.filter(x=>x.id.toLowerCase()===w.toLowerCase());y.length===0&&Uo.error("No matching transactions found"),s(y),c(1)},p=async()=>{if(i)try{const{error:w}=await Ue.from("bill_transactions").update({amount:i.amount,transaction_type:i.transaction_type,payment_date:i.payment_date,payment_mode:i.payment_mode,notes:i.notes}).eq("id",i.id);if(w)throw w;s(y=>y.map(x=>x.id===i.id?{...i}:x)),o(null),Uo.success("Transaction updated successfully");try{window.dispatchEvent(new Event("refresh-mahajans"))}catch{}}catch(w){Uo.error(w.message||"Failed to update transaction")}},m=Math.ceil(r.length/u),h=(l-1)*u,b=r.slice(h,h+u),v=()=>{n(""),s([]),c(1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ge,{type:"text",placeholder:"Search by Transaction ID",value:t,onChange:w=>n(w.target.value)}),a.jsx(Re,{onClick:d,children:"Search"}),a.jsx(Re,{variant:"outline",onClick:v,children:"Reset"})]}),r.length>0?a.jsxs(a.Fragment,{children:[a.jsxs(qf,{children:[a.jsx(Wf,{children:a.jsxs(Ya,{children:[a.jsx(Gt,{children:"Transaction ID"}),a.jsx(Gt,{children:"Bill ID"}),a.jsx(Gt,{children:"Amount"}),a.jsx(Gt,{children:"Transaction Type"}),a.jsx(Gt,{children:"Payment Date"}),a.jsx(Gt,{children:"Payment Mode"}),a.jsx(Gt,{children:"Notes"}),a.jsx(Gt,{children:"Actions"})]})}),a.jsx(Hf,{children:b.map(w=>a.jsxs(Ya,{children:[a.jsx(Kt,{children:w.id}),a.jsx(Kt,{children:w.bill_id}),a.jsxs(Kt,{children:["",w.amount.toFixed(2)]}),a.jsx(Kt,{children:w.transaction_type}),a.jsx(Kt,{children:w.payment_date}),a.jsx(Kt,{children:w.payment_mode}),a.jsx(Kt,{children:w.notes||""}),a.jsx(Kt,{children:a.jsx(Re,{variant:"outline",onClick:()=>o(w),children:"Edit"})})]},w.id))})]}),r.length>u&&a.jsxs("div",{className:"flex justify-between items-center pt-4",children:[a.jsx(Re,{variant:"outline",disabled:l===1,onClick:()=>c(l-1),children:"Previous"}),a.jsxs("p",{children:["Page ",l," of ",m]}),a.jsx(Re,{variant:"outline",disabled:l===m,onClick:()=>c(l+1),children:"Next"})]})]}):a.jsx("p",{className:"text-center text-gray-500 pt-6",children:"No transactions to display. Please search using a transaction ID."}),a.jsx(os,{open:!!i,onOpenChange:()=>o(null),children:a.jsxs(Yr,{children:[a.jsxs(Xr,{children:[a.jsx(Jr,{children:"Edit Transaction"}),a.jsx(Pc,{children:"Update the details of this transaction and save changes."})]}),i&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Oe,{children:"Amount"}),a.jsx(Ge,{type:"number",value:i.amount,onChange:w=>o({...i,amount:parseFloat(w.target.value)||0})})]}),a.jsxs("div",{children:[a.jsx(Oe,{children:"Transaction Type"}),a.jsxs("select",{className:"border rounded-md px-2 py-1 w-full",value:i.transaction_type,onChange:w=>o({...i,transaction_type:w.target.value}),children:[a.jsx("option",{value:"principal",children:"Principal"}),a.jsx("option",{value:"interest",children:"Interest"}),a.jsx("option",{value:"mixed",children:"Mixed"})]})]}),a.jsxs("div",{children:[a.jsx(Oe,{children:"Payment Date"}),a.jsx(Ge,{type:"date",value:i.payment_date,onChange:w=>o({...i,payment_date:w.target.value})})]}),a.jsxs("div",{children:[a.jsx(Oe,{children:"Payment Mode"}),a.jsx(Ge,{type:"text",value:i.payment_mode,onChange:w=>o({...i,payment_mode:w.target.value})})]}),a.jsxs("div",{children:[a.jsx(Oe,{children:"Notes"}),a.jsx(Ge,{type:"text",value:i.notes||"",onChange:w=>o({...i,notes:w.target.value})})]})]}),a.jsxs(vw,{className:"flex justify-end space-x-2 mt-4",children:[a.jsx(Re,{variant:"outline",onClick:()=>o(null),children:"Cancel"}),a.jsx(Re,{onClick:p,children:"Save Changes"})]})]})})]})},dG=({mahajan:e,onBack:t,onUpdate:n})=>{const{user:r}=vn(),{settings:s}=Oi(),{toast:i}=Nn(),[o,l]=_.useState([]),[c,u]=_.useState([]),[d,p]=_.useState(!1),[m,h]=_.useState(""),[b,v]=_.useState(!1),[w,y]=_.useState(!1),[x,S]=_.useState({amount:"",paymentType:"principal",notes:"",payment_mode:"cash"});_.useEffect(()=>{r&&k()},[r,e.id]),_.useEffect(()=>{r&&o.length>0&&D()},[r,o]);const k=async()=>{try{const{data:P,error:z}=await Ue.from("bills").select("*").eq("mahajan_id",e.id).eq("user_id",r==null?void 0:r.id).order("bill_date",{ascending:!1});if(z)throw z;l(P||[])}catch(P){console.error("Error fetching bills:",P),i({variant:"destructive",title:"Error",description:"Failed to fetch bills"})}},D=async()=>{try{const{data:P,error:z}=await Ue.from("bill_transactions").select("*, bill:bills(description, bill_amount)").in("bill_id",o.map($=>$.id)).order("payment_date",{ascending:!1});if(z)throw z;u(P||[])}catch(P){console.error("Error fetching transactions:",P),i({variant:"destructive",title:"Error",description:"Failed to fetch transactions"})}},A=P=>{const $=c.filter(ie=>ie.bill_id===P).reduce((ie,te)=>ie+te.amount,0),Z=o.find(ie=>ie.id===P);return Z?Z.bill_amount-$:0},R=(P,z)=>{if(!P.interest_rate||P.interest_type==="none")return 0;const $=P.interest_rate/100,Z=new Date(P.bill_date),ie=new Date;let te=0;if(P.interest_type==="daily"){const V=Math.ceil((ie.getTime()-Z.getTime())/864e5);te=z*$*(V/365)}else if(P.interest_type==="monthly"){const V=(ie.getFullYear()-Z.getFullYear())*12+(ie.getMonth()-Z.getMonth()),G=(ie.getDate()-Z.getDate())/30;te=z*$*(V+G)}return Math.round(te*100)/100},L=()=>o.reduce((P,z)=>{if(!z.is_active)return P;const $=A(z.id),Z=R(z,$);return P+$+Z},0),C=async P=>{if(P.preventDefault(),!r||!m)return;const z=parseFloat(x.amount);if(isNaN(z)||z<=0){i({variant:"destructive",title:"Invalid Amount",description:"Please enter a valid amount"});return}v(!0);try{const{error:$}=await Ue.from("bill_transactions").insert({bill_id:m,amount:z,transaction_type:x.paymentType,payment_mode:x.payment_mode,notes:x.notes||null});if($)throw $;i({title:"Payment recorded",description:"Payment has been successfully recorded"}),S({amount:"",paymentType:"principal",notes:"",payment_mode:"cash"}),p(!1),h(""),D(),n&&n()}catch($){console.error("Error recording payment:",$),i({variant:"destructive",title:"Error",description:"Failed to record payment"})}finally{v(!1)}},M=P=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(P),E=P=>new Date(P).toLocaleDateString("en-IN");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(Re,{variant:"ghost",onClick:t,children:[a.jsx(al,{className:"h-4 w-4 mr-2"}),"Back"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:e.name}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.phone&&a.jsxs("span",{children:[" ",e.phone]}),e.payment_day&&a.jsxs("span",{children:[" ",e.payment_day]})]})]})]}),s.allowBillManagement&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Re,{onClick:()=>y(!0),children:[a.jsx(hi,{className:"h-4 w-4 mr-2"}),"Add Bill"]}),a.jsxs(Re,{onClick:()=>p(!0),children:[a.jsx(hi,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(mt,{children:[a.jsx($t,{className:"pb-2",children:a.jsx(zt,{className:"text-sm font-medium",children:"Total Bills"})}),a.jsx(gt,{children:a.jsx("div",{className:"text-2xl font-bold",children:o.length})})]}),a.jsxs(mt,{children:[a.jsx($t,{className:"pb-2",children:a.jsx(zt,{className:"text-sm font-medium",children:"Active Bills"})}),a.jsx(gt,{children:a.jsx("div",{className:"text-2xl font-bold",children:o.filter(P=>P.is_active).length})})]}),a.jsxs(mt,{children:[a.jsx($t,{className:"pb-2",children:a.jsx(zt,{className:"text-sm font-medium",children:"Outstanding Balance"})}),a.jsx(gt,{children:a.jsx("div",{className:"text-2xl font-bold text-red-600",children:M(L())})})]})]}),a.jsxs(qo,{defaultValue:"bills",className:"w-full",children:[a.jsxs(Ba,{className:"grid w-full grid-cols-4",children:[a.jsx(Wn,{value:"bills",children:"Bills"}),a.jsx(Wn,{value:"statement",children:"Statement"}),a.jsx(Wn,{value:"searchBill",children:"Search Bill"}),a.jsx(Wn,{value:"searchTransaction",children:"Search Transaction"})]}),a.jsx(Fn,{value:"bills",className:"space-y-4",children:a.jsxs(mt,{children:[a.jsx($t,{children:a.jsx(zt,{children:"Bills"})}),a.jsx(gt,{children:o.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No bills found for this mahajan"}):a.jsx("div",{className:"space-y-4",children:o.map(P=>{const z=A(P.id),$=R(P,z),Z=z+$;return a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"font-semibold",children:P.description||"Bill"}),a.jsx(Un,{variant:P.is_active?"default":"secondary",children:P.is_active?"Active":"Closed"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Bill Amount:"}),a.jsx("div",{className:"font-medium",children:M(P.bill_amount)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Bill Date:"}),a.jsx("div",{className:"font-medium",children:E(P.bill_date)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Balance:"}),a.jsx("div",{className:"font-medium",children:M(z)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Interest:"}),a.jsx("div",{className:"font-medium",children:M($)})]})]}),Z>0&&a.jsxs("div",{className:"mt-2 text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Total Outstanding:"}),a.jsx("span",{className:"font-bold text-red-600 ml-2",children:M(Z)})]})]}),s.allowBillManagement&&P.is_active&&a.jsx(Re,{variant:"outline",size:"sm",onClick:()=>{h(P.id),p(!0)},children:"Record Payment"})]})},P.id)})})})]})}),a.jsx(Fn,{value:"statement",children:a.jsx(lG,{mahajan:e})}),a.jsx(Fn,{value:"searchBill",children:a.jsx(cG,{bills:o})}),a.jsx(Fn,{value:"searchTransaction",children:a.jsx(uG,{transactions:c})})]}),a.jsx(os,{open:d,onOpenChange:p,children:a.jsxs(Yr,{children:[a.jsx(Xr,{children:a.jsx(Jr,{children:"Record Payment"})}),a.jsxs("form",{onSubmit:C,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{children:"Select Bill"}),a.jsxs(yn,{value:m,onValueChange:h,required:!0,children:[a.jsx(pn,{children:a.jsx(xn,{placeholder:"Select a bill"})}),a.jsx(mn,{children:o.filter(P=>P.is_active).map(P=>a.jsxs(ze,{value:P.id,children:[P.description||"Bill"," - ",M(P.bill_amount)]},P.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"amount",children:"Amount"}),a.jsx(Ge,{id:"amount",type:"number",step:"0.01",placeholder:"Enter amount",value:x.amount,onChange:P=>S({...x,amount:P.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{children:"Payment Type"}),a.jsxs(yn,{value:x.paymentType,onValueChange:P=>S({...x,paymentType:P}),children:[a.jsx(pn,{children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"principal",children:"Principal"}),a.jsx(ze,{value:"interest",children:"Interest"}),a.jsx(ze,{value:"mixed",children:"Mixed"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{children:"Payment Mode"}),a.jsxs(yn,{value:x.payment_mode,onValueChange:P=>S({...x,payment_mode:P}),children:[a.jsx(pn,{children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"cash",children:"Cash"}),a.jsx(ze,{value:"bank",children:"Bank"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"notes",children:"Notes (Optional)"}),a.jsx(Ge,{id:"notes",placeholder:"Enter notes",value:x.notes,onChange:P=>S({...x,notes:P.target.value})})]}),a.jsx(Re,{type:"submit",className:"w-full",disabled:b,children:b?"Recording...":"Record Payment"})]})]})}),a.jsx(WP,{open:w,onOpenChange:y,mahajan:e,onBillAdded:()=>{k(),n&&n()}})]})},hG=({open:e,onOpenChange:t,mahajan:n,onMahajanUpdated:r})=>{const{user:s}=vn(),{toast:i}=Nn(),{settings:o}=Oi(),[l,c]=_.useState(!1),[u,d]=_.useState({name:"",phone:"",address:"",payment_day:"monday"});_.useEffect(()=>{e&&s&&n&&d({name:n.name||"",phone:n.phone||"",address:n.address||"",payment_day:n.payment_day||"monday"})},[e,s,n]);const p=async h=>{if(h.preventDefault(),!(!s||!n)){c(!0);try{const{error:b}=await Ue.from("mahajans").update({name:u.name.trim(),phone:u.phone.trim()||null,address:u.address.trim()||null,payment_day:u.payment_day,updated_at:new Date().toISOString()}).eq("id",n.id).eq("user_id",s.id);if(b)throw b;i({title:"Success",description:"Mahajan updated successfully!"}),r(),t(!1)}catch(b){console.error("Error updating mahajan:",b),i({title:"Error",description:b.message||"Failed to update mahajan.",variant:"destructive"})}finally{c(!1)}}},m=async()=>{if(!(!s||!n))try{const{error:h}=await Ue.from("mahajans").delete().eq("id",n.id).eq("user_id",s.id);if(h)throw h;i({title:"Success",description:"Mahajan deleted successfully!"}),r(),t(!1)}catch(h){console.error("Error deleting mahajan:",h),i({title:"Error",description:h.message||"Failed to delete mahajan.",variant:"destructive"})}};return n?a.jsx(os,{open:e,onOpenChange:t,children:a.jsxs(Yr,{className:"sm:max-w-[425px]",children:[a.jsxs(Xr,{children:[a.jsxs(Jr,{className:"flex items-center gap-2",children:[a.jsx(pl,{className:"h-5 w-5"}),"Edit Mahajan"]}),a.jsx(Pc,{children:"Update mahajan information below."})]}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"name",children:"Name *"}),a.jsx(Ge,{id:"name",type:"text",placeholder:"Enter mahajan name",value:u.name,onChange:h=>d({...u,name:h.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"phone",children:"Phone Number"}),a.jsx(Ge,{id:"phone",type:"tel",placeholder:"Enter phone number",value:u.phone,onChange:h=>d({...u,phone:h.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"address",children:"Group Name"}),a.jsx(_d,{id:"address",placeholder:"Enter mahajan address",value:u.address,onChange:h=>d({...u,address:h.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{children:"Collection Day"}),a.jsxs(yn,{value:u.payment_day,onValueChange:h=>d({...u,payment_day:h}),children:[a.jsx(pn,{children:a.jsx(xn,{placeholder:"Select collection day"})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"sunday",children:"Sunday"}),a.jsx(ze,{value:"monday",children:"Monday"}),a.jsx(ze,{value:"tuesday",children:"Tuesday"}),a.jsx(ze,{value:"wednesday",children:"Wednesday"}),a.jsx(ze,{value:"thursday",children:"Thursday"}),a.jsx(ze,{value:"friday",children:"Friday"}),a.jsx(ze,{value:"saturday",children:"Saturday"})]})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(Re,{type:"submit",className:"flex-1",disabled:l,children:l?"Updating...":"Update Mahajan"}),o.allowMahajanDeletion&&a.jsx(Re,{type:"button",variant:"destructive",onClick:m,disabled:l,className:"px-3",children:a.jsx(ud,{className:"h-4 w-4"})})]})]})]})}):null},fG=({onUpdate:e})=>{const{user:t}=vn(),{toast:n}=Nn(),{settings:r}=Oi(),[s,i]=_.useState([]),[o,l]=_.useState(!0),[c,u]=_.useState(null),[d,p]=_.useState(!1),[m,h]=_.useState(null),[b,v]=_.useState(!1),[w,y]=_.useState(null),[x,S]=_.useState(""),[k,D]=_.useState([]),[A,R]=_.useState(1),[L,C]=_.useState(10);_.useEffect(()=>{t&&M()},[t]),_.useEffect(()=>{const ae=()=>{M(),e&&e()};return window.addEventListener("refresh-mahajans",ae),()=>window.removeEventListener("refresh-mahajans",ae)},[e]);const M=async()=>{try{const{data:ae,error:O}=await Ue.from("mahajans").select(`
          *,
          bills (id, bill_amount, is_active, interest_rate, interest_type, bill_date)
        `).eq("user_id",t==null?void 0:t.id).order("created_at",{ascending:!1});if(O)throw O;if(i(ae||[]),ae&&ae.length>0){const T=ae.flatMap(U=>{var W;return((W=U.bills)==null?void 0:W.map(Q=>Q.id))||[]});if(T.length>0){const{data:U}=await Ue.from("bill_transactions").select("*").in("bill_id",T);D(U||[])}}}catch(ae){console.error("Error fetching mahajans:",ae),n({variant:"destructive",title:"Error",description:"Failed to fetch mahajans"})}finally{l(!1)}},E=ae=>ae.bills?ae.bills.reduce((O,T)=>{if(!T.is_active)return O;const W=k.filter(Y=>Y.bill_id===T.id).reduce((Y,le)=>Y+Number(le.amount),0),Q=Number(T.bill_amount)-W;return O+Math.max(0,Q)},0):0,P=async ae=>{if(confirm("Are you sure you want to delete this mahajan? This action cannot be undone."))try{const{error:O}=await Ue.from("mahajans").delete().eq("id",ae);if(O)throw O;n({title:"Mahajan deleted",description:"The mahajan has been successfully deleted."}),M(),e&&e()}catch(O){console.error("Error deleting mahajan:",O),n({variant:"destructive",title:"Error",description:"Failed to delete mahajan"})}},z=ae=>{h(ae),p(!0)},$=ae=>{y(ae),v(!0)},Z=s.filter(ae=>{var O,T;return ae.name.toLowerCase().includes(x.toLowerCase())||((O=ae.phone)==null?void 0:O.toLowerCase().includes(x.toLowerCase()))||((T=ae.address)==null?void 0:T.toLowerCase().includes(x.toLowerCase()))}),ie=Math.ceil(Z.length/L),te=(A-1)*L,V=te+L,G=Z.slice(te,V),oe=ae=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(ae);return o?a.jsx(mt,{children:a.jsx(gt,{className:"p-6",children:a.jsx("div",{className:"text-center",children:"Loading mahajans..."})})}):c?a.jsx(dG,{mahajan:c,onBack:()=>u(null),onUpdate:M}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs(mt,{children:[a.jsx($t,{children:a.jsx(zt,{children:"Mahajan Management"})}),a.jsx(gt,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(Ge,{placeholder:"Search mahajans by name, phone, or address...",value:x,onChange:ae=>S(ae.target.value)})}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(yn,{value:L.toString(),onValueChange:ae=>C(Number(ae)),children:[a.jsx(pn,{className:"w-20",children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"5",children:"5"}),a.jsx(ze,{value:"10",children:"10"}),a.jsx(ze,{value:"20",children:"20"}),a.jsx(ze,{value:"50",children:"50"})]})]})})]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:G.map(ae=>{var U;const O=E(ae),T=((U=ae.bills)==null?void 0:U.filter(W=>W.is_active).length)||0;return a.jsxs(mt,{className:"hover:shadow-md transition-shadow",children:[a.jsx($t,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(zt,{className:"text-lg truncate",children:ae.name}),a.jsx("div",{className:"flex items-center gap-2 mt-1",children:ae.phone&&a.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[a.jsx(dg,{className:"h-3 w-3"}),a.jsx("span",{className:"truncate",children:ae.phone})]})})]}),a.jsxs("div",{className:"flex gap-1 ml-2",children:[r.allowEdit&&a.jsx(Re,{variant:"ghost",size:"sm",onClick:()=>z(ae),className:"h-8 w-8 p-0",children:a.jsx(pl,{className:"h-4 w-4"})}),r.allowDelete&&a.jsx(Re,{variant:"ghost",size:"sm",onClick:()=>P(ae.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:a.jsx(ud,{className:"h-4 w-4"})})]})]})}),a.jsx(gt,{className:"pt-0",children:a.jsxs("div",{className:"space-y-3",children:[ae.address&&a.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[a.jsx(sf,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"line-clamp-2",children:ae.address})]}),ae.payment_day&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(oc,{className:"h-4 w-4"}),a.jsx("span",{className:"capitalize",children:ae.payment_day})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"text-muted-foreground",children:"Active Bills"}),a.jsx("div",{className:"font-medium",children:T})]}),a.jsxs("div",{className:"text-sm text-right",children:[a.jsx("div",{className:"text-muted-foreground",children:"Outstanding"}),a.jsx("div",{className:`font-medium ${O>0?"text-red-600":"text-green-600"}`,children:oe(O)})]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsxs(Re,{variant:"outline",size:"sm",onClick:()=>u(ae),className:"flex-1",children:[a.jsx(mc,{className:"h-4 w-4 mr-1"}),"View Details"]}),r.allowBillManagement&&a.jsxs(Re,{variant:"outline",size:"sm",onClick:()=>$(ae),className:"flex-1",children:[a.jsx(hi,{className:"h-4 w-4 mr-1"}),"Add Bill"]})]})]})})]},ae.id)})}),ie>1&&a.jsx(mt,{children:a.jsx(gt,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",te+1," to ",Math.min(V,Z.length)," of ",Z.length," mahajans"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Re,{variant:"outline",size:"sm",onClick:()=>R(ae=>Math.max(1,ae-1)),disabled:A===1,children:a.jsx(L3,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm",children:["Page ",A," of ",ie]}),a.jsx(Re,{variant:"outline",size:"sm",onClick:()=>R(ae=>Math.min(ie,ae+1)),disabled:A===ie,children:a.jsx(ug,{className:"h-4 w-4"})})]})]})})}),Z.length===0&&a.jsx(mt,{children:a.jsx(gt,{className:"p-6 text-center",children:a.jsx("div",{className:"text-muted-foreground",children:x?"No mahajans found matching your search.":"No mahajans found. Add your first mahajan to get started."})})}),d&&m&&a.jsx(hG,{mahajan:m,open:d,onOpenChange:p,onMahajanUpdated:()=>{M(),e&&e()}}),b&&w&&a.jsx(WP,{mahajan:w,open:b,onOpenChange:v,onBillAdded:()=>{M(),e&&e()}})]})},pG=({onMahajanAdded:e})=>{const{user:t}=vn(),{toast:n}=Nn(),[r,s]=_.useState(!1),[i,o]=_.useState(!1),[l,c]=_.useState({name:"",phone:"",address:"",payment_day:""}),u=async d=>{if(d.preventDefault(),!!t){if(!l.name.trim()){n({variant:"destructive",title:"Validation Error",description:"Mahajan name is required."});return}if(!l.phone.trim()){n({variant:"destructive",title:"Validation Error",description:"Phone number is required."});return}if(!l.address.trim()){n({variant:"destructive",title:"Validation Error",description:"Group Name is required."});return}if(!l.payment_day){n({variant:"destructive",title:"Validation Error",description:"Collection Day is required."});return}o(!0);try{const{error:p}=await Ue.from("mahajans").insert({user_id:t.id,name:l.name.trim(),phone:l.phone.trim(),address:l.address.trim(),payment_day:l.payment_day});if(p)throw p;n({title:"Mahajan added",description:"The mahajan has been successfully added."}),c({name:"",phone:"",address:"",payment_day:""}),s(!1),e&&e()}catch(p){console.error("Error adding mahajan:",p),n({variant:"destructive",title:"Error",description:"Failed to add mahajan. Please try again."})}finally{o(!1)}}};return a.jsxs(os,{open:r,onOpenChange:s,children:[a.jsx(S0,{asChild:!0,children:a.jsxs(Re,{children:[a.jsx(hi,{className:"h-4 w-4 mr-2"}),"Add Mahajan"]})}),a.jsxs(Yr,{className:"sm:max-w-[425px]",children:[a.jsx(Xr,{children:a.jsx(Jr,{children:"Add New Mahajan"})}),a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"name",children:"Name *"}),a.jsx(Ge,{id:"name",type:"text",placeholder:"Enter mahajan name",value:l.name,onChange:d=>c({...l,name:d.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"phone",children:"Phone Number *"}),a.jsx(Ge,{id:"phone",type:"tel",placeholder:"Enter phone number",value:l.phone,onChange:d=>c({...l,phone:d.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"address",children:"Group Name *"}),a.jsx(_d,{id:"address",placeholder:"Enter mahajan address",value:l.address,onChange:d=>c({...l,address:d.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{children:"Payment Day *"}),a.jsxs(yn,{value:l.payment_day,onValueChange:d=>c({...l,payment_day:d}),required:!0,children:[a.jsx(pn,{children:a.jsx(xn,{placeholder:"Select collection day"})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"sunday",children:"Sunday"}),a.jsx(ze,{value:"monday",children:"Monday"}),a.jsx(ze,{value:"tuesday",children:"Tuesday"}),a.jsx(ze,{value:"wednesday",children:"Wednesday"}),a.jsx(ze,{value:"thursday",children:"Thursday"}),a.jsx(ze,{value:"friday",children:"Friday"}),a.jsx(ze,{value:"saturday",children:"Saturday"})]})]})]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"* All fields are required"}),a.jsx(Re,{type:"submit",className:"w-full",disabled:i,children:i?"Adding...":"Add Mahajan"})]})]})]})},mG=()=>{const{user:e}=vn(),{toast:t}=Nn(),[n,r]=_.useState(!0),[s,i]=_.useState(""),[o,l]=_.useState(""),[c,u]=_.useState("all"),[d,p]=_.useState([]),[m,h]=_.useState(new Map);_.useEffect(()=>{if(e){const D=new Date,A=new Date(D.getFullYear(),D.getMonth(),1),R=new Date(D.getFullYear(),D.getMonth()+1,0);i(A.toISOString().split("T")[0]),l(R.toISOString().split("T")[0]),b(A.toISOString().split("T")[0],R.toISOString().split("T")[0])}},[e]);const b=async(D,A,R)=>{if(!e)return;const L=D||s,C=A||o,M=R||c,E=`${L}-${C}-${M}`;if(m.has(E)){p(m.get(E)),r(!1);return}r(!0);try{let P=Ue.from("mahajans").select(`
          id,
          name,
          phone,
          bills!inner(
            id,
            bill_amount,
            is_active,
            bill_transactions(
              id,
              amount,
              payment_date
            )
          )
        `).eq("user_id",e.id);M==="active"?P=P.eq("bills.is_active",!0):M==="closed"&&(P=P.eq("bills.is_active",!1));const{data:z,error:$}=await P;if($)throw $;const Z=(z||[]).map(te=>{const V=te.bills||[],G=V.length,oe=V.filter(le=>le.is_active).length,ae=V.reduce((le,ue)=>le+Number(ue.bill_amount),0),O=V.flatMap(le=>le.bill_transactions||[]),T=O.reduce((le,ue)=>le+Number(ue.amount),0),U=ae-T,W=O.length>0?O.sort((le,ue)=>new Date(ue.payment_date).getTime()-new Date(le.payment_date).getTime())[0].payment_date:void 0,Q=O.length>0?T/O.length:0,Y=O.length;return{mahajan_id:te.id,mahajan_name:te.name,mahajan_phone:te.phone,total_bills:G,active_bills:oe,total_bill_amount:ae,total_paid_amount:T,outstanding_balance:U,last_payment_date:W,avg_payment_amount:Q,payment_frequency:Y}});let ie=Z;L&&C&&(ie=Z.filter(te=>{if(te.last_payment_date){const V=new Date(te.last_payment_date),G=new Date(L),oe=new Date(C);return V>=G&&V<=oe}return!1})),h(te=>new Map(te).set(E,ie)),p(ie)}catch(P){console.error("Error fetching mahajan summary:",P),t({variant:"destructive",title:"Error",description:"Failed to fetch mahajan summary data"})}finally{r(!1)}},v=()=>{b()},w=()=>{h(new Map),b()},y=D=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(D),x=D=>new Date(D).toLocaleDateString("en-IN"),S=()=>{const D=["Mahajan Name","Phone","Total Bills","Active Bills","Total Bill Amount","Total Paid Amount","Outstanding Balance","Last Payment Date","Avg Payment Amount","Payment Frequency"],A=d.map(E=>[E.mahajan_name,E.mahajan_phone||"",E.total_bills,E.active_bills,E.total_bill_amount,E.total_paid_amount,E.outstanding_balance,E.last_payment_date?x(E.last_payment_date):"",E.avg_payment_amount,E.payment_frequency]),R=[D,...A].map(E=>E.map(P=>`"${P}"`).join(",")).join(`
`),L=new Blob([R],{type:"text/csv"}),C=window.URL.createObjectURL(L),M=document.createElement("a");M.href=C,M.download=`mahajan-summary-${s}-to-${o}.csv`,document.body.appendChild(M),M.click(),document.body.removeChild(M),window.URL.revokeObjectURL(C),t({title:"CSV Downloaded",description:"Mahajan summary has been downloaded as CSV."})},k=d.reduce((D,A)=>({totalBills:D.totalBills+A.total_bills,activeBills:D.activeBills+A.active_bills,totalBillAmount:D.totalBillAmount+A.total_bill_amount,totalPaidAmount:D.totalPaidAmount+A.total_paid_amount,outstandingBalance:D.outstandingBalance+A.outstanding_balance}),{totalBills:0,activeBills:0,totalBillAmount:0,totalPaidAmount:0,outstandingBalance:0});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(mt,{children:[a.jsx($t,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(zt,{className:"flex items-center gap-2",children:[a.jsx($x,{className:"h-5 w-5"}),"Mahajan Summary Report"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Re,{variant:"outline",size:"sm",onClick:w,disabled:n,children:a.jsx(I3,{className:`h-4 w-4 ${n?"animate-spin":""}`})}),a.jsxs(Re,{variant:"outline",size:"sm",onClick:S,disabled:n||d.length===0,children:[a.jsx(ol,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]})}),a.jsx(gt,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"From Date"}),a.jsx(Ge,{type:"date",value:s,onChange:D=>i(D.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"To Date"}),a.jsx(Ge,{type:"date",value:o,onChange:D=>l(D.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Bill Status"}),a.jsxs(yn,{value:c,onValueChange:D=>{u(D),b(void 0,void 0,D)},children:[a.jsx(pn,{children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"all",children:"All Bills"}),a.jsx(ze,{value:"active",children:"Active Bills"}),a.jsx(ze,{value:"closed",children:"Closed Bills"})]})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx(Re,{onClick:v,className:"w-full",disabled:n,children:"Apply Filters"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs(mt,{children:[a.jsx($t,{className:"pb-2",children:a.jsx(zt,{className:"text-sm font-medium",children:"Total Mahajans"})}),a.jsx(gt,{children:a.jsx("div",{className:"text-2xl font-bold",children:d.length})})]}),a.jsxs(mt,{children:[a.jsx($t,{className:"pb-2",children:a.jsx(zt,{className:"text-sm font-medium",children:"Total Bills"})}),a.jsx(gt,{children:a.jsx("div",{className:"text-2xl font-bold",children:k.totalBills})})]}),a.jsxs(mt,{children:[a.jsx($t,{className:"pb-2",children:a.jsx(zt,{className:"text-sm font-medium",children:"Total Bill Amount"})}),a.jsx(gt,{children:a.jsx("div",{className:"text-2xl font-bold",children:y(k.totalBillAmount)})})]}),a.jsxs(mt,{children:[a.jsx($t,{className:"pb-2",children:a.jsx(zt,{className:"text-sm font-medium",children:"Total Paid"})}),a.jsx(gt,{children:a.jsx("div",{className:"text-2xl font-bold text-green-600",children:y(k.totalPaidAmount)})})]}),a.jsxs(mt,{children:[a.jsx($t,{className:"pb-2",children:a.jsx(zt,{className:"text-sm font-medium",children:"Outstanding"})}),a.jsx(gt,{children:a.jsx("div",{className:"text-2xl font-bold text-red-600",children:y(k.outstandingBalance)})})]})]}),a.jsxs(mt,{children:[a.jsx($t,{children:a.jsx(zt,{children:"Mahajan Details"})}),a.jsx(gt,{children:n?a.jsx("div",{className:"text-center py-8",children:"Loading mahajan summary..."}):d.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No mahajan data found for the selected criteria"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(qf,{children:[a.jsx(Wf,{children:a.jsxs(Ya,{children:[a.jsx(Gt,{children:"Mahajan"}),a.jsx(Gt,{children:"Phone"}),a.jsx(Gt,{className:"text-center",children:"Total Bills"}),a.jsx(Gt,{className:"text-center",children:"Active Bills"}),a.jsx(Gt,{className:"text-right",children:"Bill Amount"}),a.jsx(Gt,{className:"text-right",children:"Paid Amount"}),a.jsx(Gt,{className:"text-right",children:"Outstanding"}),a.jsx(Gt,{className:"text-center",children:"Last Payment"}),a.jsx(Gt,{className:"text-center",children:"Avg Payment"}),a.jsx(Gt,{className:"text-center",children:"Payments"})]})}),a.jsx(Hf,{children:d.map(D=>a.jsxs(Ya,{children:[a.jsx(Kt,{className:"font-medium",children:D.mahajan_name}),a.jsx(Kt,{children:D.mahajan_phone||"-"}),a.jsx(Kt,{className:"text-center",children:D.total_bills}),a.jsx(Kt,{className:"text-center",children:a.jsx(Un,{variant:D.active_bills>0?"default":"secondary",children:D.active_bills})}),a.jsx(Kt,{className:"text-right",children:y(D.total_bill_amount)}),a.jsx(Kt,{className:"text-right text-green-600",children:y(D.total_paid_amount)}),a.jsx(Kt,{className:"text-right",children:a.jsx("span",{className:D.outstanding_balance>0?"text-red-600 font-medium":"text-green-600",children:y(D.outstanding_balance)})}),a.jsx(Kt,{className:"text-center",children:D.last_payment_date?x(D.last_payment_date):"-"}),a.jsx(Kt,{className:"text-center",children:y(D.avg_payment_amount)}),a.jsx(Kt,{className:"text-center",children:D.payment_frequency})]},D.mahajan_id))})]})})})]})]})},HP=({message:e="Loading...",size:t="md"})=>{const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] space-y-4",children:[a.jsx(RI,{className:`${n[t]} animate-spin text-primary`}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e})]})},gG=()=>{const{user:e,signOut:t,loading:n}=vn(),r=Qa(),{toast:s}=Nn(),{settings:i}=Oi(),[o,l]=_.useState({activeLoans:0,todaysCollection:0,thisMonthDisbursed:0}),[c,u]=_.useState(!1),[d,p]=_.useState("customers"),[m,h]=_.useState({loans:!0,customers:!0,mahajans:!0,daywise:!0,payments:!0}),b=async()=>{if(e)try{const{data:y,error:x}=await Ue.from("user_settings").select("visible_tabs").eq("user_id",e.id).maybeSingle();if(x){console.error("Error fetching tab settings:",x);return}if(y){const S=y.visible_tabs,k={...S,mahajans:S.mahajans!==void 0?S.mahajans:!0};h(k)}else{const S={loans:!0,customers:!0,mahajans:!0,daywise:!0,payments:!0},{error:k}=await Ue.from("user_settings").insert({user_id:e.id,visible_tabs:S});k?console.error("Error creating default settings:",k):h(S)}}catch(y){console.error("Error in fetchTabSettings:",y)}},v=async()=>{if(e)try{const{data:y}=await Ue.from("loans").select("is_active").eq("user_id",e.id),x=(y==null?void 0:y.filter(E=>E.is_active).length)||0,S=new Date().toISOString().split("T")[0],{data:k}=await Ue.from("loan_transactions").select("amount, loans!inner(user_id)").eq("loans.user_id",e.id).gte("created_at",`${S}T00:00:00.000Z`).lt("created_at",`${S}T23:59:59.999Z`),D=(k==null?void 0:k.reduce((E,P)=>E+Number(P.amount),0))||0,A=new Date,R=new Date(A.getFullYear(),A.getMonth(),1).toISOString(),L=new Date(A.getFullYear(),A.getMonth()+1,0,23,59,59,999).toISOString(),{data:C}=await Ue.from("loans").select("principal_amount").eq("user_id",e.id).gte("created_at",R).lte("created_at",L),M=(C==null?void 0:C.reduce((E,P)=>E+Number(P.principal_amount),0))||0;l({activeLoans:x,todaysCollection:D,thisMonthDisbursed:M})}catch(y){console.error("Error fetching stats:",y)}},w=async()=>{try{console.log("Dashboard: Starting sign out..."),await t(),console.log("Dashboard: Sign out completed, redirecting to auth page..."),setTimeout(()=>{r("/auth",{replace:!0})},100)}catch(y){console.error("Dashboard: Sign out error:",y),s({title:"Error",description:"Failed to sign out",variant:"destructive"})}};return _.useEffect(()=>{e&&b()},[e]),_.useEffect(()=>{v()},[e]),n?a.jsx(HP,{message:"Initializing your dashboard...",size:"lg"}):e?a.jsx(bk,{children:a.jsxs("div",{className:"min-h-screen flex w-full overflow-x-hidden",children:[a.jsx(X$,{onSettingsClick:()=>r("/settings"),onProfileClick:()=>r("/profile")}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsx("div",{className:"border-b bg-card",children:a.jsx("div",{className:"w-full px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[a.jsx(Sk,{}),a.jsx(O3,{className:"h-6 w-6 sm:h-8 sm:w-8 text-primary"}),a.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold truncate",children:"Griha Sajjwa 1.0"})]}),a.jsxs(Re,{variant:"outline",onClick:w,className:"text-xs sm:text-sm",children:[a.jsx(OI,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Sign Out"}),a.jsx("span",{className:"sm:hidden",children:"Out"})]})]})})}),a.jsxs("div",{className:"w-full px-4 py-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 mb-6",children:[a.jsxs(mt,{className:"p-3 sm:p-4",children:[a.jsxs($t,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-0",children:[a.jsx(zt,{className:"text-xs sm:text-sm font-medium truncate",children:"Today's Collection"}),a.jsx(II,{className:"h-3 w-3 sm:h-4 sm:w-4 text-purple-600 flex-shrink-0"})]}),a.jsx(gt,{className:"p-0 pt-2",children:a.jsxs("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-purple-600 truncate",children:["",o.todaysCollection.toFixed(2)]})})]}),a.jsxs(mt,{className:"p-3 sm:p-4",children:[a.jsxs($t,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-0",children:[a.jsx(zt,{className:"text-xs sm:text-sm font-medium truncate",children:"This Month Disbursed"}),a.jsx(BI,{className:"h-3 w-3 sm:h-4 sm:w-4 text-indigo-600 flex-shrink-0"})]}),a.jsx(gt,{className:"p-0 pt-2",children:a.jsxs("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-indigo-600 truncate",children:["",o.thisMonthDisbursed.toFixed(2)]})})]}),a.jsxs(mt,{className:"p-3 sm:p-4",children:[a.jsxs($t,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-0",children:[a.jsx(zt,{className:"text-xs sm:text-sm font-medium truncate",children:"Active Loans"}),a.jsx(R3,{className:"h-3 w-3 sm:h-4 sm:w-4 text-primary flex-shrink-0"})]}),a.jsx(gt,{className:"p-0 pt-2",children:a.jsx("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold",children:o.activeLoans})})]})]}),a.jsxs(qo,{value:d,onValueChange:p,className:"w-full",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Ba,{className:"grid w-full min-w-max",style:{gridTemplateColumns:`repeat(${Object.values(m).filter(Boolean).length}, 1fr)`},children:[m.loans&&a.jsx(Wn,{value:"loans",className:"text-xs sm:text-sm",children:"Loans"}),m.customers&&a.jsx(Wn,{value:"customers",className:"text-xs sm:text-sm",children:"Customers"}),m.mahajans&&a.jsx(Wn,{value:"mahajans",className:"text-xs sm:text-sm",children:"Mahajans"}),m.daywise&&a.jsx(Wn,{value:"daywise",className:"text-xs sm:text-sm",children:"Collection"}),m.payments&&a.jsx(Wn,{value:"payments",className:"text-xs sm:text-sm",children:"Payments"})]})}),m.loans&&a.jsx(Fn,{value:"loans",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Loans & Lending"}),a.jsxs(Re,{onClick:()=>u(!0),children:[a.jsx(hi,{className:"h-4 w-4 mr-2"}),"Add Loan"]})]}),a.jsxs(qo,{defaultValue:"active",className:"w-full",children:[a.jsxs(Ba,{className:"grid grid-cols-2",children:[a.jsx(Wn,{value:"active",className:"text-xs sm:text-sm",children:"Active Loans"}),a.jsx(Wn,{value:"closed",className:"text-xs sm:text-sm",children:"Closed Loans"})]}),a.jsx(Fn,{value:"active",className:"mt-4",children:a.jsx(AN,{onUpdate:v,status:"active"})}),a.jsx(Fn,{value:"closed",className:"mt-4",children:a.jsx(AN,{onUpdate:v,status:"closed"})})]})]})}),m.customers&&a.jsx(Fn,{value:"customers",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Customers"}),a.jsx(PN,{onCustomerAdded:()=>{window.dispatchEvent(new CustomEvent("refresh-customers"))}})]}),a.jsxs(qo,{defaultValue:"list",className:"w-full",children:[a.jsxs(Ba,{className:`grid ${i.allowPaymentManager?"grid-cols-3":"grid-cols-2"}`,children:[a.jsx(Wn,{value:"list",className:"text-xs sm:text-sm",children:"Customer List"}),a.jsx(Wn,{value:"summary",className:"text-xs sm:text-sm",children:"Summary Report"}),i.allowPaymentManager&&a.jsxs(Wn,{value:"payment-manager",className:"text-xs sm:text-sm",children:[a.jsx("span",{className:"hidden sm:inline",children:"Payment Manager"}),a.jsx("span",{className:"sm:hidden",children:"Payments"})]})]}),a.jsx(Fn,{value:"list",className:"mt-4",children:a.jsx(nG,{onUpdate:v})}),a.jsx(Fn,{value:"summary",className:"mt-4",children:a.jsx(iG,{})}),i.allowPaymentManager&&a.jsx(Fn,{value:"payment-manager",className:"mt-4",children:a.jsx(LN,{})})]})]})}),m.mahajans&&a.jsx(Fn,{value:"mahajans",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Mahajans"}),a.jsx(pG,{onMahajanAdded:()=>{window.dispatchEvent(new CustomEvent("refresh-mahajans"))}})]}),a.jsxs(qo,{defaultValue:"list",className:"w-full",children:[a.jsxs(Ba,{className:`grid ${i.allowPaymentManager,"grid-cols-2"}`,children:[a.jsx(Wn,{value:"list",className:"text-xs sm:text-sm",children:"Mahajan List"}),a.jsx(Wn,{value:"summary",className:"text-xs sm:text-sm",children:"Summary Report"})]}),a.jsx(Fn,{value:"list",className:"mt-4",children:a.jsx(fG,{onUpdate:v})}),a.jsx(Fn,{value:"summary",className:"mt-4",children:a.jsx(mG,{})}),i.allowPaymentManager&&a.jsx(Fn,{value:"payment-manager",className:"mt-4",children:a.jsx(LN,{})})]})]})}),m.daywise&&a.jsxs(Fn,{value:"daywise",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0",children:[a.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Daywise Payment Schedule"}),a.jsx(PN,{onCustomerAdded:()=>{window.dispatchEvent(new CustomEvent("refresh-customers"))}})]}),a.jsx(aG,{onUpdate:v})]}),m.payments&&a.jsxs(Fn,{value:"payments",className:"space-y-4 mt-4",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0",children:a.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Date-wise Payment Records"})}),a.jsx(oG,{onUpdate:v})]})]})]})]}),a.jsx(Tw,{open:c,onOpenChange:u,onLoanAdded:()=>{v(),window.dispatchEvent(new CustomEvent("refresh-loans"))}})]})}):a.jsx(o0,{to:"/auth",replace:!0})};var I0="Switch",[vG,vK]=Ys(I0),[yG,xG]=vG(I0),VP=_.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...p}=e,[m,h]=_.useState(null),b=en(t,S=>h(S)),v=_.useRef(!1),w=m?d||!!m.closest("form"):!0,[y,x]=da({prop:s,defaultProp:i??!1,onChange:u,caller:I0});return a.jsxs(yG,{scope:n,checked:y,disabled:l,children:[a.jsx(_t.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":XP(y),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:b,onClick:wt(e.onClick,S=>{x(k=>!k),w&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),w&&a.jsx(YP,{control:m,bubbles:!v.current,name:r,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});VP.displayName=I0;var GP="SwitchThumb",KP=_.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=xG(GP,n);return a.jsx(_t.span,{"data-state":XP(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});KP.displayName=GP;var wG="SwitchBubbleInput",YP=_.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const o=_.useRef(null),l=en(o,i),c=N0(n),u=Zg(t);return _.useEffect(()=>{const d=o.current;if(!d)return;const p=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==n&&h){const b=new Event("click",{bubbles:r});h.call(d,n),d.dispatchEvent(b)}},[c,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});YP.displayName=wG;function XP(e){return e?"checked":"unchecked"}var JP=VP,bG=KP;const Fm=_.forwardRef(({className:e,...t},n)=>a.jsx(JP,{className:qe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:a.jsx(bG,{className:qe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Fm.displayName=JP.displayName;var Iw="Radio",[_G,QP]=Ys(Iw),[SG,NG]=_G(Iw),ZP=_.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[p,m]=_.useState(null),h=en(t,w=>m(w)),b=_.useRef(!1),v=p?u||!!p.closest("form"):!0;return a.jsxs(SG,{scope:n,checked:s,disabled:o,children:[a.jsx(_t.button,{type:"button",role:"radio","aria-checked":s,"data-state":r6(s),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:h,onClick:wt(e.onClick,w=>{s||c==null||c(),v&&(b.current=w.isPropagationStopped(),b.current||w.stopPropagation())})}),v&&a.jsx(n6,{control:p,bubbles:!b.current,name:r,value:l,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});ZP.displayName=Iw;var e6="RadioIndicator",t6=_.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,i=NG(e6,n);return a.jsx(Ja,{present:r||i.checked,children:a.jsx(_t.span,{"data-state":r6(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});t6.displayName=e6;var jG="RadioBubbleInput",n6=_.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const o=_.useRef(null),l=en(o,i),c=N0(n),u=Zg(t);return _.useEffect(()=>{const d=o.current;if(!d)return;const p=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==n&&h){const b=new Event("click",{bubbles:r});h.call(d,n),d.dispatchEvent(b)}},[c,n,r]),a.jsx(_t.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});n6.displayName=jG;function r6(e){return e?"checked":"unchecked"}var EG=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],R0="RadioGroup",[CG,yK]=Ys(R0,[m0,QP]),s6=m0(),i6=QP(),[kG,AG]=CG(R0),a6=_.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:p,...m}=e,h=s6(n),b=p0(u),[v,w]=da({prop:i,defaultProp:s??null,onChange:p,caller:R0});return a.jsx(kG,{scope:n,name:r,required:o,disabled:l,value:v,onValueChange:w,children:a.jsx(NC,{asChild:!0,...h,orientation:c,dir:b,loop:d,children:a.jsx(_t.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:b,...m,ref:t})})})});a6.displayName=R0;var o6="RadioGroupItem",l6=_.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,i=AG(o6,n),o=i.disabled||r,l=s6(n),c=i6(n),u=_.useRef(null),d=en(t,u),p=i.value===s.value,m=_.useRef(!1);return _.useEffect(()=>{const h=v=>{EG.includes(v.key)&&(m.current=!0)},b=()=>m.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",b)}},[]),a.jsx(jC,{asChild:!0,...l,focusable:!o,active:p,children:a.jsx(ZP,{disabled:o,required:i.required,checked:p,...c,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:wt(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:wt(s.onFocus,()=>{var h;m.current&&((h=u.current)==null||h.click())})})})});l6.displayName=o6;var PG="RadioGroupIndicator",c6=_.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=i6(n);return a.jsx(t6,{...s,...r,ref:t})});c6.displayName=PG;var u6=a6,d6=l6,LG=c6;const h6=_.forwardRef(({className:e,...t},n)=>a.jsx(u6,{className:qe("grid gap-2",e),...t,ref:n}));h6.displayName=u6.displayName;const B2=_.forwardRef(({className:e,...t},n)=>a.jsx(d6,{ref:n,className:qe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(LG,{className:"flex items-center justify-center",children:a.jsx(TI,{className:"h-2.5 w-2.5 fill-current text-current"})})}));B2.displayName=d6.displayName;const TG=()=>{const{user:e}=vn(),{toast:t}=Nn(),n=Qa(),{refreshSettings:r}=Oi(),[s,i]=_.useState({loans:!0,customers:!0,mahajans:!0,daywise:!0,payments:!0}),[o,l]=_.useState({allowEdit:!0,allowDelete:!0,allowAddNew:!0,allowExport:!0,showFinancialTotals:!0,allowBulkOperations:!0,allowAddPayment:!0,allowPaymentManager:!0,allowRecordPayment:!0,allowEmailChange:!0,allowBillManagement:!0,allowMahajanDeletion:!0}),[c,u]=_.useState(!1),[d,p]=_.useState(!0),[m,h]=_.useState(!1),[b,v]=_.useState(""),[w,y]=_.useState(!1),[x,S]=_.useState("direct"),[k,D]=_.useState(!1),[A,R]=_.useState(!0),[L,C]=_.useState(""),[M,E]=_.useState(!1),[P,z]=_.useState("employee");_.useEffect(()=>{e?(V(),Z(),sessionStorage.getItem("settingsPasswordVerified")==="true"&&(D(!0),R(!1))):p(!1)},[e]),_.useEffect(()=>{console.log("=== SETTINGS ACCESS LOGIC ==="),console.log("User role:",P),console.log("User:",e==null?void 0:e.email),P==="admin"?(console.log(" ADMIN: Direct access granted"),D(!0),R(!1)):P==="employee"?(console.log(" EMPLOYEE: Checking password verification"),sessionStorage.getItem("settingsPasswordVerified")==="true"?(console.log(" Password already verified in session"),D(!0),R(!1)):(console.log(" Password required"),D(!1),R(!0))):(console.log(" Unknown role:",P),D(!1),R(!0))},[P]),_.useEffect(()=>()=>{sessionStorage.removeItem("settingsPasswordVerified")},[]);const $=T=>{sessionStorage.removeItem("settingsPasswordVerified"),n(T)},Z=async()=>{if(e){console.log("Fetching user role for user:",e.id,e.email);try{const{data:T,error:U}=await Ue.from("profiles").select("user_role").eq("user_id",e.id).single();U?(console.error("Error fetching user role:",U),console.log("Database Error details:",U),e.email==="fakiragram@grihasajjwa.com"?(console.log(" EMERGENCY: Known admin email detected, forcing admin role"),z("admin")):z("employee")):(console.log("Database result:",T),console.log("Setting user role to:",(T==null?void 0:T.user_role)||"employee"),z((T==null?void 0:T.user_role)||"employee"))}catch(T){console.error("Error in fetchUserRole:",T),e.email==="fakiragram@grihasajjwa.com"?(console.log(" EMERGENCY: Known admin email detected, forcing admin role"),z("admin")):z("employee")}}},ie=async()=>{E(!0);try{const{data:T,error:U}=await Ue.from("settings_access_password").select("password_hash").eq("is_active",!0);if(U){console.error("Error fetching password:",U),t({title:"Error",description:"Failed to verify password. Please try again.",variant:"destructive"});return}T.some(Y=>L===Y.password_hash)?(D(!0),R(!1),sessionStorage.setItem("settingsPasswordVerified","true"),t({title:"Access Granted",description:"Password verified successfully"})):(t({title:"Access Denied",description:"Incorrect password. Please try again.",variant:"destructive"}),C(""))}catch{t({title:"Error",description:"An error occurred while verifying password",variant:"destructive"})}finally{E(!1)}},te=T=>{T.key==="Enter"&&ie()},V=async()=>{if(e){p(!0);try{const{data:T,error:U}=await Ue.from("user_settings").select("visible_tabs, control_settings").eq("user_id",e.id).maybeSingle();if(U)if(console.error("Error fetching settings:",U),U.code==="42703")t({title:"Migration Needed",description:"Control settings column missing. Please run the database migration.",variant:"destructive"}),l({allowEdit:!0,allowDelete:!0,allowAddNew:!0,allowExport:!0,showFinancialTotals:!0,allowBulkOperations:!0,allowAddPayment:!0,allowPaymentManager:!0,allowRecordPayment:!0,allowEmailChange:!0});else{t({title:"Error",description:"Failed to load settings",variant:"destructive"});return}if(T){const W=T==null?void 0:T.visible_tabs,Q={...W,mahajans:W.mahajans!==void 0?W.mahajans:!0};i(Q);const Y={allowEdit:!0,allowDelete:!0,allowAddNew:!0,allowExport:!0,showFinancialTotals:!0,allowBulkOperations:!0,allowAddPayment:!0,allowPaymentManager:!0,allowRecordPayment:!0,allowEmailChange:!0,allowBillManagement:!0,allowMahajanDeletion:!0};if(T!=null&&T.control_settings){const le=T.control_settings;l({...Y,...le})}else l(Y)}else{const W={loans:!0,customers:!0,mahajans:!0,daywise:!0,payments:!0},Q={allowEdit:!0,allowDelete:!0,allowAddNew:!0,allowExport:!0,showFinancialTotals:!0,allowBulkOperations:!0,allowAddPayment:!0,allowPaymentManager:!0,allowRecordPayment:!0,allowEmailChange:!0,allowBillManagement:!0,allowMahajanDeletion:!0};i(W),l(Q);const{error:Y}=await Ue.from("user_settings").insert({user_id:e.id,visible_tabs:W});Y&&console.error("Error creating default settings:",Y)}}catch(T){console.error("Unexpected error fetching settings:",T),t({title:"Error",description:"Failed to load settings",variant:"destructive"})}finally{p(!1)}}},G=async T=>{if(!e||c)return;const U={...s,[T]:!s[T]};i(U),u(!0);try{console.log("Updating settings for user:",e.id),console.log("New settings:",U);const{data:W,error:Q}=await Ue.from("user_settings").select("id").eq("user_id",e.id).maybeSingle();if(Q)throw console.error("Error fetching existing settings:",Q),Q;console.log("Existing data:",W);let Y;if(W){const{error:le}=await Ue.from("user_settings").update({visible_tabs:U,updated_at:new Date().toISOString()}).eq("user_id",e.id);Y=le}else{const{error:le}=await Ue.from("user_settings").insert({user_id:e.id,visible_tabs:U});Y=le}Y?(console.error("Settings update error:",Y),i(s),t({title:"Error",description:`Failed to update settings: ${Y.message}`,variant:"destructive"})):t({title:"Success",description:"Settings updated successfully"})}catch(W){console.error("Unexpected error updating settings:",W),i(s),t({title:"Error",description:"An unexpected error occurred while updating settings",variant:"destructive"})}finally{u(!1)}},oe=async T=>{if(!e||c)return;const U={...o,[T]:!o[T]};l(U),u(!0);try{console.log("Updating control settings for user:",e.id),console.log("New control settings:",U);const{data:W,error:Q}=await Ue.from("user_settings").select("id").eq("user_id",e.id).maybeSingle();if(Q)throw console.error("Error fetching existing settings:",Q),Q;if(W){const{error:Y}=await Ue.from("user_settings").update({control_settings:U,updated_at:new Date().toISOString()}).eq("user_id",e.id);if(Y)throw console.error("Error updating control settings:",Y),Y}else{const{error:Y}=await Ue.from("user_settings").insert({user_id:e.id,visible_tabs:s,control_settings:U,updated_at:new Date().toISOString()});if(Y)throw console.error("Error inserting control settings:",Y),Y}t({title:"Success",description:"Control settings updated successfully"}),r()}catch(W){console.error("Unexpected error updating control settings:",W),l(o),W&&typeof W=="object"&&"code"in W&&W.code==="42703"?t({title:"Database Migration Required",description:"The control_settings column needs to be added to your database. Please run the migration.",variant:"destructive"}):t({title:"Error",description:"An unexpected error occurred while updating control settings",variant:"destructive"})}finally{u(!1)}},ae=async()=>{if(!(!e||!b.trim())){y(!0);try{if(x==="direct"){const{error:T}=await Ue.auth.admin.updateUserById(e.id,{email:b.trim()});t(T?{variant:"destructive",title:"Email Change Error",description:T.message}:{title:"Email Updated",description:"Your email address has been updated successfully."})}else{const{error:T}=await Ue.auth.updateUser({email:b.trim()});t(T?{variant:"destructive",title:"Email Change Error",description:T.message}:{title:"Check your email",description:"We've sent a confirmation link to your new email address."})}h(!1),v("")}catch(T){t({variant:"destructive",title:"Email Change Error",description:T.message||"An unexpected error occurred"})}finally{y(!1)}}},O=async()=>{const T={loans:!0,customers:!0,mahajans:!0,daywise:!0,payments:!0},U={allowEdit:!0,allowDelete:!0,allowAddNew:!0,allowExport:!0,showFinancialTotals:!0,allowBulkOperations:!0,allowAddPayment:!0,allowPaymentManager:!0,allowRecordPayment:!0,allowEmailChange:!0,allowBillManagement:!0,allowMahajanDeletion:!0};if(i(T),l(U),!!e)try{const{error:W}=await Ue.from("user_settings").upsert({user_id:e.id,visible_tabs:T,control_settings:U,updated_at:new Date().toISOString()});t(W?{title:"Error",description:"Failed to reset settings",variant:"destructive"}:{title:"Success",description:"Settings reset to defaults"})}catch{t({title:"Error",description:"Failed to reset settings",variant:"destructive"})}};return d?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})}):!k&&P!=="admin"?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx($y,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Settings Access"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Please enter the password to access the Settings page."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"settings-password",children:"Password"}),a.jsx(Ge,{id:"settings-password",type:"password",placeholder:"Enter password",value:L,onChange:T=>C(T.target.value),onKeyPress:te,disabled:M,className:"text-center"})]}),a.jsx(Re,{onClick:ie,disabled:M||!L.trim(),className:"w-full",children:M?"Verifying...":"Access Settings"}),a.jsxs(Re,{variant:"outline",onClick:()=>$("/"),className:"w-full",disabled:M,children:[a.jsx(al,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})]})]})}):a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsxs(Re,{variant:"outline",size:"sm",onClick:()=>$("/"),className:"flex items-center gap-2",children:[a.jsx(al,{className:"h-4 w-4"}),"Back to Dashboard"]}),P==="admin"&&a.jsx(a.Fragment,{children:a.jsxs(Re,{variant:"outline",size:"sm",onClick:()=>n("/password-management"),className:"flex items-center gap-2",children:[a.jsx($y,{className:"h-4 w-4"}),"Manage Access Password"]})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ux,{className:"h-8 w-8 text-primary"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your application preferences"}),P==="admin"&&a.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Admin Access - No password required"})]})]})]}),a.jsxs("div",{className:"max-w-2xl space-y-6",children:[a.jsxs(mt,{children:[a.jsxs($t,{children:[a.jsxs(zt,{className:"flex items-center gap-2",children:[a.jsx(Uy,{className:"h-5 w-5"}),"User Profile Settings"]}),a.jsx(za,{children:"Manage your account information and role"})]}),a.jsx(gt,{className:"space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Oe,{className:"text-base font-medium",children:"Current Email"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.email})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"text-xs px-2 py-1 bg-primary/10 text-primary rounded-full capitalize",children:P})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Oe,{className:"text-base font-medium",children:"Change Email Address"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Update your email address with or without confirmation."})]}),a.jsxs(os,{open:m,onOpenChange:h,children:[a.jsx(S0,{asChild:!0,children:a.jsxs(Re,{variant:"outline",size:"sm",disabled:!o.allowEmailChange,className:"flex items-center gap-2",children:[a.jsx(MI,{className:"h-4 w-4"}),"Change Email"]})}),a.jsxs(Yr,{children:[a.jsxs(Xr,{children:[a.jsx(Jr,{children:"Change Email Address"}),a.jsx(Pc,{children:"Enter your new email address and choose how you want to update it."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"new-email",children:"New Email Address"}),a.jsx(Ge,{id:"new-email",type:"email",placeholder:"Enter new email address",value:b,onChange:T=>v(T.target.value),disabled:w})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Oe,{children:"Change Method"}),a.jsxs(h6,{value:x,onValueChange:T=>S(T),disabled:w,children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(B2,{value:"direct",id:"direct"}),a.jsx(Oe,{htmlFor:"direct",className:"text-sm",children:"Direct change (No confirmation) - Recommended"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(B2,{value:"confirmation",id:"confirmation"}),a.jsx(Oe,{htmlFor:"confirmation",className:"text-sm",children:"Send confirmation link"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:x==="confirmation"?"A confirmation link will be sent to your new email address.":"Email will be changed immediately without confirmation."})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Re,{variant:"outline",onClick:()=>{h(!1),v(""),S("direct")},disabled:w,children:"Cancel"}),a.jsx(Re,{onClick:ae,disabled:w||!b.trim(),children:w?x==="direct"?"Updating...":"Sending...":x==="direct"?"Update Email":"Send Confirmation"})]})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Oe,{className:"text-base font-medium",children:"Email Change Permission"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow users to change their email address"})]}),a.jsx(Fm,{checked:o.allowEmailChange,disabled:c,onCheckedChange:()=>oe("allowEmailChange")})]})]})})]}),a.jsxs(mt,{children:[a.jsxs($t,{children:[a.jsx(zt,{children:"Tab Visibility Settings"}),a.jsx(za,{children:"Control which tabs are visible in the dashboard"})]}),a.jsxs(gt,{className:"space-y-6",children:[a.jsx("div",{className:"grid gap-4",children:Object.entries(s).map(([T,U])=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Oe,{htmlFor:T,className:"capitalize text-base font-medium",children:T==="daywise"?"Daywise Payment":T}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[T==="loans"&&"Manage loans and repayments",T==="customers"&&"Customer management and details",T==="mahajans"&&"Mahajan management and bill tracking",T==="daywise"&&"Daily payment schedule overview",T==="payments"&&"Payment history and tracking"]})]}),a.jsx(Fm,{id:T,checked:U,disabled:c,onCheckedChange:()=>G(T)})]},T))}),a.jsx("div",{className:"pt-4 border-t",children:a.jsx(Re,{variant:"outline",onClick:O,disabled:c,className:"w-full",children:"Reset to Defaults"})})]})]}),a.jsxs(mt,{children:[a.jsxs($t,{children:[a.jsx(zt,{children:"Controller Settings"}),a.jsx(za,{children:"Control the visibility of edit, delete, and other operations throughout the application"})]}),a.jsx(gt,{children:a.jsx("div",{className:"space-y-6",children:a.jsx("div",{className:"grid gap-4",children:Object.entries(o).map(([T,U])=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Oe,{htmlFor:T,className:"capitalize text-base font-medium",children:[T==="allowEdit"&&"Edit Operations",T==="allowDelete"&&"Delete Operations",T==="allowAddNew"&&"Add New Items",T==="allowExport"&&"Export Functions",T==="showFinancialTotals"&&"Financial Totals Display",T==="allowBulkOperations"&&"Bulk Operations",T==="allowAddPayment"&&"Add Payment Operations",T==="allowPaymentManager"&&"Payment Manager Tab",T==="allowRecordPayment"&&"Record Payment Button",T==="allowEmailChange"&&"Email Change Permission",T==="allowBillManagement"&&"Bill Management Operations",T==="allowMahajanDeletion"&&"Mahajan Deletion Permission"]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[T==="allowEdit"&&"Show/hide edit buttons and modify forms throughout the app",T==="allowDelete"&&"Show/hide delete buttons and remove data functionality",T==="allowAddNew"&&"Show/hide add buttons and create new records",T==="allowExport"&&"Enable/disable CSV export, PDF generation, and data downloads",T==="showFinancialTotals"&&"Display/hide financial summaries and totals in reports",T==="allowBulkOperations"&&"Enable/disable multi-record operations and batch actions",T==="allowAddPayment"&&"Show/hide Add Payment buttons in loan lists and payment forms",T==="allowPaymentManager"&&"Show/hide Payment Manager tab in Customers section",T==="allowRecordPayment"&&"Show/hide Record Payment button in loan details and payment dialogs",T==="allowEmailChange"&&"Enable/disable email change functionality for users",T==="allowBillManagement"&&"Show/hide bill management features in Mahajan section",T==="allowMahajanDeletion"&&"Enable/disable mahajan deletion functionality"]})]}),a.jsx(Fm,{id:T,checked:U,disabled:c,onCheckedChange:()=>oe(T)})]},T))})})})]})]})]})})},IG=()=>{const e=Qa(),{user:t}=vn(),{toast:n}=Nn(),[r,s]=_.useState(!0),[i,o]=_.useState(!1),[l,c]=_.useState(!1),[u,d]=_.useState(null),[p,m]=_.useState({full_name:"",email:""});_.useEffect(()=>{t&&h()},[t]);const h=async()=>{var x,S,k;if(t){s(!0);try{const D={id:t.id,email:t.email||"",full_name:((x=t.user_metadata)==null?void 0:x.full_name)||"",avatar_url:((S=t.user_metadata)==null?void 0:S.avatar_url)||"",created_at:t.created_at||new Date().toISOString()};d(D),m({full_name:((k=t.user_metadata)==null?void 0:k.full_name)||"",email:t.email||""})}catch(D){console.error("Error setting up profile:",D),d({id:t.id,email:t.email||"",full_name:"",avatar_url:"",created_at:new Date().toISOString()}),m({full_name:"",email:t.email||""})}finally{s(!1)}}},b=async()=>{if(!(!t||!u)){o(!0);try{const{data:x,error:S}=await Ue.auth.updateUser({data:{full_name:p.full_name.trim()}});if(S)throw S;n({title:"Success",description:"Profile updated successfully"}),c(!1),h()}catch(x){console.error("Error updating profile:",x),n({title:"Error",description:"Failed to update profile",variant:"destructive"})}finally{o(!1)}}},v=()=>{c(!0)},w=()=>{c(!1),u&&m({full_name:u.full_name||"",email:u.email||(t==null?void 0:t.email)||""})},y=(x,S)=>x?x.split(" ").map(k=>k[0]).join("").toUpperCase().slice(0,2):S?S[0].toUpperCase():"U";return r?a.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"flex items-center gap-4 mb-8",children:a.jsxs(Re,{variant:"ghost",size:"sm",onClick:()=>e("/"),children:[a.jsx(al,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading profile..."})]})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(Re,{variant:"ghost",size:"sm",onClick:()=>e("/"),children:[a.jsx(al,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Profile"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your account information"})]})]})}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[a.jsx("div",{className:"md:col-span-1",children:a.jsxs(mt,{children:[a.jsxs($t,{children:[a.jsx(zt,{children:"Profile Picture"}),a.jsx(za,{children:"Your avatar across the platform"})]}),a.jsxs(gt,{className:"text-center",children:[a.jsxs(mw,{className:"h-32 w-32 mx-auto mb-4",children:[a.jsx(Bk,{src:(u==null?void 0:u.avatar_url)||""}),a.jsx(gw,{className:"text-2xl",children:y(u==null?void 0:u.full_name,u==null?void 0:u.email)})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:(u==null?void 0:u.full_name)||"No name set"}),a.jsxs(Re,{variant:"outline",size:"sm",disabled:!0,children:[a.jsx(hg,{className:"h-4 w-4 mr-2"}),"Change Avatar"]})]})]})}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs(mt,{children:[a.jsx($t,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(zt,{children:"Account Information"}),a.jsx(za,{children:"Manage your personal details"})]}),a.jsx("div",{className:"flex gap-2",children:!l&&a.jsxs(Re,{variant:"outline",size:"sm",onClick:v,children:[a.jsx(pl,{className:"h-4 w-4 mr-2"}),"Edit"]})})]})}),a.jsxs(gt,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"full_name",children:"Full Name"}),a.jsx(Ge,{id:"full_name",value:p.full_name,onChange:x=>m({...p,full_name:x.target.value}),placeholder:"Enter your full name",disabled:!l})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"email",children:"Email Address"}),a.jsx(Ge,{id:"email",type:"email",value:p.email,placeholder:"Your login email",disabled:!0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Email cannot be changed for security reasons. If email change is required, contact app authority at"," ",a.jsx("a",{href:"mailto:nsutradhar.cob@gmail.com",className:"text-primary hover:underline font-medium",children:"nsutradhar.cob@gmail.com"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"user_id",children:"User ID"}),a.jsx(Ge,{id:"user_id",value:(u==null?void 0:u.id)||(t==null?void 0:t.id)||"",disabled:!0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This is your unique user identifier"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"created_at",children:"Member Since"}),a.jsx(Ge,{id:"created_at",value:u!=null&&u.created_at?new Date(u.created_at).toLocaleDateString():"",disabled:!0})]}),l&&a.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[a.jsxs(Re,{onClick:b,disabled:i,children:[a.jsx(FI,{className:"h-4 w-4 mr-2"}),i?"Saving...":"Save Changes"]}),a.jsx(Re,{variant:"outline",onClick:w,disabled:i,children:"Cancel"})]})]})]}),a.jsxs(mt,{className:"mt-6",children:[a.jsxs($t,{children:[a.jsx(zt,{children:"Account Statistics"}),a.jsx(za,{children:"Your activity overview"})]}),a.jsx(gt,{children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u!=null&&u.created_at?Math.floor((Date.now()-new Date(u.created_at).getTime())/(1e3*60*60*24)):0}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Days Active"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:t!=null&&t.email?"Active":"Unknown"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Status"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t!=null&&t.email?"Verified":"Unverified"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Account"})]}),a.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:u!=null&&u.full_name?"Complete":"Incomplete"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Profile"})]})]})})]})]})]})]})})};var O0="Checkbox",[RG,xK]=Ys(O0),[OG,Rw]=RG(O0);function DG(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:p}=e,[m,h]=da({prop:n,defaultProp:s??!1,onChange:c,caller:O0}),[b,v]=_.useState(null),[w,y]=_.useState(null),x=_.useRef(!1),S=b?!!o||!!b.closest("form"):!0,k={checked:m,disabled:i,setChecked:h,control:b,setControl:v,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:rl(s)?!1:s,isFormControl:S,bubbleInput:w,setBubbleInput:y};return a.jsx(OG,{scope:t,...k,children:MG(p)?p(k):r})}var f6="CheckboxTrigger",p6=_.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:p,hasConsumerStoppedPropagationRef:m,isFormControl:h,bubbleInput:b}=Rw(f6,e),v=en(s,d),w=_.useRef(c);return _.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const x=()=>p(w.current);return y.addEventListener("reset",x),()=>y.removeEventListener("reset",x)}},[i,p]),a.jsx(_t.button,{type:"button",role:"checkbox","aria-checked":rl(c)?"mixed":c,"aria-required":u,"data-state":x6(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:v,onKeyDown:wt(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:wt(n,y=>{p(x=>rl(x)?!0:!x),b&&h&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})})});p6.displayName=f6;var Ow=_.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...p}=e;return a.jsx(DG,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>a.jsxs(a.Fragment,{children:[a.jsx(p6,{...p,ref:t,__scopeCheckbox:n}),m&&a.jsx(y6,{__scopeCheckbox:n})]})})});Ow.displayName=O0;var m6="CheckboxIndicator",g6=_.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=Rw(m6,n);return a.jsx(Ja,{present:r||rl(i.checked)||i.checked===!0,children:a.jsx(_t.span,{"data-state":x6(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});g6.displayName=m6;var v6="CheckboxBubbleInput",y6=_.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:p,bubbleInput:m,setBubbleInput:h}=Rw(v6,e),b=en(n,h),v=N0(i),w=Zg(r);_.useEffect(()=>{const x=m;if(!x)return;const S=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(S,"checked").set,A=!s.current;if(v!==i&&D){const R=new Event("click",{bubbles:A});x.indeterminate=rl(i),D.call(x,rl(i)?!1:i),x.dispatchEvent(R)}},[m,v,i,s]);const y=_.useRef(rl(i)?!1:i);return a.jsx(_t.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:p,...t,tabIndex:-1,ref:b,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});y6.displayName=v6;function MG(e){return typeof e=="function"}function rl(e){return e==="indeterminate"}function x6(e){return rl(e)?"indeterminate":e?"checked":"unchecked"}const Dw=_.forwardRef(({className:e,...t},n)=>a.jsx(Ow,{ref:n,className:qe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(g6,{className:qe("flex items-center justify-center text-current"),children:a.jsx(P3,{className:"h-4 w-4"})})}));Dw.displayName=Ow.displayName;const FG=()=>{const{user:e,signIn:t,signUp:n,loading:r}=vn(),{toast:s}=Nn(),[i,o]=_.useState(!1),[l,c]=_.useState(!1),[u,d]=_.useState(""),[p,m]=_.useState(!1),[h,b]=_.useState("signin"),[v,w]=_.useState({email:"",password:""}),[y,x]=_.useState(!1),[S,k]=_.useState({email:"",password:"",fullName:"",confirmPassword:""});if(_.useEffect(()=>{const L=localStorage.getItem("griha-sajjwa-remember-email"),C=localStorage.getItem("griha-sajjwa-remember-password");localStorage.getItem("griha-sajjwa-remember-me")==="true"&&L&&C&&(w({email:L,password:C}),x(!0))},[]),r)return a.jsx(HP,{message:"Loading authentication...",size:"lg"});if(e)return a.jsx(o0,{to:"/",replace:!0});const D=async L=>{L.preventDefault(),o(!0);const{error:C}=await t(v.email,v.password);!C&&y?(localStorage.setItem("griha-sajjwa-remember-email",v.email),localStorage.setItem("griha-sajjwa-remember-password",v.password),localStorage.setItem("griha-sajjwa-remember-me","true")):!C&&!y&&(localStorage.removeItem("griha-sajjwa-remember-email"),localStorage.removeItem("griha-sajjwa-remember-password"),localStorage.removeItem("griha-sajjwa-remember-me")),o(!1)},A=async L=>{if(L.preventDefault(),!S.fullName.trim()){s({variant:"destructive",title:"Validation Error",description:"Please enter your full name."});return}if(!S.email.trim()){s({variant:"destructive",title:"Validation Error",description:"Please enter your email address."});return}if(!S.password){s({variant:"destructive",title:"Validation Error",description:"Please enter a password."});return}if(S.password!==S.confirmPassword){s({variant:"destructive",title:"Password Mismatch",description:"Passwords do not match. Please try again."});return}if(S.password.length<6){s({variant:"destructive",title:"Password Too Short",description:"Password must be at least 6 characters long."});return}o(!0);try{console.log("Attempting signup with:",{email:S.email,fullName:S.fullName});const{error:C}=await n(S.email,S.password,S.fullName);C||k({email:"",password:"",fullName:"",confirmPassword:""})}catch(C){console.error("Signup error:",C),s({variant:"destructive",title:"Signup Error",description:C.message||"An unexpected error occurred"})}finally{o(!1)}},R=async L=>{L.preventDefault(),m(!0);try{const{error:C}=await Ue.auth.resetPasswordForEmail(u,{redirectTo:`${window.location.origin}/`});C?s({variant:"destructive",title:"Error",description:C.message}):(s({title:"Check your email",description:"We've sent you a password reset link."}),c(!1),d(""))}catch(C){s({variant:"destructive",title:"Error",description:C.message})}finally{m(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 to-secondary/10 p-4",children:a.jsxs(mt,{className:"w-full max-w-md",children:[a.jsxs($t,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"p-3 bg-primary rounded-full",children:a.jsx(O3,{className:"h-8 w-8 text-primary-foreground"})})}),a.jsx(zt,{className:"text-2xl font-bold",children:"Welcome to Griha Sajjwa"}),a.jsx(za,{children:"Track your expenses and manage lending with interest calculations"})]}),a.jsx(gt,{children:a.jsxs(qo,{value:h,onValueChange:b,className:"w-full",children:[a.jsxs(Ba,{className:"grid w-full grid-cols-2",children:[a.jsx(Wn,{value:"signin",className:"text-sm",children:"Sign In"}),a.jsx(Wn,{value:"signup",className:"text-sm",children:"Sign Up"})]}),a.jsx(Fn,{value:"signin",className:"mt-6",children:a.jsxs("form",{onSubmit:D,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"signin-email",children:"Email"}),a.jsx(Ge,{id:"signin-email",type:"email",placeholder:"Enter your email",value:v.email,onChange:L=>w({...v,email:L.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"signin-password",children:"Password"}),a.jsx(Ge,{id:"signin-password",type:"password",placeholder:"Enter your password",value:v.password,onChange:L=>w({...v,password:L.target.value}),required:!0})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Dw,{id:"remember-me",checked:y,onCheckedChange:L=>x(L)}),a.jsx(Oe,{htmlFor:"remember-me",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Remember me"})]}),a.jsx(Re,{type:"submit",className:"w-full",disabled:i,children:i?"Signing In...":"Sign In"}),a.jsxs(os,{open:l,onOpenChange:c,children:[a.jsx(S0,{asChild:!0,children:a.jsx(Re,{variant:"link",className:"w-full text-sm",type:"button",children:"Forgot Password?"})}),a.jsxs(Yr,{children:[a.jsxs(Xr,{children:[a.jsx(Jr,{children:"Reset Password"}),a.jsx(Pc,{children:"Enter your email address and we'll send you a password reset link."})]}),a.jsxs("form",{onSubmit:R,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"reset-email",children:"Email"}),a.jsx(Ge,{id:"reset-email",type:"email",placeholder:"Enter your email",value:u,onChange:L=>d(L.target.value),required:!0})]}),a.jsx(Re,{type:"submit",className:"w-full",disabled:p,children:p?"Sending...":"Send Reset Link"})]})]})]})]})}),a.jsx(Fn,{value:"signup",className:"mt-6",children:a.jsxs("form",{onSubmit:A,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"signup-name",children:"Full Name"}),a.jsx(Ge,{id:"signup-name",type:"text",placeholder:"Enter your full name",value:S.fullName,onChange:L=>k({...S,fullName:L.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"signup-email",children:"Email"}),a.jsx(Ge,{id:"signup-email",type:"email",placeholder:"Enter your email",value:S.email,onChange:L=>k({...S,email:L.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"signup-password",children:"Password"}),a.jsx(Ge,{id:"signup-password",type:"password",placeholder:"Create a password",value:S.password,onChange:L=>k({...S,password:L.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"confirm-password",children:"Confirm Password"}),a.jsx(Ge,{id:"confirm-password",type:"password",placeholder:"Confirm your password",value:S.confirmPassword,onChange:L=>k({...S,confirmPassword:L.target.value}),required:!0})]}),S.password!==S.confirmPassword&&S.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",children:"Passwords do not match"}),a.jsx(Re,{type:"submit",className:"w-full",disabled:i||S.password!==S.confirmPassword,children:i?"Creating Account...":"Create Account"})]})})]})})]})})},BG=f0("Share",{web:()=>la(()=>import("./web-COAqIuCN.js"),[]).then(e=>new e.ShareWeb)}),$G=({selectedDay:e})=>{const{user:t}=vn(),{toast:n}=Nn(),r=Qa(),[s]=sM(),i=s.get("day"),[o,l]=_.useState([]),[c,u]=_.useState([]),[d,p]=_.useState(!0),[m,h]=_.useState(""),[b,v]=_.useState("scheduled"),[w,y]=_.useState({}),[x,S]=_.useState({}),[k,D]=_.useState({}),[A,R]=_.useState({}),[L,C]=_.useState({}),M={sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday"};_.useEffect(()=>{t&&E()},[t]);const E=async()=>{try{p(!0);const{data:ee,error:Se}=await Ue.from("customers").select(`
          *,
          loans:loans(id, principal_amount, is_active, interest_rate, interest_type, loan_date)
        `).eq("user_id",t==null?void 0:t.id).order("name");if(Se)throw Se;const{data:ge,error:je}=await Ue.from("loan_transactions").select(`
          *,
          loan:loans!inner(customer_id, user_id)
        `).eq("loan.user_id",t==null?void 0:t.id);if(je)throw je;l(ee||[]),u(ge||[]);const ve={};(ge||[]).forEach(Ne=>{Ne.is_confirmed&&(ve[Ne.id]=!0)}),C(ve)}catch(ee){console.error("Error fetching customers:",ee),n({variant:"destructive",title:"Error",description:"Failed to fetch customers"})}finally{p(!1)}},P=(ee,Se)=>{var Ne,Ee;const je=c.filter(et=>et.loan.customer_id===ee&&et.loan_id===Se).reduce((et,Fe)=>et+Fe.amount,0),ve=(Ee=(Ne=o.find(et=>et.id===ee))==null?void 0:Ne.loans)==null?void 0:Ee.find(et=>et.id===Se);return ve?ve.principal_amount-je:0},z=(ee,Se)=>{if(!ee.interest_rate||ee.interest_type==="none")return 0;const ge=ee.interest_rate/100,je=new Date(ee.loan_date),ve=new Date;if(ee.interest_type==="daily"){const Ne=ve.getTime()-je.getTime(),Ee=Math.ceil(Ne/(1e3*3600*24));return Se*ge*(Ee/365)}else if(ee.interest_type==="monthly"){const Ne=(ve.getFullYear()-je.getFullYear())*12+(ve.getMonth()-je.getMonth()),Ee=(ve.getDate()-je.getDate())/30,et=Ne+Ee;return Se*ge*et}return 0},$=ee=>{var ge;return(((ge=ee.loans)==null?void 0:ge.filter(je=>je.is_active))||[]).reduce((je,ve)=>{const Ne=P(ee.id,ve.id),Ee=z(ve,Ne);return je+Ne+Ee},0)},Z=ee=>{var ge;return(((ge=ee.loans)==null?void 0:ge.filter(je=>je.is_active))||[]).reduce((je,ve)=>{const Ne=ve.interest_type==="monthly"?ve.interest_rate/100:0,Ee=Ne>0?ve.principal_amount*Ne:ve.principal_amount*.05;return je+Ee},0)},ie=ee=>{var ge;return(((ge=ee.loans)==null?void 0:ge.filter(je=>je.is_active))||[]).reduce((je,ve)=>{const Ne=c.filter(Ee=>Ee.loan_id===ve.id);return je+Ne.length},0)},te=ee=>{var ge;return(((ge=ee.loans)==null?void 0:ge.filter(je=>je.is_active))||[]).reduce((je,ve)=>{const Ne=c.filter(Ee=>Ee.loan_id===ve.id);return je+Ne.reduce((Ee,et)=>Ee+et.amount,0)},0)},V=ee=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(ee),G=()=>{const ee=new Date().toISOString().split("T")[0];return o.filter(Se=>{var je;return(((je=Se.loans)==null?void 0:je.filter(ve=>ve.is_active))||[]).some(ve=>c.filter(Ee=>Ee.loan_id===ve.id).some(Ee=>Ee.payment_date===ee))})},oe=()=>{const ee=new Date().toISOString().split("T")[0],Se=G(),ge=Se.reduce((Ie,Ze)=>{var ut;const Xe=(((ut=Ze.loans)==null?void 0:ut.filter(St=>St.is_active))||[]).flatMap(St=>c.filter(Ke=>Ke.loan_id===St.id&&Ke.payment_date===ee));return Ie+Xe.reduce((St,Ke)=>St+Ke.amount,0)},0),je=Se.length,ve=new Date().toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),Ee=o.filter(Ie=>Ie.payment_day===ve).length,et=Se.filter(Ie=>{var St;const Ze=Z(Ie),ut=(((St=Ie.loans)==null?void 0:St.filter(Ke=>Ke.is_active))||[]).flatMap(Ke=>c.filter(vt=>vt.loan_id===Ke.id&&vt.payment_date===ee)).reduce((Ke,vt)=>Ke+vt.amount,0);return Ze>0&&ut<Ze}).length,Fe=Se.filter(Ie=>{var St;const Ze=Z(Ie),ut=(((St=Ie.loans)==null?void 0:St.filter(Ke=>Ke.is_active))||[]).flatMap(Ke=>c.filter(vt=>vt.loan_id===Ke.id&&vt.payment_date===ee)).reduce((Ke,vt)=>Ke+vt.amount,0);return Ze>0&&ut>Ze}).length,ht=o.flatMap(Ie=>{var Ze;return((Ze=Ie.loans)==null?void 0:Ze.filter(At=>At.loan_date===ee&&At.is_active))||[]}).reduce((Ie,Ze)=>Ie+Ze.principal_amount,0),ft=ae();let Qe=0,He=0;return ft.forEach(Ie=>{var St;const Ze=Z(Ie),ut=(((St=Ie.loans)==null?void 0:St.filter(Ke=>Ke.is_active))||[]).flatMap(Ke=>c.filter(vt=>vt.loan_id===Ke.id&&vt.payment_date===ee)).reduce((Ke,vt)=>Ke+vt.amount,0);Ze>0&&ut<Ze&&(Qe+=Ze-ut,He++)}),{totalCollected:ge,customersPaidEMI:je,scheduledCount:Ee,customersPaidLess:et,customersPaidMore:Fe,todayDisbursement:ht,pendingCollectionAmount:Qe,pendingCustomersCount:He}},ae=()=>{const ee=new Date().toISOString().split("T")[0];return o.filter(Se=>{var et;const ge=e||i;if(ge&&Se.payment_day!==ge||(((et=Se.loans)==null?void 0:et.filter(Fe=>Fe.is_active))||[]).some(Fe=>c.filter(ht=>ht.loan_id===Fe.id).some(ht=>ht.payment_date===ee))||$(Se)<=0)return!1;if(!m)return!0;const Ee=m.toLowerCase();return Se.name.toLowerCase().includes(Ee)||Se.phone&&Se.phone.includes(Ee)||Se.address&&Se.address.toLowerCase().includes(Ee)||Se.payment_day&&Se.payment_day.toLowerCase().includes(Ee)})};b==="scheduled"?ae():G();const O=async ee=>{var je,ve;if(!t)return;const Se=w[ee.id];if(!Se||!Se.amount)return;const ge=$(ee);if(!Q(ee.id,Se.amount,ge)){n({variant:"destructive",title:"Invalid Amount",description:A[ee.id]||"Please enter a valid payment amount"});return}try{const Ne=(je=ee.loans)==null?void 0:je.find(et=>et.is_active);if(!Ne){n({variant:"destructive",title:"Error",description:"No active loan found for this customer"});return}const{error:Ee}=await Ue.from("loan_transactions").insert({loan_id:Ne.id,amount:parseFloat(Se.amount),transaction_type:Se.transaction_type,payment_mode:Se.payment_mode,payment_date:new Date().toISOString(),notes:((ve=Se.notes)==null?void 0:ve.trim())||null});if(Ee)throw Ee;n({title:"Payment Recorded",description:`Payment of ${Se.amount} recorded for ${ee.name}`}),y(et=>({...et,[ee.id]:{amount:"",notes:"",transaction_type:"mixed",payment_mode:"cash"}})),v("collected"),E()}catch(Ne){console.error("Error recording payment:",Ne),n({variant:"destructive",title:"Error",description:"Failed to record payment"})}},T=async(ee,Se,ge)=>{var je;if(t)try{if(ge){if(!window.confirm(`Are you sure you want to confirm this transaction for ${(je=o.find(Ee=>Ee.id===ee))==null?void 0:je.name}?

Once confirmed, this transaction cannot be edited.`))return;const{error:Ne}=await Ue.from("loan_transactions").update({is_confirmed:!0,confirmed_at:new Date().toISOString(),confirmed_by:t.id}).eq("id",Se);if(Ne)throw Ne;C(Ee=>({...Ee,[Se]:!0})),n({title:"Transaction Confirmed",description:"This transaction has been confirmed and cannot be edited"})}else{const{error:ve}=await Ue.from("loan_transactions").update({is_confirmed:!1,confirmed_at:null,confirmed_by:null}).eq("id",Se);if(ve)throw ve;C(Ne=>({...Ne,[Se]:!1}))}}catch(ve){console.error("Error confirming transaction:",ve),n({variant:"destructive",title:"Error",description:"Failed to confirm transaction"})}},U=(ee,Se,ge,je)=>{y(ve=>({...ve,[ee]:{...de(ee),[Se]:ge}})),Se==="amount"&&je!==void 0&&Q(ee,ge,je)},W=ee=>{D(Se=>({...Se,[ee]:!Se[ee]}))},Q=(ee,Se,ge)=>{const je=parseFloat(Se);return isNaN(je)||je<=0?(R(ve=>({...ve,[ee]:"Amount must be greater than 0"})),!1):je>ge?(R(ve=>({...ve,[ee]:`Amount cannot exceed outstanding balance of ${ge.toFixed(2)}`})),!1):(R(ve=>({...ve,[ee]:""})),!0)},Y=(ee,Se,ge,je)=>{S(ve=>{var Ne;return{...ve,[ee]:{...ve[ee],[Se]:{...(Ne=ve[ee])==null?void 0:Ne[Se],[ge]:je}}}})},le=(ee,Se)=>{S(ge=>({...ge,[ee]:{...ge[ee],[Se.id]:{amount:Se.amount.toString(),notes:Se.notes||"",transaction_type:Se.transaction_type,payment_mode:Se.payment_mode}}}))},ue=(ee,Se)=>{S(ge=>{const je={...ge};return je[ee]&&(delete je[ee][Se],Object.keys(je[ee]).length===0&&delete je[ee]),je})},pe=async(ee,Se)=>{var je,ve;const ge=(je=x[ee])==null?void 0:je[Se];if(ge)try{const{error:Ne}=await Ue.from("loan_transactions").update({amount:parseFloat(ge.amount),notes:((ve=ge.notes)==null?void 0:ve.trim())||null,transaction_type:ge.transaction_type,payment_mode:ge.payment_mode}).eq("id",Se);if(Ne)throw Ne;n({title:"Payment Updated",description:"Payment has been successfully updated."}),E(),ue(ee,Se)}catch(Ne){console.error("Error updating payment:",Ne),n({variant:"destructive",title:"Error",description:"Failed to update payment. Please try again."})}},de=ee=>w[ee]||{amount:"",notes:"",transaction_type:"mixed",payment_mode:"cash"},ye=(ee,Se,ge,je=8)=>ee.splitTextToSize(Se,ge),Te=()=>{var ge;const ee=G();if(ee.length===0)return!1;const Se=new Date().toISOString().split("T")[0];for(const je of ee){const Ne=(((ge=je.loans)==null?void 0:ge.filter(Ee=>Ee.is_active))||[]).flatMap(Ee=>c.filter(et=>et.loan_id===Ee.id&&et.payment_date===Se));for(const Ee of Ne)if(!L[Ee.id])return!1}return!0},_e=async()=>{try{const ee=new Date,Se=Bn(ee,"dd/MM/yyyy"),ge=oe(),je=G();let ve=` Payment Collection Report - ${Se}

`;ve+=` Total Collected: ${ge.totalCollected.toFixed(2)}
`,ve+=` Customers Paid EMI: ${ge.customersPaidEMI}
`,ve+=` Scheduled for Collection: ${ge.scheduledCount}
`,ve+=` Paid Less than EMI: ${ge.customersPaidLess}
`,ve+=` Paid More than EMI: ${ge.customersPaidMore}
`,ve+=` Today's Loan Disbursement: ${ge.todayDisbursement.toFixed(2)}

`,je.length>0?(ve+=` Collected Customers (${je.length}):
`,je.forEach((Ne,Ee)=>{var He;const et=$(Ne),Fe=Z(Ne),Ye=((He=Ne.loans)==null?void 0:He.filter(Ie=>Ie.is_active))||[],ht=new Date().toISOString().split("T")[0],Qe=Ye.flatMap(Ie=>c.filter(Ze=>Ze.loan_id===Ie.id&&Ze.payment_date===ht)).reduce((Ie,Ze)=>Ie+Ze.amount,0);ve+=`${Ee+1}. ${Ne.name}`,Ne.payment_day&&(ve+=` (${M[Ne.payment_day.toLowerCase()]||Ne.payment_day})`),ve+=`
    ${Ne.phone||"N/A"}`,ve+=`
    Collected: ${Qe.toFixed(2)}`,ve+=`
    Outstanding: ${et.toFixed(2)}`,ve+=`
    EMI: ${Fe.toFixed(2)}

`})):ve+=` No payments collected today.

`,ve+=` Generated by Griha Sajjwa App
`,ve+=` Email: ${(t==null?void 0:t.email)||"N/A"}
`,ve+=` ${Bn(ee,"dd/MM/yyyy HH:mm")}`,await BG.share({title:`Payment Collection Report - ${Se}`,text:ve,dialogTitle:"Share Collection Report"}),n({title:"Share Ready",description:"Collection report is ready to share via WhatsApp, SMS, or other apps."})}catch(ee){console.error("Error sharing collection report:",ee),n({variant:"destructive",title:"Share Error",description:"Failed to share collection report. Please try again."})}},J=()=>{try{const ee=window.open("","_blank");if(!ee){n({variant:"destructive",title:"Print Error",description:"Unable to open print window. Please check your browser settings."});return}const Se=new Date,ge=Bn(Se,"dd/MM/yyyy"),je=oe(),ve=G();let Ne=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Payment Collection Report - ${ge}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 20px;
              color: #333;
            }
            .header {
              text-align: center;
              margin-bottom: 30px;
              border-bottom: 2px solid #333;
              padding-bottom: 20px;
            }
            .header h1 {
              margin: 0;
              font-size: 24px;
              color: #2563eb;
            }
            .header p {
              margin: 5px 0;
              color: #666;
            }
            @media (max-width: 768px) {
              .header {
                margin-top: 80px;
              }
            }
            .summary {
              margin-bottom: 30px;
              background: #f8f9fa;
              padding: 20px;
              border-radius: 8px;
            }
            .summary h2 {
              margin-top: 0;
              color: #2563eb;
              font-size: 18px;
            }
            .summary-grid {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
              gap: 15px;
              margin-top: 15px;
            }
            .summary-item {
              background: white;
              padding: 15px;
              border-radius: 6px;
              border-left: 4px solid #2563eb;
            }
            .summary-item .label {
              font-size: 12px;
              color: #666;
              text-transform: uppercase;
              font-weight: bold;
            }
            .summary-item .value {
              font-size: 18px;
              font-weight: bold;
              color: #333;
              margin-top: 5px;
            }
            .customers-section {
              margin-top: 30px;
            }
            .customers-section h2 {
              color: #2563eb;
              font-size: 18px;
              margin-bottom: 20px;
            }
            .customer-card {
              border: 1px solid #ddd;
              border-radius: 8px;
              padding: 20px;
              margin-bottom: 20px;
              background: white;
            }
            .customer-header {
              display: flex;
              justify-content: space-between;
              align-items: flex-start;
              margin-bottom: 15px;
            }
            .customer-name {
              font-size: 18px;
              font-weight: bold;
              color: #333;
            }
            .customer-badge {
              background: #dcfce7;
              color: #166534;
              padding: 4px 8px;
              border-radius: 4px;
              font-size: 12px;
              font-weight: bold;
            }
            .customer-details {
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
              gap: 10px;
              margin-bottom: 15px;
              font-size: 14px;
              color: #666;
            }
            .payment-info {
              display: flex;
              justify-content: space-between;
              align-items: center;
              background: #f0f9ff;
              padding: 15px;
              border-radius: 6px;
              margin-bottom: 15px;
            }
            .payment-amount {
              font-size: 16px;
              font-weight: bold;
              color: #059669;
            }
            .payment-details {
              font-size: 14px;
              color: #666;
            }
            .payments-list {
              margin-top: 15px;
            }
            .payment-item {
              background: #f0fdf4;
              border: 1px solid #bbf7d0;
              border-radius: 6px;
              padding: 15px;
              margin-bottom: 10px;
            }
            .payment-item-header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 10px;
            }
            .payment-amount-large {
              font-size: 18px;
              font-weight: bold;
              color: #059669;
            }
            .payment-type {
              background: #e0e7ff;
              color: #3730a3;
              padding: 2px 8px;
              border-radius: 4px;
              font-size: 12px;
            }
            .payment-notes {
              font-size: 14px;
              color: #666;
              margin-top: 5px;
            }
            .confirmed-badge {
              background: #dcfce7;
              color: #166534;
              padding: 2px 6px;
              border-radius: 4px;
              font-size: 11px;
              font-weight: bold;
            }
            .no-data {
              text-align: center;
              color: #666;
              font-style: italic;
              padding: 40px;
            }
            .action-buttons {
              position: fixed;
              bottom: 20px;
              left: 50%;
              transform: translateX(-50%);
              display: flex;
              gap: 15px;
              z-index: 1000;
            }
            .action-button {
              background: #2563eb;
              color: white;
              border: none;
              padding: 12px 24px;
              border-radius: 8px;
              cursor: pointer;
              font-size: 14px;
              font-weight: 500;
              box-shadow: 0 2px 8px rgba(0,0,0,0.15);
              transition: all 0.2s ease;
              min-width: 100px;
            }
            .action-button:hover {
              background: #1d4ed8;
              transform: translateY(-2px);
            }
            .action-button:active {
              transform: translateY(0);
            }
            .action-button.close {
              background: #dc2626;
            }
            .action-button.close:hover {
              background: #b91c1c;
            }
            @media (max-width: 768px) {
              .action-buttons {
                bottom: 15px;
                gap: 12px;
              }
              .action-button {
                padding: 14px 20px;
                font-size: 16px;
                min-width: 110px;
              }
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
              .action-buttons { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>Payment Collection Report</h1>
            <p>Email: ${(t==null?void 0:t.email)||"N/A"}</p>
            <p>Date: ${ge}</p>
            <p>Generated on: ${Bn(Se,"dd/MM/yyyy HH:mm")}</p>
          </div>

          <div class="summary">
            <h2>Today's Collection Summary</h2>
            <div class="summary-grid">
              <div class="summary-item">
                <div class="label">Total Collected</div>
                <div class="value">${je.totalCollected.toFixed(2)}</div>
              </div>
              <div class="summary-item">
                <div class="label">Customers Paid EMI</div>
                <div class="value">${je.customersPaidEMI}</div>
              </div>
              <div class="summary-item">
                <div class="label">Scheduled for Collection</div>
                <div class="value">${je.scheduledCount}</div>
              </div>
              <div class="summary-item">
                <div class="label">Paid Less than EMI</div>
                <div class="value">${je.customersPaidLess}</div>
              </div>
              <div class="summary-item">
                <div class="label">Paid More than EMI</div>
                <div class="value">${je.customersPaidMore}</div>
              </div>
              <div class="summary-item">
                <div class="label">Today's Loan Disbursement</div>
                <div class="value">${je.todayDisbursement.toFixed(2)}</div>
              </div>
            </div>
          </div>

          <div class="customers-section">
            <h2>Collected Customers Details</h2>
      `;ve.length===0?Ne+=`
          <div class="no-data">
            No payments collected today.
          </div>
        `:ve.forEach(Ee=>{var He;const et=$(Ee),Fe=Z(Ee),Ye=((He=Ee.loans)==null?void 0:He.filter(Ie=>Ie.is_active))||[],ht=new Date().toISOString().split("T")[0],ft=Ye.flatMap(Ie=>c.filter(Ze=>Ze.loan_id===Ie.id&&Ze.payment_date===ht)),Qe=ft.reduce((Ie,Ze)=>Ie+Ze.amount,0);Ne+=`
            <div class="customer-card">
              <div class="customer-header">
                <div class="customer-name">
                  ${Ee.name}
                  ${Ee.payment_day?`(${M[Ee.payment_day.toLowerCase()]||Ee.payment_day})`:""}
                </div>
                <div class="customer-badge">Collected Today</div>
              </div>
              
              <div class="customer-details">
                ${Ee.phone?`<div> ${Ee.phone}</div>`:""}
                ${Ee.address?`<div> ${Ee.address}</div>`:""}
                <div> ${Ye.length} active loan${Ye.length!==1?"s":""}</div>
              </div>
              
              <div class="payment-info">
                <div>
                  <div class="payment-amount">Collected Today: ${Qe.toFixed(2)}</div>
                  <div class="payment-details">
                    Outstanding: ${et.toFixed(2)} | EMI: ${Fe.toFixed(2)}
                  </div>
                </div>
              </div>
          `,ft.length>0&&(Ne+=`
              <div class="payments-list">
                <h4>Today's Payments:</h4>
            `,ft.forEach(Ie=>{const Ze=L[Ie.id];Ne+=`
                <div class="payment-item">
                  <div class="payment-item-header">
                    <div class="payment-amount-large">${Ie.amount.toFixed(2)}</div>
                    <div>
                      <span class="payment-type">${Ie.transaction_type} - ${Ie.payment_mode}</span>
                      ${Ze?'<span class="confirmed-badge">Confirmed</span>':""}
                    </div>
                  </div>
                  ${Ie.notes?`<div class="payment-notes">${Ie.notes}</div>`:""}
                </div>
              `}),Ne+="</div>"),Ne+="</div>"}),Ne+=`
          </div>
          
          <div class="action-buttons no-print">
            <button class="action-button" onclick="window.print()"> Print</button>
            <button class="action-button close" onclick="closePrintWindow()"> Close</button>
          </div>
          
          <script>
            function closePrintWindow() {
              try {
                // Try to close the window
                window.close();
                
                // If window.close() doesn't work (mobile browsers), try alternatives
                setTimeout(() => {
                  if (!window.closed) {
                    // Try to navigate back or show message
                    if (window.history.length > 1) {
                      window.history.back();
                    } else {
                      // Show message for user to manually close
                      alert('Please close this tab/window manually to return to the collection page.');
                    }
                  }
                }, 100);
              } catch (error) {
                // Fallback: show message
                alert('Please close this tab/window manually to return to the collection page.');
              }
            }
          <\/script>
        </body>
        </html>
      `,ee.document.write(Ne),ee.document.close(),ee.onload=()=>{setTimeout(()=>{ee.addEventListener("beforeunload",()=>{})},250)},n({title:"Print Page Ready",description:"Print page opened. Use the buttons at the bottom to print or close. On mobile, you may need to manually close the tab."})}catch(ee){console.error("Error printing collection page:",ee),n({variant:"destructive",title:"Print Error",description:"Failed to generate print view. Please try again."})}},at=()=>{try{const ee=new dt("landscape"),Se=new Date,ge=Se.toISOString().split("T")[0],je=Bn(Se,"dd/MM/yyyy");ee.setFont("helvetica","bold"),ee.setFontSize(18),ee.text("Payment Collection Report",20,20),ee.setFont("helvetica","normal"),ee.setFontSize(12),ee.text(`Date: ${je}`,20,30);const ve=oe();let Ne=45;ee.setFont("helvetica","bold"),ee.setFontSize(14),ee.text("Today's Collection Summary",20,Ne),Ne+=10,ee.setFont("helvetica","normal"),ee.setFontSize(10);const Ee=[["Metric","Value"],["Total Collected",ve.totalCollected.toFixed(2)],["Customers Paid EMI",ve.customersPaidEMI.toString()],["Scheduled for Collection",ve.scheduledCount.toString()],["Paid Less than EMI",ve.customersPaidLess.toString()],["Paid More than EMI",ve.customersPaidMore.toString()],["Pending Collection for Today",`${ve.pendingCollectionAmount.toFixed(2)} (${ve.pendingCustomersCount})`],["Today's Loan Disbursement",ve.todayDisbursement.toFixed(2)]],et=Ne,Fe=8,Ye=80;Ee.forEach((He,Ie)=>{const Ze=et+Ie*Fe;Ie===0?(ee.setFillColor(240,240,240),ee.rect(20,Ze,Ye,Fe,"F"),ee.setFont("helvetica","bold")):ee.setFont("helvetica","normal"),ee.rect(20,Ze,Ye,Fe),ee.rect(100,Ze,Ye,Fe),ee.text(He[0],22,Ze+5),ee.text(He[1],102,Ze+5)}),Ne=et+Ee.length*Fe+15;const ht=G();if(ht.length>0){ee.setFont("helvetica","bold"),ee.setFontSize(14),ee.text("Collected Customers Details",20,Ne),Ne+=15;const He=["Customer Name","Mobile No","Date of Loan","Loan Amount","EMI Amount","Running Week","EMIs Paid","EMI Scheduled","Total EMI Paid","Today's Collected","Outstanding","Status"],Ie=[30,22,22,22,20,16,14,20,20,20,20,16],Ze=20,At=180-Ne,Xe=ht.length+1,ut=6,St=12,vt=Math.max(ut,Math.min(St,At/Xe));ee.setFont("helvetica","bold"),ee.setFontSize(8);let nt=Ze;He.forEach((Vt,Dt)=>{ee.setFillColor(240,240,240),ee.rect(nt,Ne,Ie[Dt],vt,"F"),ee.rect(nt,Ne,Ie[Dt],vt);const ot=Ie[Dt]-4,Ct=ye(ee,Vt,ot,8),yt=Ct.length*3,Nt=Ne+(vt-yt)/2+2;Ct.forEach((bt,Ot)=>{const Je=ee.getTextWidth(bt),nn=nt+(Ie[Dt]-Je)/2;ee.text(bt,nn,Nt+Ot*3)}),nt+=Ie[Dt]}),Ne+=vt,ee.setFont("helvetica","normal"),ee.setFontSize(7);let Ut=vt;if(ht.forEach((Vt,Dt)=>{var zn;if(Ne+Ut>180){ee.addPage("landscape"),Ne=20;const En=180-Ne,Qr=ht.length-Dt;Ut=Math.max(ut,Math.min(St,En/(Qr+1))),ee.setFont("helvetica","bold"),ee.setFontSize(8),nt=Ze,He.forEach((us,Dn)=>{ee.setFillColor(240,240,240),ee.rect(nt,Ne,Ie[Dn],Ut,"F"),ee.rect(nt,Ne,Ie[Dn],Ut);const ds=Ie[Dn]-4,hs=ye(ee,us,ds,8),Cs=hs.length*3,fs=Ne+(Ut-Cs)/2+2;hs.forEach(($i,Xs)=>{const ma=ee.getTextWidth($i),Za=nt+(Ie[Dn]-ma)/2;ee.text($i,Za,fs+Xs*3)}),nt+=Ie[Dn]}),Ne+=Ut,ee.setFont("helvetica","normal"),ee.setFontSize(7)}const ot=((zn=Vt.loans)==null?void 0:zn.filter(En=>En.is_active))||[],Ct=ot[0],yt=$(Vt),Nt=te(Vt),bt=Z(Vt),Ot=Ct!=null&&Ct.loan_date?new Date(Ct.loan_date):new Date,Je=Math.floor((Se.getTime()-Ot.getTime())/(7*24*60*60*1e3))+1,nn=bt*Je,jn=yt<=0?"Closed":"Active",an=ot.reduce((En,Qr)=>{const us=c.filter(Dn=>Dn.loan_id===Qr.id&&Dn.payment_date===ge);return En+us.reduce((Dn,ds)=>Dn+ds.amount,0)},0),wn=Vt.payment_day?`${Vt.name} (${Vt.payment_day})`:Vt.name,ln=[wn.length>20?wn.substring(0,17)+"...":wn,Vt.phone||"N/A",Bn(Ot,"dd/MM/yy"),((Ct==null?void 0:Ct.principal_amount)||0).toFixed(0),bt.toFixed(0),Je.toString(),ie(Vt).toString(),nn.toString(),Nt.toFixed(0),an.toFixed(0),yt.toFixed(0),jn];nt=Ze,ln.forEach((En,Qr)=>{ee.rect(nt,Ne,Ie[Qr],Ut);const us=ee.getTextWidth(En),Dn=nt+(Ie[Qr]-us)/2;ee.text(En,Dn,Ne+Ut/2+2),nt+=Ie[Qr]}),Ne+=Ut}),ht.length>0){Ne+Ut>180&&(ee.addPage("landscape"),Ne=20,Ut=ut);const Vt=ht.reduce((bt,Ot)=>{var jn;const nn=(((jn=Ot.loans)==null?void 0:jn.filter(an=>an.is_active))||[])[0];return bt+((nn==null?void 0:nn.principal_amount)||0)},0),Dt=ht.reduce((bt,Ot)=>bt+Z(Ot),0),ot=ht.reduce((bt,Ot)=>bt+te(Ot),0),Ct=ht.reduce((bt,Ot)=>bt+$(Ot),0),yt=ht.reduce((bt,Ot)=>{var nn;const Je=((nn=Ot.loans)==null?void 0:nn.filter(jn=>jn.is_active))||[];return bt+Je.reduce((jn,an)=>{const wn=c.filter(ln=>ln.loan_id===an.id&&ln.payment_date===ge);return jn+wn.reduce((ln,zn)=>ln+zn.amount,0)},0)},0),Nt=["TOTAL","","",Vt.toFixed(0),Dt.toFixed(0),"","","",ot.toFixed(0),yt.toFixed(0),Ct.toFixed(0),""];ee.setFont("helvetica","bold"),ee.setFontSize(7),nt=Ze,Nt.forEach((bt,Ot)=>{if(ee.setFillColor(220,220,220),ee.rect(nt,Ne,Ie[Ot],Ut,"F"),ee.rect(nt,Ne,Ie[Ot],Ut),bt){const Je=ee.getTextWidth(bt),nn=nt+(Ie[Ot]-Je)/2;ee.text(bt,nn,Ne+Ut/2+2)}nt+=Ie[Ot]}),Ne+=Ut}}const ft=ee.getNumberOfPages();for(let He=1;He<=ft;He++)ee.setPage(He),ee.setFont("helvetica","normal"),ee.setFontSize(8),ee.text(`Generated on: ${Bn(ge,"dd/MM/yyyy HH:mm")}`,20,200),ee.text(`Page ${He} of ${ft}`,250,200);const Qe=`collection-report-${Bn(ge,"dd-MM-yyyy")}.pdf`;ee.save(Qe),n({title:"PDF Generated",description:"Collection report has been downloaded as PDF."})}catch(ee){console.error("Error generating PDF:",ee),n({variant:"destructive",title:"Error",description:"Failed to generate PDF report"})}};return d?a.jsx("div",{className:"container mx-auto p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading customers..."})]})})}):a.jsxs("div",{className:"container mx-auto p-4 sm:p-6 space-y-4 sm:space-y-6 max-w-full overflow-hidden",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:hidden space-y-2",children:[a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsxs(Re,{variant:"outline",onClick:_e,disabled:!Te(),title:Te()?"Share Collection Report via WhatsApp, SMS, etc.":"Please confirm all collected transactions before sharing",className:"flex-shrink-0",children:[a.jsx(U5,{className:"h-4 w-4 mr-2"}),"Share"]}),a.jsxs(Re,{variant:"outline",onClick:J,disabled:!Te(),title:Te()?"Print Collection Report":"Please confirm all collected transactions before printing",className:"flex-shrink-0",children:[a.jsx(B5,{className:"h-4 w-4 mr-2"}),"Print"]}),a.jsxs(Re,{variant:"outline",onClick:at,disabled:!Te(),title:Te()?"Download Payment Collection Report":"Please confirm all collected transactions before downloading PDF",className:"flex-shrink-0",children:[a.jsx(ol,{className:"h-4 w-4 mr-2"}),"PDF"]}),a.jsx(Re,{variant:"outline",onClick:()=>r(-1),className:"flex-shrink-0",children:"Back"})]}),!Te()&&G().length>0&&a.jsx("p",{className:"text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded",children:" Confirm all collected transactions to enable Print, Share, and PDF download"})]}),a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(Wv,{className:"h-6 w-6 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:"Payment Collection"})]}),(e||i)&&a.jsxs("p",{className:"text-muted-foreground mt-1 truncate",children:["Collecting payments for ",M[e||i]]})]}),a.jsxs("div",{className:"hidden sm:flex flex-col items-end gap-2 flex-shrink-0",children:[a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsxs(Re,{variant:"outline",onClick:_e,disabled:!Te(),title:Te()?"Share Collection Report via WhatsApp, SMS, etc.":"Please confirm all collected transactions before sharing",className:"flex-shrink-0",children:[a.jsx(U5,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Share"}),a.jsx("span",{className:"sm:hidden",children:"Share"})]}),a.jsxs(Re,{variant:"outline",onClick:J,disabled:!Te(),title:Te()?"Print Collection Report":"Please confirm all collected transactions before printing",className:"flex-shrink-0",children:[a.jsx(B5,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Print"}),a.jsx("span",{className:"sm:hidden",children:"Print"})]}),a.jsxs(Re,{variant:"outline",onClick:at,disabled:!Te(),title:Te()?"Download Payment Collection Report":"Please confirm all collected transactions before downloading PDF",className:"flex-shrink-0",children:[a.jsx(ol,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Download PDF"}),a.jsx("span",{className:"sm:hidden",children:"PDF"})]}),a.jsx(Re,{variant:"outline",onClick:()=>r(-1),className:"flex-shrink-0",children:"Back"})]}),!Te()&&G().length>0&&a.jsx("p",{className:"text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded text-right",children:" Confirm all collected transactions to enable Print, Share, and PDF download"})]})]})]}),a.jsx(mt,{children:a.jsx(gt,{className:"p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx($5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(Ge,{placeholder:"Search customers by name, phone, address, or payment day...",value:m,onChange:ee=>h(ee.target.value),className:"pl-10"})]})})}),a.jsxs(qo,{value:b,onValueChange:v,className:"w-full",children:[a.jsxs(Ba,{className:"grid w-full grid-cols-2",children:[a.jsxs(Wn,{value:"scheduled",children:["Scheduled Collection (",ae().length,")"]}),a.jsxs(Wn,{value:"collected",children:["Collected (",G().length,")"]})]}),a.jsx(Fn,{value:"scheduled",className:"space-y-4",children:a.jsx("div",{className:"grid gap-4",children:ae().length>0?ae().map(ee=>{var Ne;const Se=$(ee),ge=Z(ee),je=((Ne=ee.loans)==null?void 0:Ne.filter(Ee=>Ee.is_active))||[],ve=de(ee.id);return a.jsx(mt,{className:"hover:shadow-md transition-shadow overflow-hidden",children:a.jsx(gt,{className:"p-4 overflow-hidden",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"flex items-center gap-3 mb-2",children:a.jsxs("h3",{className:"font-semibold text-lg truncate",children:[ee.name,ee.payment_day&&a.jsxs("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:["(",M[ee.payment_day.toLowerCase()]||ee.payment_day,")"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[ee.phone&&a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(dg,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:ee.phone})]}),ee.address&&a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(sf,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:ee.address})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hg,{className:"h-4 w-4 flex-shrink-0"}),a.jsxs("span",{children:[je.length," active loan",je.length!==1?"s":""]})]})]})]}),a.jsxs("div",{className:"text-right space-y-2 min-w-0 flex-shrink-0",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-green-600 truncate",children:["Outstanding: ",V(Se)]}),ge>0&&a.jsxs("p",{className:"text-sm font-medium text-purple-600 truncate",children:["EMI: ",V(ge)]})]}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx(Re,{size:"sm",variant:"outline",onClick:()=>r(`/customers/${ee.id}`),className:"flex-shrink-0",children:a.jsx(mc,{className:"h-4 w-4"})}),a.jsxs(Re,{size:"sm",onClick:()=>W(ee.id),className:"bg-green-600 hover:bg-green-700 flex-shrink-0",children:[a.jsx(hi,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:k[ee.id]?"Hide Form":"Collect Payment"}),a.jsx("span",{className:"sm:hidden",children:k[ee.id]?"Hide":"Collect"})]})]})]})]}),k[ee.id]&&a.jsxs("div",{className:"border-t pt-4 space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[a.jsxs("div",{children:[a.jsx(Oe,{htmlFor:`amount-${ee.id}`,children:"Amount ()"}),a.jsx(Ge,{id:`amount-${ee.id}`,type:"number",step:"0.01",placeholder:"Enter amount",value:ve.amount,onChange:Ee=>U(ee.id,"amount",Ee.target.value,Se),className:A[ee.id]?"border-red-500":""}),A[ee.id]&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:A[ee.id]})]}),a.jsxs("div",{children:[a.jsx(Oe,{htmlFor:`type-${ee.id}`,children:"Payment Type"}),a.jsxs(yn,{value:ve.transaction_type,onValueChange:Ee=>U(ee.id,"transaction_type",Ee),children:[a.jsx(pn,{children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"principal",children:"Principal"}),a.jsx(ze,{value:"interest",children:"Interest"}),a.jsx(ze,{value:"mixed",children:"Mixed"})]})]})]}),a.jsxs("div",{children:[a.jsx(Oe,{htmlFor:`mode-${ee.id}`,children:"Payment Mode"}),a.jsxs(yn,{value:ve.payment_mode,onValueChange:Ee=>U(ee.id,"payment_mode",Ee),children:[a.jsx(pn,{children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"cash",children:"Cash"}),a.jsx(ze,{value:"bank",children:"Bank"})]})]})]}),a.jsxs("div",{children:[a.jsx(Oe,{htmlFor:`notes-${ee.id}`,children:"Notes (Optional)"}),a.jsx(Ge,{id:`notes-${ee.id}`,placeholder:"Add notes...",value:ve.notes,onChange:Ee=>U(ee.id,"notes",Ee.target.value)})]})]}),a.jsxs(Re,{onClick:()=>O(ee),className:"w-full",disabled:!ve.amount||!!A[ee.id],children:[a.jsx(hi,{className:"h-4 w-4 mr-2"}),"Submit Payment"]})]})]})})},ee.id)}):a.jsx(mt,{children:a.jsxs(gt,{className:"p-8 text-center",children:[a.jsx($5,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:m?"No customers found matching your search.":"No customers scheduled for collection."})]})})})}),a.jsxs(Fn,{value:"collected",className:"space-y-4",children:[a.jsxs(mt,{children:[a.jsx($t,{children:a.jsxs(zt,{className:"flex items-center gap-2",children:[a.jsx(Wv,{className:"h-5 w-5"}),"Today's Collection Summary"]})}),a.jsx(gt,{children:(()=>{const ee=oe();return a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("div",{className:"text-2xl font-bold text-green-700",children:V(ee.totalCollected)}),a.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Today's Collected"})]}),a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-700",children:ee.customersPaidEMI}),a.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Customers Paid EMI"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-700",children:ee.scheduledCount}),a.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Scheduled for Collection"})]}),a.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-700",children:ee.customersPaidLess}),a.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"Paid Less than EMI"})]}),a.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:ee.customersPaidMore}),a.jsx("div",{className:"text-sm text-yellow-600 font-medium",children:"Paid More than EMI"})]}),a.jsxs("div",{className:"text-center p-3 bg-indigo-50 rounded-lg border border-indigo-200",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-700",children:V(ee.todayDisbursement)}),a.jsx("div",{className:"text-sm text-indigo-600 font-medium",children:"Today's Loan Disbursement"})]})]})})()})]}),a.jsx("div",{className:"grid gap-4",children:G().length>0?G().map(ee=>{var et;const Se=$(ee),ge=Z(ee),je=((et=ee.loans)==null?void 0:et.filter(Fe=>Fe.is_active))||[],ve=new Date().toISOString().split("T")[0],Ne=je.flatMap(Fe=>c.filter(Ye=>Ye.loan_id===Fe.id&&Ye.payment_date===ve)),Ee=Ne.reduce((Fe,Ye)=>Fe+Ye.amount,0);return a.jsx(mt,{className:"hover:shadow-md transition-shadow border-green-200 overflow-hidden",children:a.jsx(gt,{className:"p-4 overflow-hidden",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[a.jsxs("h3",{className:"font-semibold text-lg truncate",children:[ee.name,ee.payment_day&&a.jsxs("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:["(",M[ee.payment_day.toLowerCase()]||ee.payment_day,")"]})]}),a.jsx(Un,{variant:"outline",className:"bg-green-100 text-green-800 flex-shrink-0",children:"Collected Today"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[ee.phone&&a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(dg,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:ee.phone})]}),ee.address&&a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(sf,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:ee.address})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hg,{className:"h-4 w-4 flex-shrink-0"}),a.jsxs("span",{children:[je.length," active loan",je.length!==1?"s":""]})]})]})]}),a.jsxs("div",{className:"text-right space-y-2 min-w-0 flex-shrink-0",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-green-600 truncate",children:["Collected Today: ",V(Ee)]}),a.jsxs("p",{className:"text-sm font-medium text-blue-600 truncate",children:["Outstanding: ",V(Se)]}),ge>0&&a.jsxs("p",{className:"text-sm font-medium text-purple-600 truncate",children:["EMI: ",V(ge)]})]}),a.jsx(Re,{size:"sm",variant:"outline",onClick:()=>r(`/customers/${ee.id}`),className:"flex-shrink-0",children:a.jsx(mc,{className:"h-4 w-4"})})]})]}),Ne.length>0&&a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Today's Payments:"}),a.jsx("div",{className:"space-y-2",children:Ne.map((Fe,Ye)=>{var Qe;const ht=(Qe=x[ee.id])==null?void 0:Qe[Fe.id],ft=ht?x[ee.id][Fe.id]:null;return a.jsx("div",{className:"p-3 bg-green-50 rounded border",children:ht?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx(Oe,{htmlFor:`edit-amount-${Fe.id}`,className:"text-xs",children:"Amount"}),a.jsx(Ge,{id:`edit-amount-${Fe.id}`,type:"number",step:"0.01",value:ft.amount,onChange:He=>Y(ee.id,Fe.id,"amount",He.target.value),className:"h-8"})]}),a.jsxs("div",{children:[a.jsx(Oe,{htmlFor:`edit-type-${Fe.id}`,className:"text-xs",children:"Type"}),a.jsxs(yn,{value:ft.transaction_type,onValueChange:He=>Y(ee.id,Fe.id,"transaction_type",He),children:[a.jsx(pn,{className:"h-8",children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"principal",children:"Principal"}),a.jsx(ze,{value:"interest",children:"Interest"}),a.jsx(ze,{value:"mixed",children:"Mixed"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx(Oe,{htmlFor:`edit-mode-${Fe.id}`,className:"text-xs",children:"Mode"}),a.jsxs(yn,{value:ft.payment_mode,onValueChange:He=>Y(ee.id,Fe.id,"payment_mode",He),children:[a.jsx(pn,{className:"h-8",children:a.jsx(xn,{})}),a.jsxs(mn,{children:[a.jsx(ze,{value:"cash",children:"Cash"}),a.jsx(ze,{value:"bank",children:"Bank"})]})]})]}),a.jsxs("div",{children:[a.jsx(Oe,{htmlFor:`edit-notes-${Fe.id}`,className:"text-xs",children:"Notes"}),a.jsx(Ge,{id:`edit-notes-${Fe.id}`,value:ft.notes,onChange:He=>Y(ee.id,Fe.id,"notes",He.target.value),className:"h-8",placeholder:"Add notes..."})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Re,{size:"sm",onClick:()=>pe(ee.id,Fe.id),className:"h-8",children:"Save"}),a.jsx(Re,{size:"sm",variant:"outline",onClick:()=>ue(ee.id,Fe.id),className:"h-8",children:"Cancel"})]})]}):a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:V(Fe.amount)}),a.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",Fe.transaction_type," - ",Fe.payment_mode,")"]}),Fe.notes&&a.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:Fe.notes})]}),L[Fe.id]&&a.jsx(Un,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Confirmed"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Dw,{id:`confirm-${Fe.id}`,checked:L[Fe.id]||!1,onCheckedChange:He=>T(ee.id,Fe.id,He),disabled:L[Fe.id]}),a.jsx(Oe,{htmlFor:`confirm-${Fe.id}`,className:"text-xs text-muted-foreground cursor-pointer",children:"Confirm"})]}),a.jsx(Re,{size:"sm",variant:"outline",onClick:()=>le(ee.id,Fe),className:"h-8",disabled:L[Fe.id],children:a.jsx(pl,{className:"h-3 w-3"})})]})]})},Ye)})})]})]})})},ee.id)}):a.jsx(mt,{children:a.jsxs(gt,{className:"p-8 text-center",children:[a.jsx(Wv,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No payments collected today."})]})})})]})]})]})},UG=Cc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),w6=_.forwardRef(({className:e,variant:t,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:qe(UG({variant:t}),e),...n}));w6.displayName="Alert";const zG=_.forwardRef(({className:e,...t},n)=>a.jsx("h5",{ref:n,className:qe("mb-1 font-medium leading-none tracking-tight",e),...t}));zG.displayName="AlertTitle";const b6=_.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:qe("text-sm [&_p]:leading-relaxed",e),...t}));b6.displayName="AlertDescription";const qG=()=>{const{user:e}=vn(),{toast:t}=Nn(),n=Qa();Oi();const[r,s]=_.useState(""),[i,o]=_.useState(""),[l,c]=_.useState("");_.useState(!1);const[u,d]=_.useState(!1),[p,m]=_.useState(!1),[h,b]=_.useState(!1),[v,w]=_.useState(!0),[y,x]=_.useState("employee"),[S,k]=_.useState(!1);_.useEffect(()=>{e?(D(),A()):w(!1)},[e]);const D=async()=>{if(e)try{const{data:L,error:C}=await Ue.rpc("get_user_role",{user_id_param:e.id});C?(console.error("Error fetching user role:",C),x("employee")):x(L||"employee")}catch(L){console.error("Error in fetchUserRole:",L),x("employee")}finally{w(!1)}},A=async()=>{try{const{data:L,error:C}=await Ue.from("settings_access_password").select("id").eq("is_active",!0).single();C&&C.code!=="PGRST116"?console.error("Error checking password existence:",C):k(!!L)}catch(L){console.error("Error in checkPasswordExists:",L)}},R=async()=>{if(!(!e||h)){if(!i.trim()){t({title:"Validation Error",description:"New password is required",variant:"destructive"});return}if(i!==l){t({title:"Validation Error",description:"New password and confirmation do not match",variant:"destructive"});return}if(i.length<3){t({title:"Validation Error",description:"Password must be at least 3 characters long",variant:"destructive"});return}b(!0);try{const L=i;if(S){const{error:C}=await Ue.from("settings_access_password").update({password_hash:L,updated_at:new Date().toISOString()}).eq("is_active",!0);if(C)throw C}else{const{error:C}=await Ue.from("settings_access_password").insert({password_hash:L,created_by:e.id,is_active:!0});if(C)throw C}t({title:"Success",description:"Settings access password updated successfully"}),s(""),o(""),c(""),k(!0)}catch(L){console.error("Error updating password:",L),t({title:"Error",description:L.message||"Failed to update password",variant:"destructive"})}finally{b(!1)}}};return v?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):y!=="admin"?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(Uy,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"You don't have permission to access the Password Management page. This page is only available for administrators."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Re,{onClick:()=>n("/"),className:"w-full",children:[a.jsx(al,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("p",{children:["Current role: ",a.jsx("span",{className:"font-medium capitalize",children:y})]}),a.jsxs("p",{children:["Required role: ",a.jsx("span",{className:"font-medium",children:"admin"})]})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"flex items-center gap-4 mb-4",children:a.jsxs(Re,{variant:"outline",size:"sm",onClick:()=>n("/settings"),className:"flex items-center gap-2",children:[a.jsx(al,{className:"h-4 w-4"}),"Back to Settings"]})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx($y,{className:"h-8 w-8 text-primary"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Password Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage the settings page access password"})]})]})]}),a.jsx("div",{className:"max-w-2xl space-y-6",children:a.jsxs(mt,{children:[a.jsxs($t,{children:[a.jsxs(zt,{className:"flex items-center gap-2",children:[a.jsx(Ux,{className:"h-5 w-5"}),"Settings Access Password"]}),a.jsx(za,{children:"Set or change the password required for non-admin users to access the Settings page"})]}),a.jsxs(gt,{className:"space-y-6",children:[a.jsxs(w6,{children:[a.jsx(Uy,{className:"h-4 w-4"}),a.jsxs(b6,{children:[a.jsx("strong",{children:"Admin Access:"})," Administrators can access the Settings page without entering a password.",a.jsx("br",{}),a.jsx("strong",{children:"Other Users:"})," Must enter the password set here to access the Settings page."]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"new-password",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ge,{id:"new-password",type:u?"text":"password",placeholder:"Enter new password",value:i,onChange:L=>o(L.target.value),disabled:h}),a.jsx(Re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>d(!u),disabled:h,children:u?a.jsx(F5,{className:"h-4 w-4"}):a.jsx(mc,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Oe,{htmlFor:"confirm-password",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ge,{id:"confirm-password",type:p?"text":"password",placeholder:"Confirm new password",value:l,onChange:L=>c(L.target.value),disabled:h}),a.jsx(Re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>m(!p),disabled:h,children:p?a.jsx(F5,{className:"h-4 w-4"}):a.jsx(mc,{className:"h-4 w-4"})})]})]}),a.jsx(Re,{onClick:R,disabled:h||!i.trim()||!l.trim(),className:"w-full",children:h?"Updating...":S?"Update Password":"Set Password"})]}),a.jsx("div",{className:"pt-4 border-t",children:a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Current Status:"})," ",S?"Password is set":"No password set"]}),a.jsxs("p",{className:"mt-1",children:[a.jsx("strong",{children:"Last Updated:"})," ",S?"Available":"Not applicable"]})]})})]})]})})]})})},WG=()=>{const e=md();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},HG=new c7,mh=({children:e})=>{const{user:t,loading:n}=vn();return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(o0,{to:"/auth",replace:!0})},VG=({children:e})=>{const{user:t,loading:n}=vn();return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):t?a.jsx(o0,{to:"/",replace:!0}):a.jsx(a.Fragment,{children:e})},GG=()=>(U9(),a.jsxs(Z7,{children:[a.jsx(jo,{path:"/",element:a.jsx(mh,{children:a.jsx(gG,{})})}),a.jsx(jo,{path:"/settings",element:a.jsx(mh,{children:a.jsx(TG,{})})}),a.jsx(jo,{path:"/profile",element:a.jsx(mh,{children:a.jsx(IG,{})})}),a.jsx(jo,{path:"/auth",element:a.jsx(VG,{children:a.jsx(FG,{})})}),a.jsx(jo,{path:"/collection",element:a.jsx(mh,{children:a.jsx($G,{})})}),a.jsx(jo,{path:"/password-management",element:a.jsx(mh,{children:a.jsx(qG,{})})}),a.jsx(jo,{path:"*",element:a.jsx(WG,{})})]})),KG=()=>a.jsx(d7,{client:HG,children:a.jsx(P9,{children:a.jsx(L9,{children:a.jsxs(jE,{children:[a.jsx(bR,{}),a.jsx(ZR,{}),a.jsx(rM,{children:a.jsx(GG,{})})]})})})});e3(document.getElementById("root")).render(a.jsx(KG,{}));export{yC as W,fn as _,Rr as c,$N as g};
